(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function O1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S_={exports:{}},Bh={};var xE;function sN(){if(xE)return Bh;xE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Bh.Fragment=e,Bh.jsx=n,Bh.jsxs=n,Bh}var AE;function aN(){return AE||(AE=1,S_.exports=sN()),S_.exports}var b=aN(),T_={exports:{}},lt={};var CE;function oN(){if(CE)return lt;CE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function I($){return $===null||typeof $!="object"?null:($=C&&$[C]||$["@@iterator"],typeof $=="function"?$:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,W={};function ue($,Y,ge){this.props=$,this.context=Y,this.refs=W,this.updater=ge||H}ue.prototype.isReactComponent={},ue.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},ue.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function X(){}X.prototype=ue.prototype;function re($,Y,ge){this.props=$,this.context=Y,this.refs=W,this.updater=ge||H}var K=re.prototype=new X;K.constructor=re,M(K,ue.prototype),K.isPureReactComponent=!0;var ne=Array.isArray;function le(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function z($,Y,ge){var _e=ge.ref;return{$$typeof:t,type:$,key:Y,ref:_e!==void 0?_e:null,props:ge}}function V($,Y){return z($.type,Y,$.props)}function F($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function B($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return Y[ge]})}var j=/\/+/g;function Ae($,Y){return typeof $=="object"&&$!==null&&$.key!=null?B(""+$.key):Y.toString(36)}function qe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(le,le):($.status="pending",$.then(function(Y){$.status==="pending"&&($.status="fulfilled",$.value=Y)},function(Y){$.status==="pending"&&($.status="rejected",$.reason=Y)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function te($,Y,ge,_e,Ie){var Le=typeof $;(Le==="undefined"||Le==="boolean")&&($=null);var Qe=!1;if($===null)Qe=!0;else switch(Le){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch($.$$typeof){case t:case e:Qe=!0;break;case S:return Qe=$._init,te(Qe($._payload),Y,ge,_e,Ie)}}if(Qe)return Ie=Ie($),Qe=_e===""?"."+Ae($,0):_e,ne(Ie)?(ge="",Qe!=null&&(ge=Qe.replace(j,"$&/")+"/"),te(Ie,Y,ge,"",function(Rn){return Rn})):Ie!=null&&(F(Ie)&&(Ie=V(Ie,ge+(Ie.key==null||$&&$.key===Ie.key?"":(""+Ie.key).replace(j,"$&/")+"/")+Qe)),Y.push(Ie)),1;Qe=0;var nt=_e===""?".":_e+":";if(ne($))for(var Pt=0;Pt<$.length;Pt++)_e=$[Pt],Le=nt+Ae(_e,Pt),Qe+=te(_e,Y,ge,Le,Ie);else if(Pt=I($),typeof Pt=="function")for($=Pt.call($),Pt=0;!(_e=$.next()).done;)_e=_e.value,Le=nt+Ae(_e,Pt++),Qe+=te(_e,Y,ge,Le,Ie);else if(Le==="object"){if(typeof $.then=="function")return te(qe($),Y,ge,_e,Ie);throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function de($,Y,ge){if($==null)return $;var _e=[],Ie=0;return te($,_e,"","",function(Le){return Y.call(ge,Le,Ie++)}),_e}function ve($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var Ze=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ke={map:de,forEach:function($,Y,ge){de($,function(){Y.apply(this,arguments)},ge)},count:function($){var Y=0;return de($,function(){Y++}),Y},toArray:function($){return de($,function(Y){return Y})||[]},only:function($){if(!F($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return lt.Activity=E,lt.Children=ke,lt.Component=ue,lt.Fragment=n,lt.Profiler=a,lt.PureComponent=re,lt.StrictMode=i,lt.Suspense=_,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,lt.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},lt.cache=function($){return function(){return $.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function($,Y,ge){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var _e=M({},$.props),Ie=$.key;if(Y!=null)for(Le in Y.key!==void 0&&(Ie=""+Y.key),Y)!O.call(Y,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&Y.ref===void 0||(_e[Le]=Y[Le]);var Le=arguments.length-2;if(Le===1)_e.children=ge;else if(1<Le){for(var Qe=Array(Le),nt=0;nt<Le;nt++)Qe[nt]=arguments[nt+2];_e.children=Qe}return z($.type,Ie,_e)},lt.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},lt.createElement=function($,Y,ge){var _e,Ie={},Le=null;if(Y!=null)for(_e in Y.key!==void 0&&(Le=""+Y.key),Y)O.call(Y,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ie[_e]=Y[_e]);var Qe=arguments.length-2;if(Qe===1)Ie.children=ge;else if(1<Qe){for(var nt=Array(Qe),Pt=0;Pt<Qe;Pt++)nt[Pt]=arguments[Pt+2];Ie.children=nt}if($&&$.defaultProps)for(_e in Qe=$.defaultProps,Qe)Ie[_e]===void 0&&(Ie[_e]=Qe[_e]);return z($,Le,Ie)},lt.createRef=function(){return{current:null}},lt.forwardRef=function($){return{$$typeof:d,render:$}},lt.isValidElement=F,lt.lazy=function($){return{$$typeof:S,_payload:{_status:-1,_result:$},_init:ve}},lt.memo=function($,Y){return{$$typeof:y,type:$,compare:Y===void 0?null:Y}},lt.startTransition=function($){var Y=P.T,ge={};P.T=ge;try{var _e=$(),Ie=P.S;Ie!==null&&Ie(ge,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(le,Ze)}catch(Le){Ze(Le)}finally{Y!==null&&ge.types!==null&&(Y.types=ge.types),P.T=Y}},lt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},lt.use=function($){return P.H.use($)},lt.useActionState=function($,Y,ge){return P.H.useActionState($,Y,ge)},lt.useCallback=function($,Y){return P.H.useCallback($,Y)},lt.useContext=function($){return P.H.useContext($)},lt.useDebugValue=function(){},lt.useDeferredValue=function($,Y){return P.H.useDeferredValue($,Y)},lt.useEffect=function($,Y){return P.H.useEffect($,Y)},lt.useEffectEvent=function($){return P.H.useEffectEvent($)},lt.useId=function(){return P.H.useId()},lt.useImperativeHandle=function($,Y,ge){return P.H.useImperativeHandle($,Y,ge)},lt.useInsertionEffect=function($,Y){return P.H.useInsertionEffect($,Y)},lt.useLayoutEffect=function($,Y){return P.H.useLayoutEffect($,Y)},lt.useMemo=function($,Y){return P.H.useMemo($,Y)},lt.useOptimistic=function($,Y){return P.H.useOptimistic($,Y)},lt.useReducer=function($,Y,ge){return P.H.useReducer($,Y,ge)},lt.useRef=function($){return P.H.useRef($)},lt.useState=function($){return P.H.useState($)},lt.useSyncExternalStore=function($,Y,ge){return P.H.useSyncExternalStore($,Y,ge)},lt.useTransition=function(){return P.H.useTransition()},lt.version="19.2.4",lt}var RE;function ip(){return RE||(RE=1,T_.exports=oN()),T_.exports}var U=ip();const Je=O1(U);var x_={exports:{}},Fh={},A_={exports:{}},C_={};var IE;function lN(){return IE||(IE=1,(function(t){function e(te,de){var ve=te.length;te.push(de);e:for(;0<ve;){var Ze=ve-1>>>1,ke=te[Ze];if(0<a(ke,de))te[Ze]=de,te[ve]=ke,ve=Ze;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var de=te[0],ve=te.pop();if(ve!==de){te[0]=ve;e:for(var Ze=0,ke=te.length,$=ke>>>1;Ze<$;){var Y=2*(Ze+1)-1,ge=te[Y],_e=Y+1,Ie=te[_e];if(0>a(ge,ve))_e<ke&&0>a(Ie,ge)?(te[Ze]=Ie,te[_e]=ve,Ze=_e):(te[Ze]=ge,te[Y]=ve,Ze=Y);else if(_e<ke&&0>a(Ie,ve))te[Ze]=Ie,te[_e]=ve,Ze=_e;else break e}}return de}function a(te,de){var ve=te.sortIndex-de.sortIndex;return ve!==0?ve:te.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var _=[],y=[],S=1,E=null,C=3,I=!1,H=!1,M=!1,W=!1,ue=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function K(te){for(var de=n(y);de!==null;){if(de.callback===null)i(y);else if(de.startTime<=te)i(y),de.sortIndex=de.expirationTime,e(_,de);else break;de=n(y)}}function ne(te){if(M=!1,K(te),!H)if(n(_)!==null)H=!0,le||(le=!0,B());else{var de=n(y);de!==null&&qe(ne,de.startTime-te)}}var le=!1,P=-1,O=5,z=-1;function V(){return W?!0:!(t.unstable_now()-z<O)}function F(){if(W=!1,le){var te=t.unstable_now();z=te;var de=!0;try{e:{H=!1,M&&(M=!1,X(P),P=-1),I=!0;var ve=C;try{t:{for(K(te),E=n(_);E!==null&&!(E.expirationTime>te&&V());){var Ze=E.callback;if(typeof Ze=="function"){E.callback=null,C=E.priorityLevel;var ke=Ze(E.expirationTime<=te);if(te=t.unstable_now(),typeof ke=="function"){E.callback=ke,K(te),de=!0;break t}E===n(_)&&i(_),K(te)}else i(_);E=n(_)}if(E!==null)de=!0;else{var $=n(y);$!==null&&qe(ne,$.startTime-te),de=!1}}break e}finally{E=null,C=ve,I=!1}de=void 0}}finally{de?B():le=!1}}}var B;if(typeof re=="function")B=function(){re(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ae=j.port2;j.port1.onmessage=F,B=function(){Ae.postMessage(null)}}else B=function(){ue(F,0)};function qe(te,de){P=ue(function(){te(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(te){switch(C){case 1:case 2:case 3:var de=3;break;default:de=C}var ve=C;C=de;try{return te()}finally{C=ve}},t.unstable_requestPaint=function(){W=!0},t.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=C;C=te;try{return de()}finally{C=ve}},t.unstable_scheduleCallback=function(te,de,ve){var Ze=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ze+ve:Ze):ve=Ze,te){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ve+ke,te={id:S++,callback:de,priorityLevel:te,startTime:ve,expirationTime:ke,sortIndex:-1},ve>Ze?(te.sortIndex=ve,e(y,te),n(_)===null&&te===n(y)&&(M?(X(P),P=-1):M=!0,qe(ne,ve-Ze))):(te.sortIndex=ke,e(_,te),H||I||(H=!0,le||(le=!0,B()))),te},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(te){var de=C;return function(){var ve=C;C=de;try{return te.apply(this,arguments)}finally{C=ve}}}})(C_)),C_}var NE;function uN(){return NE||(NE=1,A_.exports=lN()),A_.exports}var R_={exports:{}},Li={};var kE;function cN(){if(kE)return Li;kE=1;var t=ip();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(_,y,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:_,containerInfo:y,implementation:S}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Li.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(_,y,null,S)},Li.flushSync=function(_){var y=c.T,S=i.p;try{if(c.T=null,i.p=2,_)return _()}finally{c.T=y,i.p=S,i.d.f()}},Li.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(_,y))},Li.prefetchDNS=function(_){typeof _=="string"&&i.d.D(_)},Li.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,E=d(S,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?i.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:I}):S==="script"&&i.d.X(_,{crossOrigin:E,integrity:C,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Li.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=d(y.as,y.crossOrigin);i.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(_)},Li.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,E=d(S,y.crossOrigin);i.d.L(_,S,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Li.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=d(y.as,y.crossOrigin);i.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(_)},Li.requestFormReset=function(_){i.d.r(_)},Li.unstable_batchedUpdates=function(_,y){return _(y)},Li.useFormState=function(_,y,S){return c.H.useFormState(_,y,S)},Li.useFormStatus=function(){return c.H.useHostTransitionStatus()},Li.version="19.2.4",Li}var PE;function D1(){if(PE)return R_.exports;PE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R_.exports=cN(),R_.exports}var LE;function hN(){if(LE)return Fh;LE=1;var t=uN(),e=ip(),n=D1();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function _(r){if(l(r)!==r)throw Error(i(188))}function y(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var u=r,f=s;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return _(g),r;if(v===f)return _(g),s;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=g,f=v;else{for(var A=!1,k=g.child;k;){if(k===u){A=!0,u=g,f=v;break}if(k===f){A=!0,f=g,u=v;break}k=k.sibling}if(!A){for(k=v.child;k;){if(k===u){A=!0,u=v,f=g;break}if(k===f){A=!0,f=v,u=g;break}k=k.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:s}function S(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=S(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function Ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case ue:return"Profiler";case W:return"StrictMode";case ne:return"Suspense";case le:return"SuspenseList";case z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case H:return"Portal";case re:return r.displayName||"Context";case X:return(r._context.displayName||"Context")+".Consumer";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return s=r.displayName||null,s!==null?s:Ae(r.type)||"Memo";case O:s=r._payload,r=r._init;try{return Ae(r(s))}catch{}}return null}var qe=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ze=[],ke=-1;function $(r){return{current:r}}function Y(r){0>ke||(r.current=Ze[ke],Ze[ke]=null,ke--)}function ge(r,s){ke++,Ze[ke]=r.current,r.current=s}var _e=$(null),Ie=$(null),Le=$(null),Qe=$(null);function nt(r,s){switch(ge(Le,s),ge(Ie,r),ge(_e,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?K0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=K0(s),r=W0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Y(_e),ge(_e,r)}function Pt(){Y(_e),Y(Ie),Y(Le)}function Rn(r){r.memoizedState!==null&&ge(Qe,r);var s=_e.current,u=W0(s,r.type);s!==u&&(ge(Ie,r),ge(_e,u))}function Xi(r){Ie.current===r&&(Y(_e),Y(Ie)),Qe.current===r&&(Y(Qe),jh._currentValue=ve)}var Ji,Sr;function er(r){if(Ji===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Ji=s&&s[1]||"",Sr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ji+r+Sr}var ws=!1;function Tr(r,s){if(!r||ws)return"";ws=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(me){var he=me}Reflect.construct(r,[],Se)}else{try{Se.call()}catch(me){he=me}r.call(Se.prototype)}}else{try{throw Error()}catch(me){he=me}(Se=r())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),A=v[0],k=v[1];if(A&&k){var Z=A.split(`
`),oe=k.split(`
`);for(g=f=0;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;for(;g<oe.length&&!oe[g].includes("DetermineComponentFrameRoot");)g++;if(f===Z.length||g===oe.length)for(f=Z.length-1,g=oe.length-1;1<=f&&0<=g&&Z[f]!==oe[g];)g--;for(;1<=f&&0<=g;f--,g--)if(Z[f]!==oe[g]){if(f!==1||g!==1)do if(f--,g--,0>g||Z[f]!==oe[g]){var ye=`
`+Z[f].replace(" at new "," at ");return r.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",r.displayName)),ye}while(1<=f&&0<=g);break}}}finally{ws=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?er(u):""}function Es(r,s){switch(r.tag){case 26:case 27:case 5:return er(r.type);case 16:return er("Lazy");case 13:return r.child!==s&&s!==null?er("Suspense Fallback"):er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Tr(r.type,!1);case 11:return Tr(r.type.render,!1);case 1:return Tr(r.type,!0);case 31:return er("Activity");default:return""}}function Wr(r){try{var s="",u=null;do s+=Es(r,u),u=r,r=r.return;while(r);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var yn=Object.prototype.hasOwnProperty,on=t.unstable_scheduleCallback,G=t.unstable_cancelCallback,se=t.unstable_shouldYield,pe=t.unstable_requestPaint,Ne=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,Ce=t.unstable_ImmediatePriority,Fe=t.unstable_UserBlockingPriority,dt=t.unstable_NormalPriority,Lt=t.unstable_LowPriority,vn=t.unstable_IdlePriority,Vi=t.log,Ui=t.unstable_setDisableYieldValue,Ai=null,ln=null;function ei(r){if(typeof Vi=="function"&&Ui(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Ai,r)}catch{}}var un=Math.clz32?Math.clz32:Ca,xr=Math.log,Ys=Math.LN2;function Ca(r){return r>>>=0,r===0?32:31-(xr(r)/Ys|0)|0}var Ar=256,Qs=262144,bn=4194304;function Yr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qr(r,s,u){var f=r.pendingLanes;if(f===0)return 0;var g=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var k=f&134217727;return k!==0?(f=k&~v,f!==0?g=Yr(f):(A&=k,A!==0?g=Yr(A):u||(u=k&~r,u!==0&&(g=Yr(u))))):(k=f&~v,k!==0?g=Yr(k):A!==0?g=Yr(A):u||(u=f&~r,u!==0&&(g=Yr(u)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,u=s&-s,v>=u||v===32&&(u&4194048)!==0)?s:g}function Cr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ih(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var r=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),r}function Xr(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Ss(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function rh(r,s,u,f,g,v){var A=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,Z=r.expirationTimes,oe=r.hiddenUpdates;for(u=A&~u;0<u;){var ye=31-un(u),Se=1<<ye;k[ye]=0,Z[ye]=-1;var he=oe[ye];if(he!==null)for(oe[ye]=null,ye=0;ye<he.length;ye++){var me=he[ye];me!==null&&(me.lane&=-536870913)}u&=~Se}f!==0&&Ra(r,f,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~s))}function Ra(r,s,u){r.pendingLanes|=s,r.suspendedLanes&=~s;var f=31-un(s);r.entangledLanes|=s,r.entanglements[f]=r.entanglements[f]|1073741824|u&261930}function Al(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var f=31-un(u),g=1<<f;g&s|r[f]&s&&(r[f]|=s),u&=~g}}function Cl(r,s){var u=s&-s;return u=(u&42)!==0?1:si(u),(u&(r.suspendedLanes|s))!==0?0:u}function si(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ue(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Rl(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:yE(r.type))}function tr(r,s){var u=de.p;try{return de.p=r,s()}finally{de.p=u}}var nr=Math.random().toString(36).slice(2),wn="__reactFiber$"+nr,In="__reactProps$"+nr,Rr="__reactContainer$"+nr,Ir="__reactEvents$"+nr,Ou="__reactListeners$"+nr,Du="__reactHandles$"+nr,Mu="__reactResources$"+nr,Jr="__reactMarker$"+nr;function _o(r){delete r[wn],delete r[In],delete r[Ir],delete r[Ou],delete r[Du]}function Nr(r){var s=r[wn];if(s)return s;for(var u=r.parentNode;u;){if(s=u[Rr]||u[wn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=nE(r);r!==null;){if(u=r[wn])return u;r=nE(r)}return s}r=u,u=r.parentNode}return null}function ir(r){if(r=r[wn]||r[Rr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function ai(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function es(r){var s=r[Mu];return s||(s=r[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nn(r){r[Jr]=!0}var Il=new Set,Nl={};function ts(r,s){rr(r,s),rr(r+"Capture",s)}function rr(r,s){for(Nl[r]=s,r=0;r<s.length;r++)Il.add(s[r])}var Ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},vo={};function Xs(r){return yn.call(vo,r)?!0:yn.call(yo,r)?!1:Ts.test(r)?vo[r]=!0:(yo[r]=!0,!1)}function vt(r,s,u){if(Xs(s))if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+u)}}function bt(r,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+u)}}function cn(r,s,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(s,u,""+f)}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Bi(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ia(r,s,u){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var g=f.get,v=f.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){u=""+A,v.call(this,A)}}),Object.defineProperty(r,s,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ze(r){if(!r._valueTracker){var s=Bi(r)?"checked":"value";r._valueTracker=Ia(r,s,""+r[s])}}function qt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return r&&(f=Bi(r)?r.checked?"true":"false":r.value),r=f,r!==u?(s.setValue(r),!0):!1}function sr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ns=/[\n"\\]/g;function tn(r){return r.replace(ns,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bo(r,s,u,f,g,v,A,k){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),s!=null?A==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+hn(s)):r.value!==""+hn(s)&&(r.value=""+hn(s)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),s!=null?kr(r,A,hn(s)):u!=null?kr(r,A,hn(u)):f!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+hn(k):r.removeAttribute("name")}function Na(r,s,u,f,g,v,A,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),s!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){ze(r);return}u=u!=null?""+hn(u):"",s=s!=null?""+hn(s):u,k||s===r.value||(r.value=s),r.defaultValue=s}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=k?r.checked:!!f,r.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A),ze(r)}function kr(r,s,u){s==="number"&&sr(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Zt(r,s,u,f){if(r=r.options,s){s={};for(var g=0;g<u.length;g++)s["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=s.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+hn(u),s=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function is(r,s,u){if(s!=null&&(s=""+hn(s),s!==r.value&&(r.value=s),u==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=u!=null?""+hn(u):""}function ar(r,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(i(92));if(qe(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=hn(s),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f),ze(r)}function Bn(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xs(r,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":f?r.setProperty(s,u):typeof u!="number"||u===0||wo.has(s)?s==="float"?r.cssFloat=u:r[s]=(""+u).trim():r[s]=u+"px"}function ka(r,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in s)f=s[g],s.hasOwnProperty(g)&&u[g]!==f&&xs(r,g,f)}else for(var v in s)s.hasOwnProperty(v)&&xs(r,v,s[v])}function Js(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(r){return rs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ci(){}var Eo=null;function Ri(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ta=null,Ye=null;function oi(r){var s=ir(r);if(s&&(r=s.stateNode)){var u=r[In]||null;e:switch(r=s.stateNode,s.type){case"input":if(bo(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+tn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==r&&f.form===r.form){var g=f[In]||null;if(!g)throw Error(i(90));bo(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===r.form&&qt(f)}break e;case"textarea":is(r,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Zt(r,!!u.multiple,s,!1)}}}var jt=!1;function As(r,s,u){if(jt)return r(s,u);jt=!0;try{var f=r(s);return f}finally{if(jt=!1,(ta!==null||Ye!==null)&&(kd(),ta&&(s=ta,r=Ye,Ye=ta=null,oi(s),r)))for(s=0;s<r.length;s++)oi(r[s])}}function Fi(r,s){var u=r.stateNode;if(u===null)return null;var f=u[In]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Ii)try{var At={};Object.defineProperty(At,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{Cs=!1}var or=null,Rs=null,fn=null;function Pr(){if(fn)return fn;var r,s=Rs,u=s.length,f,g="value"in or?or.value:or.textContent,v=g.length;for(r=0;r<u&&s[r]===g[r];r++);var A=u-r;for(f=1;f<=A&&s[u-f]===g[v-f];f++);return fn=g.slice(r,1<f?1-f:void 0)}function na(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ss(){return!0}function Lr(){return!1}function Fn(r){function s(u,f,g,v,A){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ss:Lr,this.isPropagationStopped=Lr,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),s}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Fn(Or),Is=E({},Or,{view:0,detail:0}),yt=Fn(Is),ia,li,Ni,La=E({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ni&&(Ni&&r.type==="mousemove"?(ia=r.screenX-Ni.screenX,li=r.screenY-Ni.screenY):li=ia=0,Ni=r),ia)},movementY:function(r){return"movementY"in r?r.movementY:li}}),kl=Fn(La),Ns=E({},La,{dataTransfer:0}),ju=Fn(Ns),Pl=E({},Is,{relatedTarget:0}),Oa=Fn(Pl),Ll=E({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),So=Fn(Ll),To=E({},Or,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hi=Fn(To),zu=E({},Or,{data:0}),Dr=Fn(zu),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Dl[r])?!!s[r]:!1}function ra(){return xo}var ui=E({},Is,{key:function(r){if(r.key){var s=Mr[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=na(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ol[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(r){return r.type==="keypress"?na(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?na(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ml=Fn(ui),Vu=E({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ks=Fn(Vu),m=E({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),T=Fn(m),R=E({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=Fn(R),ie=E({},La,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=Fn(ie),Pe=E({},Or,{newState:0,oldState:0}),it=Fn(Pe),Ot=[9,13,27,32],Dt=Ii&&"CompositionEvent"in window,nn=null;Ii&&"documentMode"in document&&(nn=document.documentMode);var lr=Ii&&"TextEvent"in window&&!nn,ur=Ii&&(!Dt||nn&&8<nn&&11>=nn),$i=" ",jr=!1;function Da(r,s){switch(r){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ao=!1;function zr(r,s){switch(r){case"compositionend":return Ma(s);case"keypress":return s.which!==32?null:(jr=!0,$i);case"textInput":return r=s.data,r===$i&&jr?null:r;default:return null}}function Co(r,s){if(Ao)return r==="compositionend"||!Dt&&Da(r,s)?(r=Pr(),fn=Rs=or=null,Ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ur&&s.locale!=="ko"?null:s.data;default:return null}}var Bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function os(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Bp[r.type]:s==="textarea"}function Kf(r,s,u,f){ta?Ye?Ye.push(f):Ye=[f]:ta=f,s=zd(s,"onChange"),0<s.length&&(u=new as("onChange","change",null,u,f),r.push({event:u,listeners:s}))}var ls=null,jl=null;function zl(r){F0(r,0)}function Vl(r){var s=ai(r);if(qt(s))return r}function Ul(r,s){if(r==="change")return s}var Wf=!1;if(Ii){var us;if(Ii){var Ro="oninput"in document;if(!Ro){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),Ro=typeof Yf.oninput=="function"}us=Ro}else us=!1;Wf=us&&(!document.documentMode||9<document.documentMode)}function Uu(){ls&&(ls.detachEvent("onpropertychange",Qf),jl=ls=null)}function Qf(r){if(r.propertyName==="value"&&Vl(jl)){var s=[];Kf(s,jl,r,Ri(r)),As(zl,s)}}function Ps(r,s,u){r==="focusin"?(Uu(),ls=s,jl=u,ls.attachEvent("onpropertychange",Qf)):r==="focusout"&&Uu()}function Fp(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vl(jl)}function Io(r,s){if(r==="click")return Vl(s)}function Hp(r,s){if(r==="input"||r==="change")return Vl(s)}function Ls(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ci=typeof Object.is=="function"?Object.is:Ls;function No(r,s){if(ci(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!yn.call(s,g)||!ci(r[g],s[g]))return!1}return!0}function Bu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bl(r,s){var u=Bu(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=s&&f>=s)return{node:u,offset:s-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Bu(u)}}function Fu(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Fu(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Fl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=sr(r.document);s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=sr(r.document)}return s}function sa(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Hu=Ii&&"documentMode"in document&&11>=document.documentMode,aa=null,$u=null,Hl=null,ko=!1;function Xf(r,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ko||aa==null||aa!==sr(f)||(f=aa,"selectionStart"in f&&sa(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Hl&&No(Hl,f)||(Hl=f,f=zd($u,"onSelect"),0<f.length&&(s=new as("onSelect","select",null,s,u),r.push({event:s,listeners:f}),s.target=aa)))}function oa(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var Po={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},qu={},Jf={};Ii&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function hi(r){if(qu[r])return qu[r];if(!Po[r])return r;var s=Po[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in Jf)return qu[r]=s[u];return r}var $l=hi("animationend"),ed=hi("animationiteration"),ql=hi("animationstart"),$p=hi("transitionrun"),td=hi("transitionstart"),qp=hi("transitioncancel"),Lo=hi("transitionend"),nd=new Map,la="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");la.push("scrollEnd");function cr(r,s){nd.set(r,s),ts(s,[r])}var Zl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},hr=[],ki=0,Zu=0;function Gl(){for(var r=ki,s=Zu=ki=0;s<r;){var u=hr[s];hr[s++]=null;var f=hr[s];hr[s++]=null;var g=hr[s];hr[s++]=null;var v=hr[s];if(hr[s++]=null,f!==null&&g!==null){var A=f.pending;A===null?g.next=g:(g.next=A.next,A.next=g),f.pending=g}v!==0&&Oo(u,g,v)}}function ua(r,s,u,f){hr[ki++]=r,hr[ki++]=s,hr[ki++]=u,hr[ki++]=f,Zu|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function sh(r,s,u,f){return ua(r,s,u,f),Kl(r)}function cs(r,s){return ua(r,null,null,s),Kl(r)}function Oo(r,s,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var g=!1,v=r.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&s!==null&&(g=31-un(u),r=v.hiddenUpdates,f=r[g],f===null?r[g]=[s]:f.push(s),s.lane=u|536870912),v):null}function Kl(r){if(50<Nh)throw Nh=0,Gg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ja={};function Zp(r,s,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(r,s,u,f){return new Zp(r,s,u,f)}function Gu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hs(r,s){var u=r.alternate;return u===null?(u=Pi(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function ah(r,s){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,s=u.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Wl(r,s,u,f,g,v){var A=0;if(f=r,typeof r=="function")Gu(r)&&(A=1);else if(typeof r=="string")A=GI(r,u,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case z:return r=Pi(31,u,s,g),r.elementType=z,r.lanes=v,r;case M:return za(u.children,g,v,s);case W:A=8,g|=24;break;case ue:return r=Pi(12,u,s,g|2),r.elementType=ue,r.lanes=v,r;case ne:return r=Pi(13,u,s,g),r.elementType=ne,r.lanes=v,r;case le:return r=Pi(19,u,s,g),r.elementType=le,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:A=10;break e;case X:A=9;break e;case K:A=11;break e;case P:A=14;break e;case O:A=16,f=null;break e}A=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return s=Pi(A,u,s,g),s.elementType=r,s.type=f,s.lanes=v,s}function za(r,s,u,f){return r=Pi(7,r,f,s),r.lanes=u,r}function Ku(r,s,u){return r=Pi(6,r,null,s),r.lanes=u,r}function oh(r){var s=Pi(18,null,null,0);return s.stateNode=r,s}function lh(r,s,u){return s=Pi(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var o=new WeakMap;function h(r,s){if(typeof r=="object"&&r!==null){var u=o.get(r);return u!==void 0?u:(s={value:r,source:s,stack:Wr(s)},o.set(r,s),s)}return{value:r,source:s,stack:Wr(s)}}var p=[],w=0,x=null,N=0,q=[],ee=0,ce=null,Ee=1,Oe="";function $e(r,s){p[w++]=N,p[w++]=x,x=r,N=s}function mt(r,s,u){q[ee++]=Ee,q[ee++]=Oe,q[ee++]=ce,ce=r;var f=Ee;r=Oe;var g=32-un(f)-1;f&=~(1<<g),u+=1;var v=32-un(s)+g;if(30<v){var A=g-g%5;v=(f&(1<<A)-1).toString(32),f>>=A,g-=A,Ee=1<<32-un(s)+g|u<<g|f,Oe=v+r}else Ee=1<<v|u<<g|f,Oe=r}function ti(r){r.return!==null&&($e(r,1),mt(r,1,0))}function kn(r){for(;r===x;)x=p[--w],p[w]=null,N=p[--w],p[w]=null;for(;r===ce;)ce=q[--ee],q[ee]=null,Oe=q[--ee],q[ee]=null,Ee=q[--ee],q[ee]=null}function qi(r,s){q[ee++]=Ee,q[ee++]=Oe,q[ee++]=ce,Ee=s.id,Oe=s.overflow,ce=r}var Vt=null,Ut=null,wt=!1,ca=null,fr=!1,Wu=Error(i(519));function ha(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(h(s,r)),Wu}function uh(r){var s=r.stateNode,u=r.type,f=r.memoizedProps;switch(s[wn]=r,s[In]=f,u){case"dialog":St("cancel",s),St("close",s);break;case"iframe":case"object":case"embed":St("load",s);break;case"video":case"audio":for(u=0;u<Ph.length;u++)St(Ph[u],s);break;case"source":St("error",s);break;case"img":case"image":case"link":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"input":St("invalid",s),Na(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":St("invalid",s);break;case"textarea":St("invalid",s),ar(s,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||Z0(s.textContent,u)?(f.popover!=null&&(St("beforetoggle",s),St("toggle",s)),f.onScroll!=null&&St("scroll",s),f.onScrollEnd!=null&&St("scrollend",s),f.onClick!=null&&(s.onclick=Ci),s=!0):s=!1,s||ha(r,!0)}function En(r){for(Vt=r.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:Vt=Vt.return}}function Os(r){if(r!==Vt)return!1;if(!wt)return En(r),wt=!0,!1;var s=r.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||l_(r.type,r.memoizedProps)),u=!u),u&&Ut&&ha(r),En(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=tE(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=tE(r)}else s===27?(s=Ut,Ko(r.type)?(r=d_,d_=null,Ut=r):Ut=s):Ut=Vt?ds(r.stateNode.nextSibling):null;return!0}function Va(){Ut=Vt=null,wt=!1}function ch(){var r=ca;return r!==null&&(gr===null?gr=r:gr.push.apply(gr,r),ca=null),r}function Yl(r){ca===null?ca=[r]:ca.push(r)}var Ql=$(null),fa=null,Ds=null;function Do(r,s,u){ge(Ql,s._currentValue),s._currentValue=u}function Ua(r){r._currentValue=Ql.current,Y(Ql)}function Gp(r,s,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===u)break;r=r.return}}function Kp(r,s,u,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=g;for(var Z=0;Z<s.length;Z++)if(k.context===s[Z]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),Gp(v.return,u,r),f||(A=null);break e}v=k.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=u,v=A.alternate,v!==null&&(v.lanes|=u),Gp(A,u,r),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===r){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Yu(r,s,u,f){r=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var k=g.type;ci(g.pendingProps.value,A.value)||(r!==null?r.push(k):r=[k])}}else if(g===Qe.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(jh):r=[jh])}g=g.return}r!==null&&Kp(s,r,u,f),s.flags|=262144}function id(r){for(r=r.firstContext;r!==null;){if(!ci(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Xl(r){fa=r,Ds=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _i(r){return kb(fa,r)}function rd(r,s){return fa===null&&Xl(r),kb(r,s)}function kb(r,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Ds===null){if(r===null)throw Error(i(308));Ds=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ds=Ds.next=s;return u}var HR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){s.aborted=!0,r.forEach(function(u){return u()})}},$R=t.unstable_scheduleCallback,qR=t.unstable_NormalPriority,Hn={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wp(){return{controller:new HR,data:new Map,refCount:0}}function hh(r){r.refCount--,r.refCount===0&&$R(qR,function(){r.controller.abort()})}var fh=null,Yp=0,Qu=0,Xu=null;function ZR(r,s){if(fh===null){var u=fh=[];Yp=0,Qu=Jg(),Xu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Yp++,s.then(Pb,Pb),s}function Pb(){if(--Yp===0&&fh!==null){Xu!==null&&(Xu.status="fulfilled");var r=fh;fh=null,Qu=0,Xu=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function GR(r,s){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){f.status="fulfilled",f.value=s;for(var g=0;g<u.length;g++)(0,u[g])(s)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var Lb=te.S;te.S=function(r,s){g0=Ne(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZR(r,s),Lb!==null&&Lb(r,s)};var Jl=$(null);function Qp(){var r=Jl.current;return r!==null?r:rn.pooledCache}function sd(r,s){s===null?ge(Jl,Jl.current):ge(Jl,s.pool)}function Ob(){var r=Qp();return r===null?null:{parent:Hn._currentValue,pool:r}}var Ju=Error(i(460)),Xp=Error(i(474)),ad=Error(i(542)),od={then:function(){}};function Db(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Mb(r,s,u){switch(u=r[u],u===void 0?r.push(s):u!==s&&(s.then(Ci,Ci),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,zb(r),r;default:if(typeof s.status=="string")s.then(Ci,Ci);else{if(r=rn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(f){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=f}},function(f){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,zb(r),r}throw tu=s,Ju}}function eu(r){try{var s=r._init;return s(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(tu=u,Ju):u}}var tu=null;function jb(){if(tu===null)throw Error(i(459));var r=tu;return tu=null,r}function zb(r){if(r===Ju||r===ad)throw Error(i(483))}var ec=null,dh=0;function ld(r){var s=dh;return dh+=1,ec===null&&(ec=[]),Mb(ec,r,s)}function mh(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ud(r,s){throw s.$$typeof===C?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Vb(r){function s(J,Q){if(r){var ae=J.deletions;ae===null?(J.deletions=[Q],J.flags|=16):ae.push(Q)}}function u(J,Q){if(!r)return null;for(;Q!==null;)s(J,Q),Q=Q.sibling;return null}function f(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function g(J,Q){return J=hs(J,Q),J.index=0,J.sibling=null,J}function v(J,Q,ae){return J.index=ae,r?(ae=J.alternate,ae!==null?(ae=ae.index,ae<Q?(J.flags|=67108866,Q):ae):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function A(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function k(J,Q,ae,be){return Q===null||Q.tag!==6?(Q=Ku(ae,J.mode,be),Q.return=J,Q):(Q=g(Q,ae),Q.return=J,Q)}function Z(J,Q,ae,be){var Ge=ae.type;return Ge===M?ye(J,Q,ae.props.children,be,ae.key):Q!==null&&(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&eu(Ge)===Q.type)?(Q=g(Q,ae.props),mh(Q,ae),Q.return=J,Q):(Q=Wl(ae.type,ae.key,ae.props,null,J.mode,be),mh(Q,ae),Q.return=J,Q)}function oe(J,Q,ae,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=lh(ae,J.mode,be),Q.return=J,Q):(Q=g(Q,ae.children||[]),Q.return=J,Q)}function ye(J,Q,ae,be,Ge){return Q===null||Q.tag!==7?(Q=za(ae,J.mode,be,Ge),Q.return=J,Q):(Q=g(Q,ae),Q.return=J,Q)}function Se(J,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Ku(""+Q,J.mode,ae),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return ae=Wl(Q.type,Q.key,Q.props,null,J.mode,ae),mh(ae,Q),ae.return=J,ae;case H:return Q=lh(Q,J.mode,ae),Q.return=J,Q;case O:return Q=eu(Q),Se(J,Q,ae)}if(qe(Q)||B(Q))return Q=za(Q,J.mode,ae,null),Q.return=J,Q;if(typeof Q.then=="function")return Se(J,ld(Q),ae);if(Q.$$typeof===re)return Se(J,rd(J,Q),ae);ud(J,Q)}return null}function he(J,Q,ae,be){var Ge=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ge!==null?null:k(J,Q,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return ae.key===Ge?Z(J,Q,ae,be):null;case H:return ae.key===Ge?oe(J,Q,ae,be):null;case O:return ae=eu(ae),he(J,Q,ae,be)}if(qe(ae)||B(ae))return Ge!==null?null:ye(J,Q,ae,be,null);if(typeof ae.then=="function")return he(J,Q,ld(ae),be);if(ae.$$typeof===re)return he(J,Q,rd(J,ae),be);ud(J,ae)}return null}function me(J,Q,ae,be,Ge){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return J=J.get(ae)||null,k(Q,J,""+be,Ge);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case I:return J=J.get(be.key===null?ae:be.key)||null,Z(Q,J,be,Ge);case H:return J=J.get(be.key===null?ae:be.key)||null,oe(Q,J,be,Ge);case O:return be=eu(be),me(J,Q,ae,be,Ge)}if(qe(be)||B(be))return J=J.get(ae)||null,ye(Q,J,be,Ge,null);if(typeof be.then=="function")return me(J,Q,ae,ld(be),Ge);if(be.$$typeof===re)return me(J,Q,ae,rd(Q,be),Ge);ud(Q,be)}return null}function Be(J,Q,ae,be){for(var Ge=null,Bt=null,He=Q,pt=Q=0,Rt=null;He!==null&&pt<ae.length;pt++){He.index>pt?(Rt=He,He=null):Rt=He.sibling;var Ft=he(J,He,ae[pt],be);if(Ft===null){He===null&&(He=Rt);break}r&&He&&Ft.alternate===null&&s(J,He),Q=v(Ft,Q,pt),Bt===null?Ge=Ft:Bt.sibling=Ft,Bt=Ft,He=Rt}if(pt===ae.length)return u(J,He),wt&&$e(J,pt),Ge;if(He===null){for(;pt<ae.length;pt++)He=Se(J,ae[pt],be),He!==null&&(Q=v(He,Q,pt),Bt===null?Ge=He:Bt.sibling=He,Bt=He);return wt&&$e(J,pt),Ge}for(He=f(He);pt<ae.length;pt++)Rt=me(He,J,pt,ae[pt],be),Rt!==null&&(r&&Rt.alternate!==null&&He.delete(Rt.key===null?pt:Rt.key),Q=v(Rt,Q,pt),Bt===null?Ge=Rt:Bt.sibling=Rt,Bt=Rt);return r&&He.forEach(function(Jo){return s(J,Jo)}),wt&&$e(J,pt),Ge}function Xe(J,Q,ae,be){if(ae==null)throw Error(i(151));for(var Ge=null,Bt=null,He=Q,pt=Q=0,Rt=null,Ft=ae.next();He!==null&&!Ft.done;pt++,Ft=ae.next()){He.index>pt?(Rt=He,He=null):Rt=He.sibling;var Jo=he(J,He,Ft.value,be);if(Jo===null){He===null&&(He=Rt);break}r&&He&&Jo.alternate===null&&s(J,He),Q=v(Jo,Q,pt),Bt===null?Ge=Jo:Bt.sibling=Jo,Bt=Jo,He=Rt}if(Ft.done)return u(J,He),wt&&$e(J,pt),Ge;if(He===null){for(;!Ft.done;pt++,Ft=ae.next())Ft=Se(J,Ft.value,be),Ft!==null&&(Q=v(Ft,Q,pt),Bt===null?Ge=Ft:Bt.sibling=Ft,Bt=Ft);return wt&&$e(J,pt),Ge}for(He=f(He);!Ft.done;pt++,Ft=ae.next())Ft=me(He,J,pt,Ft.value,be),Ft!==null&&(r&&Ft.alternate!==null&&He.delete(Ft.key===null?pt:Ft.key),Q=v(Ft,Q,pt),Bt===null?Ge=Ft:Bt.sibling=Ft,Bt=Ft);return r&&He.forEach(function(rN){return s(J,rN)}),wt&&$e(J,pt),Ge}function Jt(J,Q,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===M&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:e:{for(var Ge=ae.key;Q!==null;){if(Q.key===Ge){if(Ge=ae.type,Ge===M){if(Q.tag===7){u(J,Q.sibling),be=g(Q,ae.props.children),be.return=J,J=be;break e}}else if(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&eu(Ge)===Q.type){u(J,Q.sibling),be=g(Q,ae.props),mh(be,ae),be.return=J,J=be;break e}u(J,Q);break}else s(J,Q);Q=Q.sibling}ae.type===M?(be=za(ae.props.children,J.mode,be,ae.key),be.return=J,J=be):(be=Wl(ae.type,ae.key,ae.props,null,J.mode,be),mh(be,ae),be.return=J,J=be)}return A(J);case H:e:{for(Ge=ae.key;Q!==null;){if(Q.key===Ge)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){u(J,Q.sibling),be=g(Q,ae.children||[]),be.return=J,J=be;break e}else{u(J,Q);break}else s(J,Q);Q=Q.sibling}be=lh(ae,J.mode,be),be.return=J,J=be}return A(J);case O:return ae=eu(ae),Jt(J,Q,ae,be)}if(qe(ae))return Be(J,Q,ae,be);if(B(ae)){if(Ge=B(ae),typeof Ge!="function")throw Error(i(150));return ae=Ge.call(ae),Xe(J,Q,ae,be)}if(typeof ae.then=="function")return Jt(J,Q,ld(ae),be);if(ae.$$typeof===re)return Jt(J,Q,rd(J,ae),be);ud(J,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Q!==null&&Q.tag===6?(u(J,Q.sibling),be=g(Q,ae),be.return=J,J=be):(u(J,Q),be=Ku(ae,J.mode,be),be.return=J,J=be),A(J)):u(J,Q)}return function(J,Q,ae,be){try{dh=0;var Ge=Jt(J,Q,ae,be);return ec=null,Ge}catch(He){if(He===Ju||He===ad)throw He;var Bt=Pi(29,He,null,J.mode);return Bt.lanes=be,Bt.return=J,Bt}}}var nu=Vb(!0),Ub=Vb(!1),Mo=!1;function Jp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function jo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zo(r,s,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ht&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,s=Kl(r),Oo(r,null,u),s}return ua(r,f,s,u),Kl(r)}function ph(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Al(r,u)}}function tg(r,s){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?g=v=s:v=v.next=s}else g=v=s;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}var ng=!1;function gh(){if(ng){var r=Xu;if(r!==null)throw r}}function _h(r,s,u,f){ng=!1;var g=r.updateQueue;Mo=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var Z=k,oe=Z.next;Z.next=null,A===null?v=oe:A.next=oe,A=Z;var ye=r.alternate;ye!==null&&(ye=ye.updateQueue,k=ye.lastBaseUpdate,k!==A&&(k===null?ye.firstBaseUpdate=oe:k.next=oe,ye.lastBaseUpdate=Z))}if(v!==null){var Se=g.baseState;A=0,ye=oe=Z=null,k=v;do{var he=k.lane&-536870913,me=he!==k.lane;if(me?(Ct&he)===he:(f&he)===he){he!==0&&he===Qu&&(ng=!0),ye!==null&&(ye=ye.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Be=r,Xe=k;he=s;var Jt=u;switch(Xe.tag){case 1:if(Be=Xe.payload,typeof Be=="function"){Se=Be.call(Jt,Se,he);break e}Se=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Xe.payload,he=typeof Be=="function"?Be.call(Jt,Se,he):Be,he==null)break e;Se=E({},Se,he);break e;case 2:Mo=!0}}he=k.callback,he!==null&&(r.flags|=64,me&&(r.flags|=8192),me=g.callbacks,me===null?g.callbacks=[he]:me.push(he))}else me={lane:he,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ye===null?(oe=ye=me,Z=Se):ye=ye.next=me,A|=he;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;me=k,k=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);ye===null&&(Z=Se),g.baseState=Z,g.firstBaseUpdate=oe,g.lastBaseUpdate=ye,v===null&&(g.shared.lanes=0),Ho|=A,r.lanes=A,r.memoizedState=Se}}function Bb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Fb(r,s){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Bb(u[r],s)}var tc=$(null),cd=$(0);function Hb(r,s){r=Wa,ge(cd,r),ge(tc,s),Wa=r|s.baseLanes}function ig(){ge(cd,Wa),ge(tc,tc.current)}function rg(){Wa=cd.current,Y(tc),Y(cd)}var Vr=$(null),fs=null;function Vo(r){var s=r.alternate;ge(Dn,Dn.current&1),ge(Vr,r),fs===null&&(s===null||tc.current!==null||s.memoizedState!==null)&&(fs=r)}function sg(r){ge(Dn,Dn.current),ge(Vr,r),fs===null&&(fs=r)}function $b(r){r.tag===22?(ge(Dn,Dn.current),ge(Vr,r),fs===null&&(fs=r)):Uo()}function Uo(){ge(Dn,Dn.current),ge(Vr,Vr.current)}function Ur(r){Y(Vr),fs===r&&(fs=null),Y(Dn)}var Dn=$(0);function hd(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||h_(u)||f_(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ba=0,ft=null,Qt=null,$n=null,fd=!1,nc=!1,iu=!1,dd=0,yh=0,ic=null,KR=0;function Pn(){throw Error(i(321))}function ag(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!ci(r[u],s[u]))return!1;return!0}function og(r,s,u,f,g,v){return Ba=v,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=r===null||r.memoizedState===null?Cw:Eg,iu=!1,v=u(f,g),iu=!1,nc&&(v=Zb(s,u,f,g)),qb(r),v}function qb(r){te.H=wh;var s=Qt!==null&&Qt.next!==null;if(Ba=0,$n=Qt=ft=null,fd=!1,yh=0,ic=null,s)throw Error(i(300));r===null||qn||(r=r.dependencies,r!==null&&id(r)&&(qn=!0))}function Zb(r,s,u,f){ft=r;var g=0;do{if(nc&&(ic=null),yh=0,nc=!1,25<=g)throw Error(i(301));if(g+=1,$n=Qt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}te.H=Rw,v=s(u,f)}while(nc);return v}function WR(){var r=te.H,s=r.useState()[0];return s=typeof s.then=="function"?vh(s):s,r=r.useState()[0],(Qt!==null?Qt.memoizedState:null)!==r&&(ft.flags|=1024),s}function lg(){var r=dd!==0;return dd=0,r}function ug(r,s,u){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~u}function cg(r){if(fd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fd=!1}Ba=0,$n=Qt=ft=null,nc=!1,yh=dd=0,ic=null}function Zi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?ft.memoizedState=$n=r:$n=$n.next=r,$n}function Mn(){if(Qt===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=Qt.next;var s=$n===null?ft.memoizedState:$n.next;if(s!==null)$n=s,Qt=r;else{if(r===null)throw ft.alternate===null?Error(i(467)):Error(i(310));Qt=r,r={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},$n===null?ft.memoizedState=$n=r:$n=$n.next=r}return $n}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vh(r){var s=yh;return yh+=1,ic===null&&(ic=[]),r=Mb(ic,r,s),s=ft,($n===null?s.memoizedState:$n.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?Cw:Eg),r}function pd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vh(r);if(r.$$typeof===re)return _i(r)}throw Error(i(438,String(r)))}function hg(r){var s=null,u=ft.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=ft.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=md(),ft.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(r),f=0;f<r;f++)u[f]=V;return s.index++,u}function Fa(r,s){return typeof s=="function"?s(r):s}function gd(r){var s=Mn();return fg(s,Qt,r)}function fg(r,s,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var g=r.baseQueue,v=f.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}s.baseQueue=g=v,f.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{s=g.next;var k=A=null,Z=null,oe=s,ye=!1;do{var Se=oe.lane&-536870913;if(Se!==oe.lane?(Ct&Se)===Se:(Ba&Se)===Se){var he=oe.revertLane;if(he===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Se===Qu&&(ye=!0);else if((Ba&he)===he){oe=oe.next,he===Qu&&(ye=!0);continue}else Se={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Z===null?(k=Z=Se,A=v):Z=Z.next=Se,ft.lanes|=he,Ho|=he;Se=oe.action,iu&&u(v,Se),v=oe.hasEagerState?oe.eagerState:u(v,Se)}else he={lane:Se,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Z===null?(k=Z=he,A=v):Z=Z.next=he,ft.lanes|=Se,Ho|=Se;oe=oe.next}while(oe!==null&&oe!==s);if(Z===null?A=v:Z.next=k,!ci(v,r.memoizedState)&&(qn=!0,ye&&(u=Xu,u!==null)))throw u;r.memoizedState=v,r.baseState=A,r.baseQueue=Z,f.lastRenderedState=v}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function dg(r){var s=Mn(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,v=s.memoizedState;if(g!==null){u.pending=null;var A=g=g.next;do v=r(v,A.action),A=A.next;while(A!==g);ci(v,s.memoizedState)||(qn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),u.lastRenderedState=v}return[v,f]}function Gb(r,s,u){var f=ft,g=Mn(),v=wt;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=s();var A=!ci((Qt||g).memoizedState,u);if(A&&(g.memoizedState=u,qn=!0),g=g.queue,gg(Yb.bind(null,f,g,r),[r]),g.getSnapshot!==s||A||$n!==null&&$n.memoizedState.tag&1){if(f.flags|=2048,rc(9,{destroy:void 0},Wb.bind(null,f,g,u,s),null),rn===null)throw Error(i(349));v||(Ba&127)!==0||Kb(f,s,u)}return u}function Kb(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=ft.updateQueue,s===null?(s=md(),ft.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Wb(r,s,u,f){s.value=u,s.getSnapshot=f,Qb(s)&&Xb(r)}function Yb(r,s,u){return u(function(){Qb(s)&&Xb(r)})}function Qb(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!ci(r,u)}catch{return!0}}function Xb(r){var s=cs(r,2);s!==null&&_r(s,r,2)}function mg(r){var s=Zi();if(typeof r=="function"){var u=r;if(r=u(),iu){ei(!0);try{u()}finally{ei(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:r},s}function Jb(r,s,u,f){return r.baseState=u,fg(r,Qt,typeof f=="function"?f:Fa)}function YR(r,s,u,f,g){if(vd(r))throw Error(i(485));if(r=s.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};te.T!==null?u(!0):v.isTransition=!1,f(v),u=s.pending,u===null?(v.next=s.pending=v,ew(s,v)):(v.next=u.next,s.pending=u.next=v)}}function ew(r,s){var u=s.action,f=s.payload,g=r.state;if(s.isTransition){var v=te.T,A={};te.T=A;try{var k=u(g,f),Z=te.S;Z!==null&&Z(A,k),tw(r,s,k)}catch(oe){pg(r,s,oe)}finally{v!==null&&A.types!==null&&(v.types=A.types),te.T=v}}else try{v=u(g,f),tw(r,s,v)}catch(oe){pg(r,s,oe)}}function tw(r,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){nw(r,s,f)},function(f){return pg(r,s,f)}):nw(r,s,u)}function nw(r,s,u){s.status="fulfilled",s.value=u,iw(s),r.state=u,s=r.pending,s!==null&&(u=s.next,u===s?r.pending=null:(u=u.next,s.next=u,ew(r,u)))}function pg(r,s,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,iw(s),s=s.next;while(s!==f)}r.action=null}function iw(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function rw(r,s){return s}function sw(r,s){if(wt){var u=rn.formState;if(u!==null){e:{var f=ft;if(wt){if(Ut){t:{for(var g=Ut,v=fr;g.nodeType!==8;){if(!v){g=null;break t}if(g=ds(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ut=ds(g.nextSibling),f=g.data==="F!";break e}}ha(f)}f=!1}f&&(s=u[0])}}return u=Zi(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rw,lastRenderedState:s},u.queue=f,u=Tw.bind(null,ft,f),f.dispatch=u,f=mg(!1),v=wg.bind(null,ft,!1,f.queue),f=Zi(),g={state:s,dispatch:null,action:r,pending:null},f.queue=g,u=YR.bind(null,ft,g,v,u),g.dispatch=u,f.memoizedState=r,[s,u,!1]}function aw(r){var s=Mn();return ow(s,Qt,r)}function ow(r,s,u){if(s=fg(r,s,rw)[0],r=gd(Fa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=vh(s)}catch(A){throw A===Ju?ad:A}else f=s;s=Mn();var g=s.queue,v=g.dispatch;return u!==s.memoizedState&&(ft.flags|=2048,rc(9,{destroy:void 0},QR.bind(null,g,u),null)),[f,v,r]}function QR(r,s){r.action=s}function lw(r){var s=Mn(),u=Qt;if(u!==null)return ow(s,u,r);Mn(),s=s.memoizedState,u=Mn();var f=u.queue.dispatch;return u.memoizedState=r,[s,f,!1]}function rc(r,s,u,f){return r={tag:r,create:u,deps:f,inst:s,next:null},s=ft.updateQueue,s===null&&(s=md(),ft.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,s.lastEffect=r),r}function uw(){return Mn().memoizedState}function _d(r,s,u,f){var g=Zi();ft.flags|=r,g.memoizedState=rc(1|s,{destroy:void 0},u,f===void 0?null:f)}function yd(r,s,u,f){var g=Mn();f=f===void 0?null:f;var v=g.memoizedState.inst;Qt!==null&&f!==null&&ag(f,Qt.memoizedState.deps)?g.memoizedState=rc(s,v,u,f):(ft.flags|=r,g.memoizedState=rc(1|s,v,u,f))}function cw(r,s){_d(8390656,8,r,s)}function gg(r,s){yd(2048,8,r,s)}function XR(r){ft.flags|=4;var s=ft.updateQueue;if(s===null)s=md(),ft.updateQueue=s,s.events=[r];else{var u=s.events;u===null?s.events=[r]:u.push(r)}}function hw(r){var s=Mn().memoizedState;return XR({ref:s,nextImpl:r}),function(){if((Ht&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function fw(r,s){return yd(4,2,r,s)}function dw(r,s){return yd(4,4,r,s)}function mw(r,s){if(typeof s=="function"){r=r();var u=s(r);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function pw(r,s,u){u=u!=null?u.concat([r]):null,yd(4,4,mw.bind(null,s,r),u)}function _g(){}function gw(r,s){var u=Mn();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&ag(s,f[1])?f[0]:(u.memoizedState=[r,s],r)}function _w(r,s){var u=Mn();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&ag(s,f[1]))return f[0];if(f=r(),iu){ei(!0);try{r()}finally{ei(!1)}}return u.memoizedState=[f,s],f}function yg(r,s,u){return u===void 0||(Ba&1073741824)!==0&&(Ct&261930)===0?r.memoizedState=s:(r.memoizedState=u,r=y0(),ft.lanes|=r,Ho|=r,u)}function yw(r,s,u,f){return ci(u,s)?u:tc.current!==null?(r=yg(r,u,f),ci(r,s)||(qn=!0),r):(Ba&42)===0||(Ba&1073741824)!==0&&(Ct&261930)===0?(qn=!0,r.memoizedState=u):(r=y0(),ft.lanes|=r,Ho|=r,s)}function vw(r,s,u,f,g){var v=de.p;de.p=v!==0&&8>v?v:8;var A=te.T,k={};te.T=k,wg(r,!1,s,u);try{var Z=g(),oe=te.S;if(oe!==null&&oe(k,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ye=GR(Z,f);bh(r,s,ye,Hr(r))}else bh(r,s,f,Hr(r))}catch(Se){bh(r,s,{then:function(){},status:"rejected",reason:Se},Hr())}finally{de.p=v,A!==null&&k.types!==null&&(A.types=k.types),te.T=A}}function JR(){}function vg(r,s,u,f){if(r.tag!==5)throw Error(i(476));var g=bw(r).queue;vw(r,g,s,ve,u===null?JR:function(){return ww(r),u(f)})}function bw(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:ve},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:u},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function ww(r){var s=bw(r);s.next===null&&(s=r.alternate.memoizedState),bh(r,s.next.queue,{},Hr())}function bg(){return _i(jh)}function Ew(){return Mn().memoizedState}function Sw(){return Mn().memoizedState}function eI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var u=Hr();r=jo(u);var f=zo(s,r,u);f!==null&&(_r(f,s,u),ph(f,s,u)),s={cache:Wp()},r.payload=s;return}s=s.return}}function tI(r,s,u){var f=Hr();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},vd(r)?xw(s,u):(u=sh(r,s,u,f),u!==null&&(_r(u,r,f),Aw(u,s,f)))}function Tw(r,s,u){var f=Hr();bh(r,s,u,f)}function bh(r,s,u,f){var g={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(vd(r))xw(s,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,k=v(A,u);if(g.hasEagerState=!0,g.eagerState=k,ci(k,A))return ua(r,s,g,0),rn===null&&Gl(),!1}catch{}if(u=sh(r,s,g,f),u!==null)return _r(u,r,f),Aw(u,s,f),!0}return!1}function wg(r,s,u,f){if(f={lane:2,revertLane:Jg(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},vd(r)){if(s)throw Error(i(479))}else s=sh(r,u,f,2),s!==null&&_r(s,r,2)}function vd(r){var s=r.alternate;return r===ft||s!==null&&s===ft}function xw(r,s){nc=fd=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function Aw(r,s,u){if((u&4194048)!==0){var f=s.lanes;f&=r.pendingLanes,u|=f,s.lanes=u,Al(r,u)}}var wh={readContext:_i,use:pd,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};wh.useEffectEvent=Pn;var Cw={readContext:_i,use:pd,useCallback:function(r,s){return Zi().memoizedState=[r,s===void 0?null:s],r},useContext:_i,useEffect:cw,useImperativeHandle:function(r,s,u){u=u!=null?u.concat([r]):null,_d(4194308,4,mw.bind(null,s,r),u)},useLayoutEffect:function(r,s){return _d(4194308,4,r,s)},useInsertionEffect:function(r,s){_d(4,2,r,s)},useMemo:function(r,s){var u=Zi();s=s===void 0?null:s;var f=r();if(iu){ei(!0);try{r()}finally{ei(!1)}}return u.memoizedState=[f,s],f},useReducer:function(r,s,u){var f=Zi();if(u!==void 0){var g=u(s);if(iu){ei(!0);try{u(s)}finally{ei(!1)}}}else g=s;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=tI.bind(null,ft,r),[f.memoizedState,r]},useRef:function(r){var s=Zi();return r={current:r},s.memoizedState=r},useState:function(r){r=mg(r);var s=r.queue,u=Tw.bind(null,ft,s);return s.dispatch=u,[r.memoizedState,u]},useDebugValue:_g,useDeferredValue:function(r,s){var u=Zi();return yg(u,r,s)},useTransition:function(){var r=mg(!1);return r=vw.bind(null,ft,r.queue,!0,!1),Zi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,u){var f=ft,g=Zi();if(wt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),rn===null)throw Error(i(349));(Ct&127)!==0||Kb(f,s,u)}g.memoizedState=u;var v={value:u,getSnapshot:s};return g.queue=v,cw(Yb.bind(null,f,v,r),[r]),f.flags|=2048,rc(9,{destroy:void 0},Wb.bind(null,f,v,u,s),null),u},useId:function(){var r=Zi(),s=rn.identifierPrefix;if(wt){var u=Oe,f=Ee;u=(f&~(1<<32-un(f)-1)).toString(32)+u,s="_"+s+"R_"+u,u=dd++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=KR++,s="_"+s+"r_"+u.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:bg,useFormState:sw,useActionState:sw,useOptimistic:function(r){var s=Zi();s.memoizedState=s.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=wg.bind(null,ft,!0,u),u.dispatch=s,[r,s]},useMemoCache:hg,useCacheRefresh:function(){return Zi().memoizedState=eI.bind(null,ft)},useEffectEvent:function(r){var s=Zi(),u={impl:r};return s.memoizedState=u,function(){if((Ht&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Eg={readContext:_i,use:pd,useCallback:gw,useContext:_i,useEffect:gg,useImperativeHandle:pw,useInsertionEffect:fw,useLayoutEffect:dw,useMemo:_w,useReducer:gd,useRef:uw,useState:function(){return gd(Fa)},useDebugValue:_g,useDeferredValue:function(r,s){var u=Mn();return yw(u,Qt.memoizedState,r,s)},useTransition:function(){var r=gd(Fa)[0],s=Mn().memoizedState;return[typeof r=="boolean"?r:vh(r),s]},useSyncExternalStore:Gb,useId:Ew,useHostTransitionStatus:bg,useFormState:aw,useActionState:aw,useOptimistic:function(r,s){var u=Mn();return Jb(u,Qt,r,s)},useMemoCache:hg,useCacheRefresh:Sw};Eg.useEffectEvent=hw;var Rw={readContext:_i,use:pd,useCallback:gw,useContext:_i,useEffect:gg,useImperativeHandle:pw,useInsertionEffect:fw,useLayoutEffect:dw,useMemo:_w,useReducer:dg,useRef:uw,useState:function(){return dg(Fa)},useDebugValue:_g,useDeferredValue:function(r,s){var u=Mn();return Qt===null?yg(u,r,s):yw(u,Qt.memoizedState,r,s)},useTransition:function(){var r=dg(Fa)[0],s=Mn().memoizedState;return[typeof r=="boolean"?r:vh(r),s]},useSyncExternalStore:Gb,useId:Ew,useHostTransitionStatus:bg,useFormState:lw,useActionState:lw,useOptimistic:function(r,s){var u=Mn();return Qt!==null?Jb(u,Qt,r,s):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:hg,useCacheRefresh:Sw};Rw.useEffectEvent=hw;function Sg(r,s,u,f){s=r.memoizedState,u=u(f,s),u=u==null?s:E({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Tg={enqueueSetState:function(r,s,u){r=r._reactInternals;var f=Hr(),g=jo(f);g.payload=s,u!=null&&(g.callback=u),s=zo(r,g,f),s!==null&&(_r(s,r,f),ph(s,r,f))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var f=Hr(),g=jo(f);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=zo(r,g,f),s!==null&&(_r(s,r,f),ph(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=Hr(),f=jo(u);f.tag=2,s!=null&&(f.callback=s),s=zo(r,f,u),s!==null&&(_r(s,r,u),ph(s,r,u))}};function Iw(r,s,u,f,g,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,A):s.prototype&&s.prototype.isPureReactComponent?!No(u,f)||!No(g,v):!0}function Nw(r,s,u,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==r&&Tg.enqueueReplaceState(s,s.state,null)}function ru(r,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(r=r.defaultProps){u===s&&(u=E({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}function kw(r){Zl(r)}function Pw(r){console.error(r)}function Lw(r){Zl(r)}function bd(r,s){try{var u=r.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Ow(r,s,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function xg(r,s,u){return u=jo(u),u.tag=3,u.payload={element:null},u.callback=function(){bd(r,s)},u}function Dw(r){return r=jo(r),r.tag=3,r}function Mw(r,s,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=f.value;r.payload=function(){return g(v)},r.callback=function(){Ow(s,u,f)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){Ow(s,u,f),typeof g!="function"&&($o===null?$o=new Set([this]):$o.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function nI(r,s,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&Yu(s,u,g,!0),u=Vr.current,u!==null){switch(u.tag){case 31:case 13:return fs===null?Pd():u.alternate===null&&Ln===0&&(Ln=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===od?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),Yg(r,f,g)),!1;case 22:return u.flags|=65536,f===od?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),Yg(r,f,g)),!1}throw Error(i(435,u.tag))}return Yg(r,f,g),Pd(),!1}if(wt)return s=Vr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,f!==Wu&&(r=Error(i(422),{cause:f}),Yl(h(r,u)))):(f!==Wu&&(s=Error(i(423),{cause:f}),Yl(h(s,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=h(f,u),g=xg(r.stateNode,f,g),tg(r,g),Ln!==4&&(Ln=2)),!1;var v=Error(i(520),{cause:f});if(v=h(v,u),Ih===null?Ih=[v]:Ih.push(v),Ln!==4&&(Ln=2),s===null)return!0;f=h(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=xg(u.stateNode,f,r),tg(u,r),!1;case 1:if(s=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($o===null||!$o.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Dw(g),Mw(g,r,u,f),tg(u,g),!1}u=u.return}while(u!==null);return!1}var Ag=Error(i(461)),qn=!1;function yi(r,s,u,f){s.child=r===null?Ub(s,null,u,f):nu(s,r.child,u,f)}function jw(r,s,u,f,g){u=u.render;var v=s.ref;if("ref"in f){var A={};for(var k in f)k!=="ref"&&(A[k]=f[k])}else A=f;return Xl(s),f=og(r,s,u,A,v,g),k=lg(),r!==null&&!qn?(ug(r,s,g),Ha(r,s,g)):(wt&&k&&ti(s),s.flags|=1,yi(r,s,f,g),s.child)}function zw(r,s,u,f,g){if(r===null){var v=u.type;return typeof v=="function"&&!Gu(v)&&v.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=v,Vw(r,s,v,f,g)):(r=Wl(u.type,null,f,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,!Og(r,g)){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:No,u(A,f)&&r.ref===s.ref)return Ha(r,s,g)}return s.flags|=1,r=hs(v,f),r.ref=s.ref,r.return=s,s.child=r}function Vw(r,s,u,f,g){if(r!==null){var v=r.memoizedProps;if(No(v,f)&&r.ref===s.ref)if(qn=!1,s.pendingProps=f=v,Og(r,g))(r.flags&131072)!==0&&(qn=!0);else return s.lanes=r.lanes,Ha(r,s,g)}return Cg(r,s,u,f,g)}function Uw(r,s,u,f){var g=f.children,v=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|u:u,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;f=g&~v}else f=0,s.child=null;return Bw(r,s,v,u,f)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&sd(s,v!==null?v.cachePool:null),v!==null?Hb(s,v):ig(),$b(s);else return f=s.lanes=536870912,Bw(r,s,v!==null?v.baseLanes|u:u,u,f)}else v!==null?(sd(s,v.cachePool),Hb(s,v),Uo(),s.memoizedState=null):(r!==null&&sd(s,null),ig(),Uo());return yi(r,s,g,u),s.child}function Eh(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Bw(r,s,u,f,g){var v=Qp();return v=v===null?null:{parent:Hn._currentValue,pool:v},s.memoizedState={baseLanes:u,cachePool:v},r!==null&&sd(s,null),ig(),$b(s),r!==null&&Yu(r,s,f,!0),s.childLanes=g,null}function wd(r,s){return s=Sd({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Fw(r,s,u){return nu(s,r.child,null,u),r=wd(s,s.pendingProps),r.flags|=2,Ur(s),s.memoizedState=null,r}function iI(r,s,u){var f=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(wt){if(f.mode==="hidden")return r=wd(s,f),s.lanes=536870912,Eh(null,r);if(sg(s),(r=Ut)?(r=eE(r,fr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ce!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},u=oh(r),u.return=s,s.child=u,Vt=s,Ut=null)):r=null,r===null)throw ha(s);return s.lanes=536870912,null}return wd(s,f)}var v=r.memoizedState;if(v!==null){var A=v.dehydrated;if(sg(s),g)if(s.flags&256)s.flags&=-257,s=Fw(r,s,u);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(qn||Yu(r,s,u,!1),g=(u&r.childLanes)!==0,qn||g){if(f=rn,f!==null&&(A=Cl(f,u),A!==0&&A!==v.retryLane))throw v.retryLane=A,cs(r,A),_r(f,r,A),Ag;Pd(),s=Fw(r,s,u)}else r=v.treeContext,Ut=ds(A.nextSibling),Vt=s,wt=!0,ca=null,fr=!1,r!==null&&qi(s,r),s=wd(s,f),s.flags|=4096;return s}return r=hs(r.child,{mode:f.mode,children:f.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Ed(r,s){var u=s.ref;if(u===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(s.flags|=4194816)}}function Cg(r,s,u,f,g){return Xl(s),u=og(r,s,u,f,void 0,g),f=lg(),r!==null&&!qn?(ug(r,s,g),Ha(r,s,g)):(wt&&f&&ti(s),s.flags|=1,yi(r,s,u,g),s.child)}function Hw(r,s,u,f,g,v){return Xl(s),s.updateQueue=null,u=Zb(s,f,u,g),qb(r),f=lg(),r!==null&&!qn?(ug(r,s,v),Ha(r,s,v)):(wt&&f&&ti(s),s.flags|=1,yi(r,s,u,v),s.child)}function $w(r,s,u,f,g){if(Xl(s),s.stateNode===null){var v=ja,A=u.contextType;typeof A=="object"&&A!==null&&(v=_i(A)),v=new u(f,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Tg,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=f,v.state=s.memoizedState,v.refs={},Jp(s),A=u.contextType,v.context=typeof A=="object"&&A!==null?_i(A):ja,v.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Sg(s,u,A,f),v.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Tg.enqueueReplaceState(v,v.state,null),_h(s,f,v,g),gh(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(r===null){v=s.stateNode;var k=s.memoizedProps,Z=ru(u,k);v.props=Z;var oe=v.context,ye=u.contextType;A=ja,typeof ye=="object"&&ye!==null&&(A=_i(ye));var Se=u.getDerivedStateFromProps;ye=typeof Se=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,ye||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||oe!==A)&&Nw(s,v,f,A),Mo=!1;var he=s.memoizedState;v.state=he,_h(s,f,v,g),gh(),oe=s.memoizedState,k||he!==oe||Mo?(typeof Se=="function"&&(Sg(s,u,Se,f),oe=s.memoizedState),(Z=Mo||Iw(s,u,Z,f,he,oe,A))?(ye||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=oe),v.props=f,v.state=oe,v.context=A,f=Z):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{v=s.stateNode,eg(r,s),A=s.memoizedProps,ye=ru(u,A),v.props=ye,Se=s.pendingProps,he=v.context,oe=u.contextType,Z=ja,typeof oe=="object"&&oe!==null&&(Z=_i(oe)),k=u.getDerivedStateFromProps,(oe=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==Se||he!==Z)&&Nw(s,v,f,Z),Mo=!1,he=s.memoizedState,v.state=he,_h(s,f,v,g),gh();var me=s.memoizedState;A!==Se||he!==me||Mo||r!==null&&r.dependencies!==null&&id(r.dependencies)?(typeof k=="function"&&(Sg(s,u,k,f),me=s.memoizedState),(ye=Mo||Iw(s,u,ye,f,he,me,Z)||r!==null&&r.dependencies!==null&&id(r.dependencies))?(oe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,me,Z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,me,Z)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&he===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&he===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=me),v.props=f,v.state=me,v.context=Z,f=ye):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&he===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&he===r.memoizedState||(s.flags|=1024),f=!1)}return v=f,Ed(r,s),f=(s.flags&128)!==0,v||f?(v=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,r!==null&&f?(s.child=nu(s,r.child,null,g),s.child=nu(s,null,u,g)):yi(r,s,u,g),s.memoizedState=v.state,r=s.child):r=Ha(r,s,g),r}function qw(r,s,u,f){return Va(),s.flags|=256,yi(r,s,u,f),s.child}var Rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ig(r){return{baseLanes:r,cachePool:Ob()}}function Ng(r,s,u){return r=r!==null?r.childLanes&~u:0,s&&(r|=Fr),r}function Zw(r,s,u){var f=s.pendingProps,g=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(Dn.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,r===null){if(wt){if(g?Vo(s):Uo(),(r=Ut)?(r=eE(r,fr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ce!==null?{id:Ee,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},u=oh(r),u.return=s,s.child=u,Vt=s,Ut=null)):r=null,r===null)throw ha(s);return f_(r)?s.lanes=32:s.lanes=536870912,null}var k=f.children;return f=f.fallback,g?(Uo(),g=s.mode,k=Sd({mode:"hidden",children:k},g),f=za(f,g,u,null),k.return=s,f.return=s,k.sibling=f,s.child=k,f=s.child,f.memoizedState=Ig(u),f.childLanes=Ng(r,A,u),s.memoizedState=Rg,Eh(null,f)):(Vo(s),kg(s,k))}var Z=r.memoizedState;if(Z!==null&&(k=Z.dehydrated,k!==null)){if(v)s.flags&256?(Vo(s),s.flags&=-257,s=Pg(r,s,u)):s.memoizedState!==null?(Uo(),s.child=r.child,s.flags|=128,s=null):(Uo(),k=f.fallback,g=s.mode,f=Sd({mode:"visible",children:f.children},g),k=za(k,g,u,null),k.flags|=2,f.return=s,k.return=s,f.sibling=k,s.child=f,nu(s,r.child,null,u),f=s.child,f.memoizedState=Ig(u),f.childLanes=Ng(r,A,u),s.memoizedState=Rg,s=Eh(null,f));else if(Vo(s),f_(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var oe=A.dgst;A=oe,f=Error(i(419)),f.stack="",f.digest=A,Yl({value:f,source:null,stack:null}),s=Pg(r,s,u)}else if(qn||Yu(r,s,u,!1),A=(u&r.childLanes)!==0,qn||A){if(A=rn,A!==null&&(f=Cl(A,u),f!==0&&f!==Z.retryLane))throw Z.retryLane=f,cs(r,f),_r(A,r,f),Ag;h_(k)||Pd(),s=Pg(r,s,u)}else h_(k)?(s.flags|=192,s.child=r.child,s=null):(r=Z.treeContext,Ut=ds(k.nextSibling),Vt=s,wt=!0,ca=null,fr=!1,r!==null&&qi(s,r),s=kg(s,f.children),s.flags|=4096);return s}return g?(Uo(),k=f.fallback,g=s.mode,Z=r.child,oe=Z.sibling,f=hs(Z,{mode:"hidden",children:f.children}),f.subtreeFlags=Z.subtreeFlags&65011712,oe!==null?k=hs(oe,k):(k=za(k,g,u,null),k.flags|=2),k.return=s,f.return=s,f.sibling=k,s.child=f,Eh(null,f),f=s.child,k=r.child.memoizedState,k===null?k=Ig(u):(g=k.cachePool,g!==null?(Z=Hn._currentValue,g=g.parent!==Z?{parent:Z,pool:Z}:g):g=Ob(),k={baseLanes:k.baseLanes|u,cachePool:g}),f.memoizedState=k,f.childLanes=Ng(r,A,u),s.memoizedState=Rg,Eh(r.child,f)):(Vo(s),u=r.child,r=u.sibling,u=hs(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,r!==null&&(A=s.deletions,A===null?(s.deletions=[r],s.flags|=16):A.push(r)),s.child=u,s.memoizedState=null,u)}function kg(r,s){return s=Sd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Sd(r,s){return r=Pi(22,r,null,s),r.lanes=0,r}function Pg(r,s,u){return nu(s,r.child,null,u),r=kg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Gw(r,s,u){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),Gp(r.return,s,u)}function Lg(r,s,u,f,g,v){var A=r.memoizedState;A===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g,treeForkCount:v}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=f,A.tail=u,A.tailMode=g,A.treeForkCount=v)}function Kw(r,s,u){var f=s.pendingProps,g=f.revealOrder,v=f.tail;f=f.children;var A=Dn.current,k=(A&2)!==0;if(k?(A=A&1|2,s.flags|=128):A&=1,ge(Dn,A),yi(r,s,f,u),f=wt?N:0,!k&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gw(r,u,s);else if(r.tag===19)Gw(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(u=s.child,g=null;u!==null;)r=u.alternate,r!==null&&hd(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=s.child,s.child=null):(g=u.sibling,u.sibling=null),Lg(s,!1,g,u,v,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&hd(r)===null){s.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Lg(s,!0,u,null,v,f);break;case"together":Lg(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Ha(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),Ho|=s.lanes,(u&s.childLanes)===0)if(r!==null){if(Yu(r,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,u=hs(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=hs(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function Og(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&id(r)))}function rI(r,s,u){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),Do(s,Hn,r.memoizedState.cache),Va();break;case 27:case 5:Rn(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:Do(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sg(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Vo(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Zw(r,s,u):(Vo(s),r=Ha(r,s,u),r!==null?r.sibling:null);Vo(s);break;case 19:var g=(r.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(Yu(r,s,u,!1),f=(u&s.childLanes)!==0),g){if(f)return Kw(r,s,u);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(Dn,Dn.current),f)break;return null;case 22:return s.lanes=0,Uw(r,s,u,s.pendingProps);case 24:Do(s,Hn,r.memoizedState.cache)}return Ha(r,s,u)}function Ww(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps)qn=!0;else{if(!Og(r,u)&&(s.flags&128)===0)return qn=!1,rI(r,s,u);qn=(r.flags&131072)!==0}else qn=!1,wt&&(s.flags&1048576)!==0&&mt(s,N,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(r=eu(s.elementType),s.type=r,typeof r=="function")Gu(r)?(f=ru(r,f),s.tag=1,s=$w(null,s,r,f,u)):(s.tag=0,s=Cg(null,s,r,f,u));else{if(r!=null){var g=r.$$typeof;if(g===K){s.tag=11,s=jw(null,s,r,f,u);break e}else if(g===P){s.tag=14,s=zw(null,s,r,f,u);break e}}throw s=Ae(r)||r,Error(i(306,s,""))}}return s;case 0:return Cg(r,s,s.type,s.pendingProps,u);case 1:return f=s.type,g=ru(f,s.pendingProps),$w(r,s,f,g,u);case 3:e:{if(nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));f=s.pendingProps;var v=s.memoizedState;g=v.element,eg(r,s),_h(s,f,null,u);var A=s.memoizedState;if(f=A.cache,Do(s,Hn,f),f!==v.cache&&Kp(s,[Hn],u,!0),gh(),f=A.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=qw(r,s,f,u);break e}else if(f!==g){g=h(Error(i(424)),s),Yl(g),s=qw(r,s,f,u);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ut=ds(r.firstChild),Vt=s,wt=!0,ca=null,fr=!0,u=Ub(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Va(),f===g){s=Ha(r,s,u);break e}yi(r,s,f,u)}s=s.child}return s;case 26:return Ed(r,s),r===null?(u=aE(s.type,null,s.pendingProps,null))?s.memoizedState=u:wt||(u=s.type,r=s.pendingProps,f=Vd(Le.current).createElement(u),f[wn]=s,f[In]=r,vi(f,u,r),Nn(f),s.stateNode=f):s.memoizedState=aE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Rn(s),r===null&&wt&&(f=s.stateNode=iE(s.type,s.pendingProps,Le.current),Vt=s,fr=!0,g=Ut,Ko(s.type)?(d_=g,Ut=ds(f.firstChild)):Ut=g),yi(r,s,s.pendingProps.children,u),Ed(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&wt&&((g=f=Ut)&&(f=OI(f,s.type,s.pendingProps,fr),f!==null?(s.stateNode=f,Vt=s,Ut=ds(f.firstChild),fr=!1,g=!0):g=!1),g||ha(s)),Rn(s),g=s.type,v=s.pendingProps,A=r!==null?r.memoizedProps:null,f=v.children,l_(g,v)?f=null:A!==null&&l_(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=og(r,s,WR,null,null,u),jh._currentValue=g),Ed(r,s),yi(r,s,f,u),s.child;case 6:return r===null&&wt&&((r=u=Ut)&&(u=DI(u,s.pendingProps,fr),u!==null?(s.stateNode=u,Vt=s,Ut=null,r=!0):r=!1),r||ha(s)),null;case 13:return Zw(r,s,u);case 4:return nt(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=nu(s,null,f,u):yi(r,s,f,u),s.child;case 11:return jw(r,s,s.type,s.pendingProps,u);case 7:return yi(r,s,s.pendingProps,u),s.child;case 8:return yi(r,s,s.pendingProps.children,u),s.child;case 12:return yi(r,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,Do(s,s.type,f.value),yi(r,s,f.children,u),s.child;case 9:return g=s.type._context,f=s.pendingProps.children,Xl(s),g=_i(g),f=f(g),s.flags|=1,yi(r,s,f,u),s.child;case 14:return zw(r,s,s.type,s.pendingProps,u);case 15:return Vw(r,s,s.type,s.pendingProps,u);case 19:return Kw(r,s,u);case 31:return iI(r,s,u);case 22:return Uw(r,s,u,s.pendingProps);case 24:return Xl(s),f=_i(Hn),r===null?(g=Qp(),g===null&&(g=rn,v=Wp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),s.memoizedState={parent:f,cache:g},Jp(s),Do(s,Hn,g)):((r.lanes&u)!==0&&(eg(r,s),_h(s,null,null,u),gh()),g=r.memoizedState,v=s.memoizedState,g.parent!==f?(g={parent:f,cache:f},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Do(s,Hn,f)):(f=v.cache,Do(s,Hn,f),f!==g.cache&&Kp(s,[Hn],u,!0))),yi(r,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function $a(r){r.flags|=4}function Dg(r,s,u,f,g){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(E0())r.flags|=8192;else throw tu=od,Xp}else r.flags&=-16777217}function Yw(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!hE(s))if(E0())r.flags|=8192;else throw tu=od,Xp}function Td(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Lu():536870912,r.lanes|=s,lc|=s)}function Sh(r,s){if(!wt)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function dn(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(s)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,s}function sI(r,s,u){var f=s.pendingProps;switch(kn(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return dn(s),null;case 3:return u=s.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Ua(Hn),Pt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Os(s)?$a(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ch())),dn(s),null;case 26:var g=s.type,v=s.memoizedState;return r===null?($a(s),v!==null?(dn(s),Yw(s,v)):(dn(s),Dg(s,g,null,f,u))):v?v!==r.memoizedState?($a(s),dn(s),Yw(s,v)):(dn(s),s.flags&=-16777217):(r=r.memoizedProps,r!==f&&$a(s),dn(s),Dg(s,g,r,f,u)),null;case 27:if(Xi(s),u=Le.current,g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&$a(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return dn(s),null}r=_e.current,Os(s)?uh(s):(r=iE(g,f,u),s.stateNode=r,$a(s))}return dn(s),null;case 5:if(Xi(s),g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&$a(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return dn(s),null}if(v=_e.current,Os(s))uh(s);else{var A=Vd(Le.current);switch(v){case 1:v=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=A.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?A.createElement("select",{is:f.is}):A.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?A.createElement(g,{is:f.is}):A.createElement(g)}}v[wn]=s,v[In]=f;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)v.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=v;e:switch(vi(v,g,f),g){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&$a(s)}}return dn(s),Dg(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,u),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==f&&$a(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(r=Le.current,Os(s)){if(r=s.stateNode,u=s.memoizedProps,f=null,g=Vt,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[wn]=s,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Z0(r.nodeValue,u)),r||ha(s,!0)}else r=Vd(r).createTextNode(f),r[wn]=s,s.stateNode=r}return dn(s),null;case 31:if(u=s.memoizedState,r===null||r.memoizedState!==null){if(f=Os(s),u!==null){if(r===null){if(!f)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[wn]=s}else Va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),r=!1}else u=ch(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return s.flags&256?(Ur(s),s):(Ur(s),null);if((s.flags&128)!==0)throw Error(i(558))}return dn(s),null;case 13:if(f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Os(s),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[wn]=s}else Va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),g=!1}else g=ch(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ur(s),s):(Ur(s),null)}return Ur(s),(s.flags&128)!==0?(s.lanes=u,s):(u=f!==null,r=r!==null&&r.memoizedState!==null,u&&(f=s.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==g&&(f.flags|=2048)),u!==r&&u&&(s.child.flags|=8192),Td(s,s.updateQueue),dn(s),null);case 4:return Pt(),r===null&&i_(s.stateNode.containerInfo),dn(s),null;case 10:return Ua(s.type),dn(s),null;case 19:if(Y(Dn),f=s.memoizedState,f===null)return dn(s),null;if(g=(s.flags&128)!==0,v=f.rendering,v===null)if(g)Sh(f,!1);else{if(Ln!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=hd(r),v!==null){for(s.flags|=128,Sh(f,!1),r=v.updateQueue,s.updateQueue=r,Td(s,r),s.subtreeFlags=0,r=u,u=s.child;u!==null;)ah(u,r),u=u.sibling;return ge(Dn,Dn.current&1|2),wt&&$e(s,f.treeForkCount),s.child}r=r.sibling}f.tail!==null&&Ne()>Id&&(s.flags|=128,g=!0,Sh(f,!1),s.lanes=4194304)}else{if(!g)if(r=hd(v),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,s.updateQueue=r,Td(s,r),Sh(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!wt)return dn(s),null}else 2*Ne()-f.renderingStartTime>Id&&u!==536870912&&(s.flags|=128,g=!0,Sh(f,!1),s.lanes=4194304);f.isBackwards?(v.sibling=s.child,s.child=v):(r=f.last,r!==null?r.sibling=v:s.child=v,f.last=v)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ne(),r.sibling=null,u=Dn.current,ge(Dn,g?u&1|2:u&1),wt&&$e(s,f.treeForkCount),r):(dn(s),null);case 22:case 23:return Ur(s),rg(),f=s.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),u=s.updateQueue,u!==null&&Td(s,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),r!==null&&Y(Jl),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ua(Hn),dn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function aI(r,s){switch(kn(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ua(Hn),Pt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Xi(s),null;case 31:if(s.memoizedState!==null){if(Ur(s),s.alternate===null)throw Error(i(340));Va()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Ur(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Va()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Y(Dn),null;case 4:return Pt(),null;case 10:return Ua(s.type),null;case 22:case 23:return Ur(s),rg(),r!==null&&Y(Jl),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ua(Hn),null;case 25:return null;default:return null}}function Qw(r,s){switch(kn(s),s.tag){case 3:Ua(Hn),Pt();break;case 26:case 27:case 5:Xi(s);break;case 4:Pt();break;case 31:s.memoizedState!==null&&Ur(s);break;case 13:Ur(s);break;case 19:Y(Dn);break;case 10:Ua(s.type);break;case 22:case 23:Ur(s),rg(),r!==null&&Y(Jl);break;case 24:Ua(Hn)}}function Th(r,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){f=void 0;var v=u.create,A=u.inst;f=v(),A.destroy=f}u=u.next}while(u!==g)}}catch(k){Kt(s,s.return,k)}}function Bo(r,s,u){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&r)===r){var A=f.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,g=s;var Z=u,oe=k;try{oe()}catch(ye){Kt(g,Z,ye)}}}f=f.next}while(f!==v)}}catch(ye){Kt(s,s.return,ye)}}function Xw(r){var s=r.updateQueue;if(s!==null){var u=r.stateNode;try{Fb(s,u)}catch(f){Kt(r,r.return,f)}}}function Jw(r,s,u){u.props=ru(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Kt(r,s,f)}}function xh(r,s){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(g){Kt(r,s,g)}}function da(r,s){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){Kt(r,s,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){Kt(r,s,g)}else u.current=null}function e0(r){var s=r.type,u=r.memoizedProps,f=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){Kt(r,r.return,g)}}function Mg(r,s,u){try{var f=r.stateNode;RI(f,r.type,u,s),f[In]=s}catch(g){Kt(r,r.return,g)}}function t0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ko(r.type)||r.tag===4}function jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||t0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ko(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zg(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(r),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ci));else if(f!==4&&(f===27&&Ko(r.type)&&(u=r.stateNode,s=null),r=r.child,r!==null))for(zg(r,s,u),r=r.sibling;r!==null;)zg(r,s,u),r=r.sibling}function xd(r,s,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(f!==4&&(f===27&&Ko(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(xd(r,s,u),r=r.sibling;r!==null;)xd(r,s,u),r=r.sibling}function n0(r){var s=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);vi(s,f,u),s[wn]=r,s[In]=u}catch(v){Kt(r,r.return,v)}}var qa=!1,Zn=!1,Vg=!1,i0=typeof WeakSet=="function"?WeakSet:Set,fi=null;function oI(r,s){if(r=r.containerInfo,a_=Zd,r=Fl(r),sa(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var A=0,k=-1,Z=-1,oe=0,ye=0,Se=r,he=null;t:for(;;){for(var me;Se!==u||g!==0&&Se.nodeType!==3||(k=A+g),Se!==v||f!==0&&Se.nodeType!==3||(Z=A+f),Se.nodeType===3&&(A+=Se.nodeValue.length),(me=Se.firstChild)!==null;)he=Se,Se=me;for(;;){if(Se===r)break t;if(he===u&&++oe===g&&(k=A),he===v&&++ye===f&&(Z=A),(me=Se.nextSibling)!==null)break;Se=he,he=Se.parentNode}Se=me}u=k===-1||Z===-1?null:{start:k,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(o_={focusedElem:r,selectionRange:u},Zd=!1,fi=s;fi!==null;)if(s=fi,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fi=r;else for(;fi!==null;){switch(s=fi,v=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)g=r[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=s,g=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Be=ru(u.type,g);r=f.getSnapshotBeforeUpdate(Be,v),f.__reactInternalSnapshotBeforeUpdate=r}catch(Xe){Kt(u,u.return,Xe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,u=r.nodeType,u===9)c_(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":c_(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,fi=r;break}fi=s.return}}function r0(r,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ga(r,u),f&4&&Th(5,u);break;case 1:if(Ga(r,u),f&4)if(r=u.stateNode,s===null)try{r.componentDidMount()}catch(A){Kt(u,u.return,A)}else{var g=ru(u.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(g,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Kt(u,u.return,A)}}f&64&&Xw(u),f&512&&xh(u,u.return);break;case 3:if(Ga(r,u),f&64&&(r=u.updateQueue,r!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Fb(r,s)}catch(A){Kt(u,u.return,A)}}break;case 27:s===null&&f&4&&n0(u);case 26:case 5:Ga(r,u),s===null&&f&4&&e0(u),f&512&&xh(u,u.return);break;case 12:Ga(r,u);break;case 31:Ga(r,u),f&4&&o0(r,u);break;case 13:Ga(r,u),f&4&&l0(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=gI.bind(null,u),MI(r,u))));break;case 22:if(f=u.memoizedState!==null||qa,!f){s=s!==null&&s.memoizedState!==null||Zn,g=qa;var v=Zn;qa=f,(Zn=s)&&!v?Ka(r,u,(u.subtreeFlags&8772)!==0):Ga(r,u),qa=g,Zn=v}break;case 30:break;default:Ga(r,u)}}function s0(r){var s=r.alternate;s!==null&&(r.alternate=null,s0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&_o(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pn=null,dr=!1;function Za(r,s,u){for(u=u.child;u!==null;)a0(r,s,u),u=u.sibling}function a0(r,s,u){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ai,u)}catch{}switch(u.tag){case 26:Zn||da(u,s),Za(r,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Zn||da(u,s);var f=pn,g=dr;Ko(u.type)&&(pn=u.stateNode,dr=!1),Za(r,s,u),Oh(u.stateNode),pn=f,dr=g;break;case 5:Zn||da(u,s);case 6:if(f=pn,g=dr,pn=null,Za(r,s,u),pn=f,dr=g,pn!==null)if(dr)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(u.stateNode)}catch(v){Kt(u,s,v)}else try{pn.removeChild(u.stateNode)}catch(v){Kt(u,s,v)}break;case 18:pn!==null&&(dr?(r=pn,X0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),gc(r)):X0(pn,u.stateNode));break;case 4:f=pn,g=dr,pn=u.stateNode.containerInfo,dr=!0,Za(r,s,u),pn=f,dr=g;break;case 0:case 11:case 14:case 15:Bo(2,u,s),Zn||Bo(4,u,s),Za(r,s,u);break;case 1:Zn||(da(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Jw(u,s,f)),Za(r,s,u);break;case 21:Za(r,s,u);break;case 22:Zn=(f=Zn)||u.memoizedState!==null,Za(r,s,u),Zn=f;break;default:Za(r,s,u)}}function o0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{gc(r)}catch(u){Kt(s,s.return,u)}}}function l0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{gc(r)}catch(u){Kt(s,s.return,u)}}function lI(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new i0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new i0),s;default:throw Error(i(435,r.tag))}}function Ad(r,s){var u=lI(r);s.forEach(function(f){if(!u.has(f)){u.add(f);var g=_I.bind(null,r,f);f.then(g,g)}})}function mr(r,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],v=r,A=s,k=A;e:for(;k!==null;){switch(k.tag){case 27:if(Ko(k.type)){pn=k.stateNode,dr=!1;break e}break;case 5:pn=k.stateNode,dr=!1;break e;case 3:case 4:pn=k.stateNode.containerInfo,dr=!0;break e}k=k.return}if(pn===null)throw Error(i(160));a0(v,A,g),pn=null,dr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)u0(s,r),s=s.sibling}var Ms=null;function u0(r,s){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:mr(s,r),pr(r),f&4&&(Bo(3,r,r.return),Th(3,r),Bo(5,r,r.return));break;case 1:mr(s,r),pr(r),f&512&&(Zn||u===null||da(u,u.return)),f&64&&qa&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=Ms;if(mr(s,r),pr(r),f&512&&(Zn||u===null||da(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){e:{f=r.type,u=r.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Jr]||v[wn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(f),g.head.insertBefore(v,g.querySelector("head > title"))),vi(v,f,u),v[wn]=r,Nn(v),f=v;break e;case"link":var A=uE("link","href",g).get(f+(u.href||""));if(A){for(var k=0;k<A.length;k++)if(v=A[k],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(k,1);break t}}v=g.createElement(f),vi(v,f,u),g.head.appendChild(v);break;case"meta":if(A=uE("meta","content",g).get(f+(u.content||""))){for(k=0;k<A.length;k++)if(v=A[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(k,1);break t}}v=g.createElement(f),vi(v,f,u),g.head.appendChild(v);break;default:throw Error(i(468,f))}v[wn]=r,Nn(v),f=v}r.stateNode=f}else cE(g,r.type,r.stateNode);else r.stateNode=lE(g,f,r.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?cE(g,r.type,r.stateNode):lE(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Mg(r,r.memoizedProps,u.memoizedProps)}break;case 27:mr(s,r),pr(r),f&512&&(Zn||u===null||da(u,u.return)),u!==null&&f&4&&Mg(r,r.memoizedProps,u.memoizedProps);break;case 5:if(mr(s,r),pr(r),f&512&&(Zn||u===null||da(u,u.return)),r.flags&32){g=r.stateNode;try{Bn(g,"")}catch(Be){Kt(r,r.return,Be)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,Mg(r,g,u!==null?u.memoizedProps:g)),f&1024&&(Vg=!0);break;case 6:if(mr(s,r),pr(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(Be){Kt(r,r.return,Be)}}break;case 3:if(Fd=null,g=Ms,Ms=Ud(s.containerInfo),mr(s,r),Ms=g,pr(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{gc(s.containerInfo)}catch(Be){Kt(r,r.return,Be)}Vg&&(Vg=!1,c0(r));break;case 4:f=Ms,Ms=Ud(r.stateNode.containerInfo),mr(s,r),pr(r),Ms=f;break;case 12:mr(s,r),pr(r);break;case 31:mr(s,r),pr(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ad(r,f)));break;case 13:mr(s,r),pr(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rd=Ne()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ad(r,f)));break;case 22:g=r.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,oe=qa,ye=Zn;if(qa=oe||g,Zn=ye||Z,mr(s,r),Zn=ye,qa=oe,pr(r),f&8192)e:for(s=r.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(u===null||Z||qa||Zn||su(r)),u=null,s=r;;){if(s.tag===5||s.tag===26){if(u===null){Z=u=s;try{if(v=Z.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=Z.stateNode;var Se=Z.memoizedProps.style,he=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;k.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Be){Kt(Z,Z.return,Be)}}}else if(s.tag===6){if(u===null){Z=s;try{Z.stateNode.nodeValue=g?"":Z.memoizedProps}catch(Be){Kt(Z,Z.return,Be)}}}else if(s.tag===18){if(u===null){Z=s;try{var me=Z.stateNode;g?J0(me,!0):J0(Z.stateNode,!1)}catch(Be){Kt(Z,Z.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Ad(r,u))));break;case 19:mr(s,r),pr(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ad(r,f)));break;case 30:break;case 21:break;default:mr(s,r),pr(r)}}function pr(r){var s=r.flags;if(s&2){try{for(var u,f=r.return;f!==null;){if(t0(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,v=jg(r);xd(r,v,g);break;case 5:var A=u.stateNode;u.flags&32&&(Bn(A,""),u.flags&=-33);var k=jg(r);xd(r,k,A);break;case 3:case 4:var Z=u.stateNode.containerInfo,oe=jg(r);zg(r,oe,Z);break;default:throw Error(i(161))}}catch(ye){Kt(r,r.return,ye)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function c0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;c0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ga(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r0(r,s.alternate,s),s=s.sibling}function su(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Bo(4,s,s.return),su(s);break;case 1:da(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Jw(s,s.return,u),su(s);break;case 27:Oh(s.stateNode);case 26:case 5:da(s,s.return),su(s);break;case 22:s.memoizedState===null&&su(s);break;case 30:su(s);break;default:su(s)}r=r.sibling}}function Ka(r,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,g=r,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:Ka(g,v,u),Th(4,v);break;case 1:if(Ka(g,v,u),f=v,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(oe){Kt(f,f.return,oe)}if(f=v,g=f.updateQueue,g!==null){var k=f.stateNode;try{var Z=g.shared.hiddenCallbacks;if(Z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Z.length;g++)Bb(Z[g],k)}catch(oe){Kt(f,f.return,oe)}}u&&A&64&&Xw(v),xh(v,v.return);break;case 27:n0(v);case 26:case 5:Ka(g,v,u),u&&f===null&&A&4&&e0(v),xh(v,v.return);break;case 12:Ka(g,v,u);break;case 31:Ka(g,v,u),u&&A&4&&o0(g,v);break;case 13:Ka(g,v,u),u&&A&4&&l0(g,v);break;case 22:v.memoizedState===null&&Ka(g,v,u),xh(v,v.return);break;case 30:break;default:Ka(g,v,u)}s=s.sibling}}function Ug(r,s){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&hh(u))}function Bg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hh(r))}function js(r,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h0(r,s,u,f),s=s.sibling}function h0(r,s,u,f){var g=s.flags;switch(s.tag){case 0:case 11:case 15:js(r,s,u,f),g&2048&&Th(9,s);break;case 1:js(r,s,u,f);break;case 3:js(r,s,u,f),g&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hh(r)));break;case 12:if(g&2048){js(r,s,u,f),r=s.stateNode;try{var v=s.memoizedProps,A=v.id,k=v.onPostCommit;typeof k=="function"&&k(A,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Z){Kt(s,s.return,Z)}}else js(r,s,u,f);break;case 31:js(r,s,u,f);break;case 13:js(r,s,u,f);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?js(r,s,u,f):Ah(r,s):v._visibility&2?js(r,s,u,f):(v._visibility|=2,sc(r,s,u,f,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Ug(A,s);break;case 24:js(r,s,u,f),g&2048&&Bg(s.alternate,s);break;default:js(r,s,u,f)}}function sc(r,s,u,f,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=r,A=s,k=u,Z=f,oe=A.flags;switch(A.tag){case 0:case 11:case 15:sc(v,A,k,Z,g),Th(8,A);break;case 23:break;case 22:var ye=A.stateNode;A.memoizedState!==null?ye._visibility&2?sc(v,A,k,Z,g):Ah(v,A):(ye._visibility|=2,sc(v,A,k,Z,g)),g&&oe&2048&&Ug(A.alternate,A);break;case 24:sc(v,A,k,Z,g),g&&oe&2048&&Bg(A.alternate,A);break;default:sc(v,A,k,Z,g)}s=s.sibling}}function Ah(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=r,f=s,g=f.flags;switch(f.tag){case 22:Ah(u,f),g&2048&&Ug(f.alternate,f);break;case 24:Ah(u,f),g&2048&&Bg(f.alternate,f);break;default:Ah(u,f)}s=s.sibling}}var Ch=8192;function ac(r,s,u){if(r.subtreeFlags&Ch)for(r=r.child;r!==null;)f0(r,s,u),r=r.sibling}function f0(r,s,u){switch(r.tag){case 26:ac(r,s,u),r.flags&Ch&&r.memoizedState!==null&&KI(u,Ms,r.memoizedState,r.memoizedProps);break;case 5:ac(r,s,u);break;case 3:case 4:var f=Ms;Ms=Ud(r.stateNode.containerInfo),ac(r,s,u),Ms=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Ch,Ch=16777216,ac(r,s,u),Ch=f):ac(r,s,u));break;default:ac(r,s,u)}}function d0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Rh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];fi=f,p0(f,r)}d0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m0(r),r=r.sibling}function m0(r){switch(r.tag){case 0:case 11:case 15:Rh(r),r.flags&2048&&Bo(9,r,r.return);break;case 3:Rh(r);break;case 12:Rh(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Cd(r)):Rh(r);break;default:Rh(r)}}function Cd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];fi=f,p0(f,r)}d0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Bo(8,s,s.return),Cd(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Cd(s));break;default:Cd(s)}r=r.sibling}}function p0(r,s){for(;fi!==null;){var u=fi;switch(u.tag){case 0:case 11:case 15:Bo(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:hh(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,fi=f;else e:for(u=r;fi!==null;){f=fi;var g=f.sibling,v=f.return;if(s0(f),f===u){fi=null;break e}if(g!==null){g.return=v,fi=g;break e}fi=v}}}var uI={getCacheForType:function(r){var s=_i(Hn),u=s.data.get(r);return u===void 0&&(u=r(),s.data.set(r,u)),u},cacheSignal:function(){return _i(Hn).controller.signal}},cI=typeof WeakMap=="function"?WeakMap:Map,Ht=0,rn=null,Et=null,Ct=0,Gt=0,Br=null,Fo=!1,oc=!1,Fg=!1,Wa=0,Ln=0,Ho=0,au=0,Hg=0,Fr=0,lc=0,Ih=null,gr=null,$g=!1,Rd=0,g0=0,Id=1/0,Nd=null,$o=null,ni=0,qo=null,uc=null,Ya=0,qg=0,Zg=null,_0=null,Nh=0,Gg=null;function Hr(){return(Ht&2)!==0&&Ct!==0?Ct&-Ct:te.T!==null?Jg():Rl()}function y0(){if(Fr===0)if((Ct&536870912)===0||wt){var r=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),Fr=r}else Fr=536870912;return r=Vr.current,r!==null&&(r.flags|=32),Fr}function _r(r,s,u){(r===rn&&(Gt===2||Gt===9)||r.cancelPendingCommit!==null)&&(cc(r,0),Zo(r,Ct,Fr,!1)),Ss(r,u),((Ht&2)===0||r!==rn)&&(r===rn&&((Ht&2)===0&&(au|=u),Ln===4&&Zo(r,Ct,Fr,!1)),ma(r))}function v0(r,s,u){if((Ht&6)!==0)throw Error(i(327));var f=!u&&(s&127)===0&&(s&r.expiredLanes)===0||Cr(r,s),g=f?dI(r,s):Wg(r,s,!0),v=f;do{if(g===0){oc&&!f&&Zo(r,s,0,!1);break}else{if(u=r.current.alternate,v&&!hI(u)){g=Wg(r,s,!1),v=!1;continue}if(g===2){if(v=s,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var k=r;g=Ih;var Z=k.current.memoizedState.isDehydrated;if(Z&&(cc(k,A).flags|=256),A=Wg(k,A,!1),A!==2){if(Fg&&!Z){k.errorRecoveryDisabledLanes|=v,au|=v,g=4;break e}v=gr,gr=g,v!==null&&(gr===null?gr=v:gr.push.apply(gr,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){cc(r,0),Zo(r,s,0,!0);break}e:{switch(f=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Zo(f,s,Fr,!Fo);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=Rd+300-Ne(),10<g)){if(Zo(f,s,Fr,!Fo),Qr(f,0,!0)!==0)break e;Ya=s,f.timeoutHandle=Y0(b0.bind(null,f,u,gr,Nd,$g,s,Fr,au,lc,Fo,v,"Throttled",-0,0),g);break e}b0(f,u,gr,Nd,$g,s,Fr,au,lc,Fo,v,null,-0,0)}}break}while(!0);ma(r)}function b0(r,s,u,f,g,v,A,k,Z,oe,ye,Se,he,me){if(r.timeoutHandle=-1,Se=s.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},f0(s,v,Se);var Be=(v&62914560)===v?Rd-Ne():(v&4194048)===v?g0-Ne():0;if(Be=WI(Se,Be),Be!==null){Ya=v,r.cancelPendingCommit=Be(R0.bind(null,r,s,v,u,f,g,A,k,Z,ye,Se,null,he,me)),Zo(r,v,A,!oe);return}}R0(r,s,v,u,f,g,A,k,Z)}function hI(r){for(var s=r;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!ci(v(),g))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zo(r,s,u,f){s&=~Hg,s&=~au,r.suspendedLanes|=s,r.pingedLanes&=~s,f&&(r.warmLanes|=s),f=r.expirationTimes;for(var g=s;0<g;){var v=31-un(g),A=1<<v;f[v]=-1,g&=~A}u!==0&&Ra(r,u,s)}function kd(){return(Ht&6)===0?(kh(0),!1):!0}function Kg(){if(Et!==null){if(Gt===0)var r=Et.return;else r=Et,Ds=fa=null,cg(r),ec=null,dh=0,r=Et;for(;r!==null;)Qw(r.alternate,r),r=r.return;Et=null}}function cc(r,s){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,kI(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Ya=0,Kg(),rn=r,Et=u=hs(r.current,null),Ct=s,Gt=0,Br=null,Fo=!1,oc=Cr(r,s),Fg=!1,lc=Fr=Hg=au=Ho=Ln=0,gr=Ih=null,$g=!1,(s&8)!==0&&(s|=s&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=s;0<f;){var g=31-un(f),v=1<<g;s|=r[g],f&=~v}return Wa=s,Gl(),u}function w0(r,s){ft=null,te.H=wh,s===Ju||s===ad?(s=jb(),Gt=3):s===Xp?(s=jb(),Gt=4):Gt=s===Ag?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Br=s,Et===null&&(Ln=1,bd(r,h(s,r.current)))}function E0(){var r=Vr.current;return r===null?!0:(Ct&4194048)===Ct?fs===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?r===fs:!1}function S0(){var r=te.H;return te.H=wh,r===null?wh:r}function T0(){var r=te.A;return te.A=uI,r}function Pd(){Ln=4,Fo||(Ct&4194048)!==Ct&&Vr.current!==null||(oc=!0),(Ho&134217727)===0&&(au&134217727)===0||rn===null||Zo(rn,Ct,Fr,!1)}function Wg(r,s,u){var f=Ht;Ht|=2;var g=S0(),v=T0();(rn!==r||Ct!==s)&&(Nd=null,cc(r,s)),s=!1;var A=Ln;e:do try{if(Gt!==0&&Et!==null){var k=Et,Z=Br;switch(Gt){case 8:Kg(),A=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(s=!0);var oe=Gt;if(Gt=0,Br=null,hc(r,k,Z,oe),u&&oc){A=0;break e}break;default:oe=Gt,Gt=0,Br=null,hc(r,k,Z,oe)}}fI(),A=Ln;break}catch(ye){w0(r,ye)}while(!0);return s&&r.shellSuspendCounter++,Ds=fa=null,Ht=f,te.H=g,te.A=v,Et===null&&(rn=null,Ct=0,Gl()),A}function fI(){for(;Et!==null;)x0(Et)}function dI(r,s){var u=Ht;Ht|=2;var f=S0(),g=T0();rn!==r||Ct!==s?(Nd=null,Id=Ne()+500,cc(r,s)):oc=Cr(r,s);e:do try{if(Gt!==0&&Et!==null){s=Et;var v=Br;t:switch(Gt){case 1:Gt=0,Br=null,hc(r,s,v,1);break;case 2:case 9:if(Db(v)){Gt=0,Br=null,A0(s);break}s=function(){Gt!==2&&Gt!==9||rn!==r||(Gt=7),ma(r)},v.then(s,s);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:Db(v)?(Gt=0,Br=null,A0(s)):(Gt=0,Br=null,hc(r,s,v,7));break;case 5:var A=null;switch(Et.tag){case 26:A=Et.memoizedState;case 5:case 27:var k=Et;if(A?hE(A):k.stateNode.complete){Gt=0,Br=null;var Z=k.sibling;if(Z!==null)Et=Z;else{var oe=k.return;oe!==null?(Et=oe,Ld(oe)):Et=null}break t}}Gt=0,Br=null,hc(r,s,v,5);break;case 6:Gt=0,Br=null,hc(r,s,v,6);break;case 8:Kg(),Ln=6;break e;default:throw Error(i(462))}}mI();break}catch(ye){w0(r,ye)}while(!0);return Ds=fa=null,te.H=f,te.A=g,Ht=u,Et!==null?0:(rn=null,Ct=0,Gl(),Ln)}function mI(){for(;Et!==null&&!se();)x0(Et)}function x0(r){var s=Ww(r.alternate,r,Wa);r.memoizedProps=r.pendingProps,s===null?Ld(r):Et=s}function A0(r){var s=r,u=s.alternate;switch(s.tag){case 15:case 0:s=Hw(u,s,s.pendingProps,s.type,void 0,Ct);break;case 11:s=Hw(u,s,s.pendingProps,s.type.render,s.ref,Ct);break;case 5:cg(s);default:Qw(u,s),s=Et=ah(s,Wa),s=Ww(u,s,Wa)}r.memoizedProps=r.pendingProps,s===null?Ld(r):Et=s}function hc(r,s,u,f){Ds=fa=null,cg(s),ec=null,dh=0;var g=s.return;try{if(nI(r,g,s,u,Ct)){Ln=1,bd(r,h(u,r.current)),Et=null;return}}catch(v){if(g!==null)throw Et=g,v;Ln=1,bd(r,h(u,r.current)),Et=null;return}s.flags&32768?(wt||f===1?r=!0:oc||(Ct&536870912)!==0?r=!1:(Fo=r=!0,(f===2||f===9||f===3||f===6)&&(f=Vr.current,f!==null&&f.tag===13&&(f.flags|=16384))),C0(s,r)):Ld(s)}function Ld(r){var s=r;do{if((s.flags&32768)!==0){C0(s,Fo);return}r=s.return;var u=sI(s.alternate,s,Wa);if(u!==null){Et=u;return}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);Ln===0&&(Ln=5)}function C0(r,s){do{var u=aI(r.alternate,r);if(u!==null){u.flags&=32767,Et=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(r=r.sibling,r!==null)){Et=r;return}Et=r=u}while(r!==null);Ln=6,Et=null}function R0(r,s,u,f,g,v,A,k,Z){r.cancelPendingCommit=null;do Od();while(ni!==0);if((Ht&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(v=s.lanes|s.childLanes,v|=Zu,rh(r,u,v,A,k,Z),r===rn&&(Et=rn=null,Ct=0),uc=s,qo=r,Ya=u,qg=v,Zg=g,_0=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,yI(dt,function(){return L0(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=te.T,te.T=null,g=de.p,de.p=2,A=Ht,Ht|=4;try{oI(r,s,u)}finally{Ht=A,de.p=g,te.T=f}}ni=1,I0(),N0(),k0()}}function I0(){if(ni===1){ni=0;var r=qo,s=uc,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=te.T,te.T=null;var f=de.p;de.p=2;var g=Ht;Ht|=4;try{u0(s,r);var v=o_,A=Fl(r.containerInfo),k=v.focusedElem,Z=v.selectionRange;if(A!==k&&k&&k.ownerDocument&&Fu(k.ownerDocument.documentElement,k)){if(Z!==null&&sa(k)){var oe=Z.start,ye=Z.end;if(ye===void 0&&(ye=oe),"selectionStart"in k)k.selectionStart=oe,k.selectionEnd=Math.min(ye,k.value.length);else{var Se=k.ownerDocument||document,he=Se&&Se.defaultView||window;if(he.getSelection){var me=he.getSelection(),Be=k.textContent.length,Xe=Math.min(Z.start,Be),Jt=Z.end===void 0?Xe:Math.min(Z.end,Be);!me.extend&&Xe>Jt&&(A=Jt,Jt=Xe,Xe=A);var J=Bl(k,Xe),Q=Bl(k,Jt);if(J&&Q&&(me.rangeCount!==1||me.anchorNode!==J.node||me.anchorOffset!==J.offset||me.focusNode!==Q.node||me.focusOffset!==Q.offset)){var ae=Se.createRange();ae.setStart(J.node,J.offset),me.removeAllRanges(),Xe>Jt?(me.addRange(ae),me.extend(Q.node,Q.offset)):(ae.setEnd(Q.node,Q.offset),me.addRange(ae))}}}}for(Se=[],me=k;me=me.parentNode;)me.nodeType===1&&Se.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Se.length;k++){var be=Se[k];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Zd=!!a_,o_=a_=null}finally{Ht=g,de.p=f,te.T=u}}r.current=s,ni=2}}function N0(){if(ni===2){ni=0;var r=qo,s=uc,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=te.T,te.T=null;var f=de.p;de.p=2;var g=Ht;Ht|=4;try{r0(r,s.alternate,s)}finally{Ht=g,de.p=f,te.T=u}}ni=3}}function k0(){if(ni===4||ni===3){ni=0,pe();var r=qo,s=uc,u=Ya,f=_0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ni=5:(ni=0,uc=qo=null,P0(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&($o=null),Ue(u),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ai,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=te.T,g=de.p,de.p=2,te.T=null;try{for(var v=r.onRecoverableError,A=0;A<f.length;A++){var k=f[A];v(k.value,{componentStack:k.stack})}}finally{te.T=s,de.p=g}}(Ya&3)!==0&&Od(),ma(r),g=r.pendingLanes,(u&261930)!==0&&(g&42)!==0?r===Gg?Nh++:(Nh=0,Gg=r):Nh=0,kh(0)}}function P0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,hh(s)))}function Od(){return I0(),N0(),k0(),L0()}function L0(){if(ni!==5)return!1;var r=qo,s=qg;qg=0;var u=Ue(Ya),f=te.T,g=de.p;try{de.p=32>u?32:u,te.T=null,u=Zg,Zg=null;var v=qo,A=Ya;if(ni=0,uc=qo=null,Ya=0,(Ht&6)!==0)throw Error(i(331));var k=Ht;if(Ht|=4,m0(v.current),h0(v,v.current,A,u),Ht=k,kh(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ai,v)}catch{}return!0}finally{de.p=g,te.T=f,P0(r,s)}}function O0(r,s,u){s=h(u,s),s=xg(r.stateNode,s,2),r=zo(r,s,2),r!==null&&(Ss(r,2),ma(r))}function Kt(r,s,u){if(r.tag===3)O0(r,r,u);else for(;s!==null;){if(s.tag===3){O0(s,r,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($o===null||!$o.has(f))){r=h(u,r),u=Dw(2),f=zo(s,u,2),f!==null&&(Mw(u,f,s,r),Ss(f,2),ma(f));break}}s=s.return}}function Yg(r,s,u){var f=r.pingCache;if(f===null){f=r.pingCache=new cI;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(u)||(Fg=!0,g.add(u),r=pI.bind(null,r,s,u),s.then(r,r))}function pI(r,s,u){var f=r.pingCache;f!==null&&f.delete(s),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,rn===r&&(Ct&u)===u&&(Ln===4||Ln===3&&(Ct&62914560)===Ct&&300>Ne()-Rd?(Ht&2)===0&&cc(r,0):Hg|=u,lc===Ct&&(lc=0)),ma(r)}function D0(r,s){s===0&&(s=Lu()),r=cs(r,s),r!==null&&(Ss(r,s),ma(r))}function gI(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),D0(r,u)}function _I(r,s){var u=0;switch(r.tag){case 31:case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),D0(r,u)}function yI(r,s){return on(r,s)}var Dd=null,fc=null,Qg=!1,Md=!1,Xg=!1,Go=0;function ma(r){r!==fc&&r.next===null&&(fc===null?Dd=fc=r:fc=fc.next=r),Md=!0,Qg||(Qg=!0,bI())}function kh(r,s){if(!Xg&&Md){Xg=!0;do for(var u=!1,f=Dd;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var v=0;else{var A=f.suspendedLanes,k=f.pingedLanes;v=(1<<31-un(42|r)+1)-1,v&=g&~(A&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,V0(f,v))}else v=Ct,v=Qr(f,f===rn?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Cr(f,v)||(u=!0,V0(f,v));f=f.next}while(u);Xg=!1}}function vI(){M0()}function M0(){Md=Qg=!1;var r=0;Go!==0&&NI()&&(r=Go);for(var s=Ne(),u=null,f=Dd;f!==null;){var g=f.next,v=j0(f,s);v===0?(f.next=null,u===null?Dd=g:u.next=g,g===null&&(fc=u)):(u=f,(r!==0||(v&3)!==0)&&(Md=!0)),f=g}ni!==0&&ni!==5||kh(r),Go!==0&&(Go=0)}function j0(r,s){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-un(v),k=1<<A,Z=g[A];Z===-1?((k&u)===0||(k&f)!==0)&&(g[A]=ih(k,s)):Z<=s&&(r.expiredLanes|=k),v&=~k}if(s=rn,u=Ct,u=Qr(r,r===s?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===s&&(Gt===2||Gt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&G(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Cr(r,u)){if(s=u&-u,s===r.callbackPriority)return s;switch(f!==null&&G(f),Ue(u)){case 2:case 8:u=Fe;break;case 32:u=dt;break;case 268435456:u=vn;break;default:u=dt}return f=z0.bind(null,r),u=on(u,f),r.callbackPriority=s,r.callbackNode=u,s}return f!==null&&f!==null&&G(f),r.callbackPriority=2,r.callbackNode=null,2}function z0(r,s){if(ni!==0&&ni!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Od()&&r.callbackNode!==u)return null;var f=Ct;return f=Qr(r,r===rn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(v0(r,f,s),j0(r,Ne()),r.callbackNode!=null&&r.callbackNode===u?z0.bind(null,r):null)}function V0(r,s){if(Od())return null;v0(r,s,!0)}function bI(){PI(function(){(Ht&6)!==0?on(Ce,vI):M0()})}function Jg(){if(Go===0){var r=Qu;r===0&&(r=Ar,Ar<<=1,(Ar&261888)===0&&(Ar=256)),Go=r}return Go}function U0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ea(""+r)}function B0(r,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,r.id&&u.setAttribute("form",r.id),s.parentNode.insertBefore(u,s),r=new FormData(r),u.parentNode.removeChild(u),r}function wI(r,s,u,f,g){if(s==="submit"&&u&&u.stateNode===g){var v=U0((g[In]||null).action),A=f.submitter;A&&(s=(s=A[In]||null)?U0(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var k=new as("action","action",null,f,g);r.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Go!==0){var Z=A?B0(g,A):new FormData(g);vg(u,{pending:!0,data:Z,method:g.method,action:v},null,Z)}}else typeof v=="function"&&(k.preventDefault(),Z=A?B0(g,A):new FormData(g),vg(u,{pending:!0,data:Z,method:g.method,action:v},v,Z))},currentTarget:g}]})}}for(var e_=0;e_<la.length;e_++){var t_=la[e_],EI=t_.toLowerCase(),SI=t_[0].toUpperCase()+t_.slice(1);cr(EI,"on"+SI)}cr($l,"onAnimationEnd"),cr(ed,"onAnimationIteration"),cr(ql,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr($p,"onTransitionRun"),cr(td,"onTransitionStart"),cr(qp,"onTransitionCancel"),cr(Lo,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ph));function F0(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var A=f.length-1;0<=A;A--){var k=f[A],Z=k.instance,oe=k.currentTarget;if(k=k.listener,Z!==v&&g.isPropagationStopped())break e;v=k,g.currentTarget=oe;try{v(g)}catch(ye){Zl(ye)}g.currentTarget=null,v=Z}else for(A=0;A<f.length;A++){if(k=f[A],Z=k.instance,oe=k.currentTarget,k=k.listener,Z!==v&&g.isPropagationStopped())break e;v=k,g.currentTarget=oe;try{v(g)}catch(ye){Zl(ye)}g.currentTarget=null,v=Z}}}}function St(r,s){var u=s[Ir];u===void 0&&(u=s[Ir]=new Set);var f=r+"__bubble";u.has(f)||(H0(s,r,2,!1),u.add(f))}function n_(r,s,u){var f=0;s&&(f|=4),H0(u,r,f,s)}var jd="_reactListening"+Math.random().toString(36).slice(2);function i_(r){if(!r[jd]){r[jd]=!0,Il.forEach(function(u){u!=="selectionchange"&&(TI.has(u)||n_(u,!1,r),n_(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[jd]||(s[jd]=!0,n_("selectionchange",!1,s))}}function H0(r,s,u,f){switch(yE(s)){case 2:var g=XI;break;case 8:g=JI;break;default:g=y_}u=g.bind(null,s,u,r),g=void 0,!Cs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(s,u,{capture:!0,passive:g}):r.addEventListener(s,u,!0):g!==void 0?r.addEventListener(s,u,{passive:g}):r.addEventListener(s,u,!1)}function r_(r,s,u,f,g){var v=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var k=f.stateNode.containerInfo;if(k===g)break;if(A===4)for(A=f.return;A!==null;){var Z=A.tag;if((Z===3||Z===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;k!==null;){if(A=Nr(k),A===null)return;if(Z=A.tag,Z===5||Z===6||Z===26||Z===27){f=v=A;continue e}k=k.parentNode}}f=f.return}As(function(){var oe=v,ye=Ri(u),Se=[];e:{var he=nd.get(r);if(he!==void 0){var me=as,Be=r;switch(r){case"keypress":if(na(u)===0)break e;case"keydown":case"keyup":me=Ml;break;case"focusin":Be="focus",me=Oa;break;case"focusout":Be="blur",me=Oa;break;case"beforeblur":case"afterblur":me=Oa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=T;break;case $l:case ed:case ql:me=So;break;case Lo:me=D;break;case"scroll":case"scrollend":me=yt;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=Hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ks;break;case"toggle":case"beforetoggle":me=it}var Xe=(s&4)!==0,Jt=!Xe&&(r==="scroll"||r==="scrollend"),J=Xe?he!==null?he+"Capture":null:he;Xe=[];for(var Q=oe,ae;Q!==null;){var be=Q;if(ae=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ae===null||J===null||(be=Fi(Q,J),be!=null&&Xe.push(Lh(Q,be,ae))),Jt)break;Q=Q.return}0<Xe.length&&(he=new me(he,Be,null,u,ye),Se.push({event:he,listeners:Xe}))}}if((s&7)===0){e:{if(he=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",he&&u!==Eo&&(Be=u.relatedTarget||u.fromElement)&&(Nr(Be)||Be[Rr]))break e;if((me||he)&&(he=ye.window===ye?ye:(he=ye.ownerDocument)?he.defaultView||he.parentWindow:window,me?(Be=u.relatedTarget||u.toElement,me=oe,Be=Be?Nr(Be):null,Be!==null&&(Jt=l(Be),Xe=Be.tag,Be!==Jt||Xe!==5&&Xe!==27&&Xe!==6)&&(Be=null)):(me=null,Be=oe),me!==Be)){if(Xe=kl,be="onMouseLeave",J="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(Xe=ks,be="onPointerLeave",J="onPointerEnter",Q="pointer"),Jt=me==null?he:ai(me),ae=Be==null?he:ai(Be),he=new Xe(be,Q+"leave",me,u,ye),he.target=Jt,he.relatedTarget=ae,be=null,Nr(ye)===oe&&(Xe=new Xe(J,Q+"enter",Be,u,ye),Xe.target=ae,Xe.relatedTarget=Jt,be=Xe),Jt=be,me&&Be)t:{for(Xe=xI,J=me,Q=Be,ae=0,be=J;be;be=Xe(be))ae++;be=0;for(var Ge=Q;Ge;Ge=Xe(Ge))be++;for(;0<ae-be;)J=Xe(J),ae--;for(;0<be-ae;)Q=Xe(Q),be--;for(;ae--;){if(J===Q||Q!==null&&J===Q.alternate){Xe=J;break t}J=Xe(J),Q=Xe(Q)}Xe=null}else Xe=null;me!==null&&$0(Se,he,me,Xe,!1),Be!==null&&Jt!==null&&$0(Se,Jt,Be,Xe,!0)}}e:{if(he=oe?ai(oe):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var Bt=Ul;else if(os(he))if(Wf)Bt=Hp;else{Bt=Fp;var He=Ps}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?oe&&Js(oe.elementType)&&(Bt=Ul):Bt=Io;if(Bt&&(Bt=Bt(r,oe))){Kf(Se,Bt,u,ye);break e}He&&He(r,he,oe),r==="focusout"&&oe&&he.type==="number"&&oe.memoizedProps.value!=null&&kr(he,"number",he.value)}switch(He=oe?ai(oe):window,r){case"focusin":(os(He)||He.contentEditable==="true")&&(aa=He,$u=oe,Hl=null);break;case"focusout":Hl=$u=aa=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,Xf(Se,u,ye);break;case"selectionchange":if(Hu)break;case"keydown":case"keyup":Xf(Se,u,ye)}var pt;if(Dt)e:{switch(r){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else Ao?Da(r,u)&&(Rt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Rt="onCompositionStart");Rt&&(ur&&u.locale!=="ko"&&(Ao||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Ao&&(pt=Pr()):(or=ye,Rs="value"in or?or.value:or.textContent,Ao=!0)),He=zd(oe,Rt),0<He.length&&(Rt=new Dr(Rt,r,null,u,ye),Se.push({event:Rt,listeners:He}),pt?Rt.data=pt:(pt=Ma(u),pt!==null&&(Rt.data=pt)))),(pt=lr?zr(r,u):Co(r,u))&&(Rt=zd(oe,"onBeforeInput"),0<Rt.length&&(He=new Dr("onBeforeInput","beforeinput",null,u,ye),Se.push({event:He,listeners:Rt}),He.data=pt)),wI(Se,r,oe,u,ye)}F0(Se,s)})}function Lh(r,s,u){return{instance:r,listener:s,currentTarget:u}}function zd(r,s){for(var u=s+"Capture",f=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Fi(r,u),g!=null&&f.unshift(Lh(r,g,v)),g=Fi(r,s),g!=null&&f.push(Lh(r,g,v))),r.tag===3)return f;r=r.return}return[]}function xI(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $0(r,s,u,f,g){for(var v=s._reactName,A=[];u!==null&&u!==f;){var k=u,Z=k.alternate,oe=k.stateNode;if(k=k.tag,Z!==null&&Z===f)break;k!==5&&k!==26&&k!==27||oe===null||(Z=oe,g?(oe=Fi(u,v),oe!=null&&A.unshift(Lh(u,oe,Z))):g||(oe=Fi(u,v),oe!=null&&A.push(Lh(u,oe,Z)))),u=u.return}A.length!==0&&r.push({event:s,listeners:A})}var AI=/\r\n?/g,CI=/\u0000|\uFFFD/g;function q0(r){return(typeof r=="string"?r:""+r).replace(AI,`
`).replace(CI,"")}function Z0(r,s){return s=q0(s),q0(r)===s}function Xt(r,s,u,f,g,v){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Bn(r,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Bn(r,""+f);break;case"className":bt(r,"class",f);break;case"tabIndex":bt(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":bt(r,u,f);break;case"style":ka(r,f,v);break;case"data":if(s!=="object"){bt(r,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=ea(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(s!=="input"&&Xt(r,s,"name",g.name,g,null),Xt(r,s,"formEncType",g.formEncType,g,null),Xt(r,s,"formMethod",g.formMethod,g,null),Xt(r,s,"formTarget",g.formTarget,g,null)):(Xt(r,s,"encType",g.encType,g,null),Xt(r,s,"method",g.method,g,null),Xt(r,s,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=ea(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Ci);break;case"onScroll":f!=null&&St("scroll",r);break;case"onScrollEnd":f!=null&&St("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=ea(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":St("beforetoggle",r),St("toggle",r),vt(r,"popover",f);break;case"xlinkActuate":cn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":cn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":cn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":cn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":cn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":cn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":cn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":cn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":cn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":vt(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Pa.get(u)||u,vt(r,u,f))}}function s_(r,s,u,f,g,v){switch(u){case"style":ka(r,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?Bn(r,f):(typeof f=="number"||typeof f=="bigint")&&Bn(r,""+f);break;case"onScroll":f!=null&&St("scroll",r);break;case"onScrollEnd":f!=null&&St("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),s=u.slice(2,g?u.length-7:void 0),v=r[In]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(s,v,g),typeof f=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(s,f,g);break e}u in r?r[u]=f:f===!0?r.setAttribute(u,""):vt(r,u,f)}}}function vi(r,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",r),St("load",r);var f=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var A=u[v];if(A!=null)switch(v){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xt(r,s,v,A,u,null)}}g&&Xt(r,s,"srcSet",u.srcSet,u,null),f&&Xt(r,s,"src",u.src,u,null);return;case"input":St("invalid",r);var k=v=A=g=null,Z=null,oe=null;for(f in u)if(u.hasOwnProperty(f)){var ye=u[f];if(ye!=null)switch(f){case"name":g=ye;break;case"type":A=ye;break;case"checked":Z=ye;break;case"defaultChecked":oe=ye;break;case"value":v=ye;break;case"defaultValue":k=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,s));break;default:Xt(r,s,f,ye,u,null)}}Na(r,v,k,Z,oe,A,g,!1);return;case"select":St("invalid",r),f=A=v=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":v=k;break;case"defaultValue":A=k;break;case"multiple":f=k;default:Xt(r,s,g,k,u,null)}s=v,u=A,r.multiple=!!f,s!=null?Zt(r,!!f,s,!1):u!=null&&Zt(r,!!f,u,!0);return;case"textarea":St("invalid",r),v=g=f=null;for(A in u)if(u.hasOwnProperty(A)&&(k=u[A],k!=null))switch(A){case"value":f=k;break;case"defaultValue":g=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Xt(r,s,A,k,u,null)}ar(r,f,g,v);return;case"option":for(Z in u)u.hasOwnProperty(Z)&&(f=u[Z],f!=null)&&(Z==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":Xt(r,s,Z,f,u,null));return;case"dialog":St("beforetoggle",r),St("toggle",r),St("cancel",r),St("close",r);break;case"iframe":case"object":St("load",r);break;case"video":case"audio":for(f=0;f<Ph.length;f++)St(Ph[f],r);break;case"image":St("error",r),St("load",r);break;case"details":St("toggle",r);break;case"embed":case"source":case"link":St("error",r),St("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in u)if(u.hasOwnProperty(oe)&&(f=u[oe],f!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xt(r,s,oe,f,u,null)}return;default:if(Js(s)){for(ye in u)u.hasOwnProperty(ye)&&(f=u[ye],f!==void 0&&s_(r,s,ye,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&Xt(r,s,k,f,u,null))}function RI(r,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,k=null,Z=null,oe=null,ye=null;for(me in u){var Se=u[me];if(u.hasOwnProperty(me)&&Se!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Z=Se;default:f.hasOwnProperty(me)||Xt(r,s,me,null,f,Se)}}for(var he in f){var me=f[he];if(Se=u[he],f.hasOwnProperty(he)&&(me!=null||Se!=null))switch(he){case"type":v=me;break;case"name":g=me;break;case"checked":oe=me;break;case"defaultChecked":ye=me;break;case"value":A=me;break;case"defaultValue":k=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,s));break;default:me!==Se&&Xt(r,s,he,me,f,Se)}}bo(r,A,k,Z,oe,ye,v,g);return;case"select":me=A=k=he=null;for(v in u)if(Z=u[v],u.hasOwnProperty(v)&&Z!=null)switch(v){case"value":break;case"multiple":me=Z;default:f.hasOwnProperty(v)||Xt(r,s,v,null,f,Z)}for(g in f)if(v=f[g],Z=u[g],f.hasOwnProperty(g)&&(v!=null||Z!=null))switch(g){case"value":he=v;break;case"defaultValue":k=v;break;case"multiple":A=v;default:v!==Z&&Xt(r,s,g,v,f,Z)}s=k,u=A,f=me,he!=null?Zt(r,!!u,he,!1):!!f!=!!u&&(s!=null?Zt(r,!!u,s,!0):Zt(r,!!u,u?[]:"",!1));return;case"textarea":me=he=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Xt(r,s,k,null,f,g)}for(A in f)if(g=f[A],v=u[A],f.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":he=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&Xt(r,s,A,g,f,v)}is(r,he,me);return;case"option":for(var Be in u)he=u[Be],u.hasOwnProperty(Be)&&he!=null&&!f.hasOwnProperty(Be)&&(Be==="selected"?r.selected=!1:Xt(r,s,Be,null,f,he));for(Z in f)he=f[Z],me=u[Z],f.hasOwnProperty(Z)&&he!==me&&(he!=null||me!=null)&&(Z==="selected"?r.selected=he&&typeof he!="function"&&typeof he!="symbol":Xt(r,s,Z,he,f,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in u)he=u[Xe],u.hasOwnProperty(Xe)&&he!=null&&!f.hasOwnProperty(Xe)&&Xt(r,s,Xe,null,f,he);for(oe in f)if(he=f[oe],me=u[oe],f.hasOwnProperty(oe)&&he!==me&&(he!=null||me!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(i(137,s));break;default:Xt(r,s,oe,he,f,me)}return;default:if(Js(s)){for(var Jt in u)he=u[Jt],u.hasOwnProperty(Jt)&&he!==void 0&&!f.hasOwnProperty(Jt)&&s_(r,s,Jt,void 0,f,he);for(ye in f)he=f[ye],me=u[ye],!f.hasOwnProperty(ye)||he===me||he===void 0&&me===void 0||s_(r,s,ye,he,f,me);return}}for(var J in u)he=u[J],u.hasOwnProperty(J)&&he!=null&&!f.hasOwnProperty(J)&&Xt(r,s,J,null,f,he);for(Se in f)he=f[Se],me=u[Se],!f.hasOwnProperty(Se)||he===me||he==null&&me==null||Xt(r,s,Se,he,f,me)}function G0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function II(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var g=u[f],v=g.transferSize,A=g.initiatorType,k=g.duration;if(v&&k&&G0(A)){for(A=0,k=g.responseEnd,f+=1;f<u.length;f++){var Z=u[f],oe=Z.startTime;if(oe>k)break;var ye=Z.transferSize,Se=Z.initiatorType;ye&&G0(Se)&&(Z=Z.responseEnd,A+=ye*(Z<k?1:(k-oe)/(Z-oe)))}if(--f,s+=8*(v+A)/(g.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var a_=null,o_=null;function Vd(r){return r.nodeType===9?r:r.ownerDocument}function K0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function l_(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var u_=null;function NI(){var r=window.event;return r&&r.type==="popstate"?r===u_?!1:(u_=r,!0):(u_=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,kI=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(r){return Q0.resolve(null).then(r).catch(LI)}:Y0;function LI(r){setTimeout(function(){throw r})}function Ko(r){return r==="head"}function X0(r,s){var u=s,f=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(f===0){r.removeChild(g),gc(s);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Oh(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,Oh(u);for(var v=u.firstChild;v;){var A=v.nextSibling,k=v.nodeName;v[Jr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=A}}else u==="body"&&Oh(r.ownerDocument.body);u=g}while(u);gc(s)}function J0(r,s){var u=r;r=0;do{var f=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=f}while(u)}function c_(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":c_(u),_o(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function OI(r,s,u,f){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Jr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ds(r.nextSibling),r===null)break}return null}function DI(r,s,u){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ds(r.nextSibling),r===null))return null;return r}function eE(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ds(r.nextSibling),r===null))return null;return r}function h_(r){return r.data==="$?"||r.data==="$~"}function f_(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function MI(r,s){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||u.readyState!=="loading")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ds(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var d_=null;function tE(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(s===0)return ds(r.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}r=r.nextSibling}return null}function nE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return r;s--}else u!=="/$"&&u!=="/&"||s++}r=r.previousSibling}return null}function iE(r,s,u){switch(s=Vd(u),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Oh(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);_o(r)}var ms=new Map,rE=new Set;function Ud(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Qa=de.d;de.d={f:jI,r:zI,D:VI,C:UI,L:BI,m:FI,X:$I,S:HI,M:qI};function jI(){var r=Qa.f(),s=kd();return r||s}function zI(r){var s=ir(r);s!==null&&s.tag===5&&s.type==="form"?ww(s):Qa.r(r)}var dc=typeof document>"u"?null:document;function sE(r,s,u){var f=dc;if(f&&typeof s=="string"&&s){var g=tn(s);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),rE.has(g)||(rE.add(g),r={rel:r,crossOrigin:u,href:s},f.querySelector(g)===null&&(s=f.createElement("link"),vi(s,"link",r),Nn(s),f.head.appendChild(s)))}}function VI(r){Qa.D(r),sE("dns-prefetch",r,null)}function UI(r,s){Qa.C(r,s),sE("preconnect",r,s)}function BI(r,s,u){Qa.L(r,s,u);var f=dc;if(f&&r&&s){var g='link[rel="preload"][as="'+tn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+tn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+tn(u.imageSizes)+'"]')):g+='[href="'+tn(r)+'"]';var v=g;switch(s){case"style":v=mc(r);break;case"script":v=pc(r)}ms.has(v)||(r=E({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:r,as:s},u),ms.set(v,r),f.querySelector(g)!==null||s==="style"&&f.querySelector(Dh(v))||s==="script"&&f.querySelector(Mh(v))||(s=f.createElement("link"),vi(s,"link",r),Nn(s),f.head.appendChild(s)))}}function FI(r,s){Qa.m(r,s);var u=dc;if(u&&r){var f=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+tn(f)+'"][href="'+tn(r)+'"]',v=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=pc(r)}if(!ms.has(v)&&(r=E({rel:"modulepreload",href:r},s),ms.set(v,r),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Mh(v)))return}f=u.createElement("link"),vi(f,"link",r),Nn(f),u.head.appendChild(f)}}}function HI(r,s,u){Qa.S(r,s,u);var f=dc;if(f&&r){var g=es(f).hoistableStyles,v=mc(r);s=s||"default";var A=g.get(v);if(!A){var k={loading:0,preload:null};if(A=f.querySelector(Dh(v)))k.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},u),(u=ms.get(v))&&m_(r,u);var Z=A=f.createElement("link");Nn(Z),vi(Z,"link",r),Z._p=new Promise(function(oe,ye){Z.onload=oe,Z.onerror=ye}),Z.addEventListener("load",function(){k.loading|=1}),Z.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Bd(A,s,f)}A={type:"stylesheet",instance:A,count:1,state:k},g.set(v,A)}}}function $I(r,s){Qa.X(r,s);var u=dc;if(u&&r){var f=es(u).hoistableScripts,g=pc(r),v=f.get(g);v||(v=u.querySelector(Mh(g)),v||(r=E({src:r,async:!0},s),(s=ms.get(g))&&p_(r,s),v=u.createElement("script"),Nn(v),vi(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function qI(r,s){Qa.M(r,s);var u=dc;if(u&&r){var f=es(u).hoistableScripts,g=pc(r),v=f.get(g);v||(v=u.querySelector(Mh(g)),v||(r=E({src:r,async:!0,type:"module"},s),(s=ms.get(g))&&p_(r,s),v=u.createElement("script"),Nn(v),vi(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function aE(r,s,u,f){var g=(g=Le.current)?Ud(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=mc(u.href),u=es(g).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=mc(u.href);var v=es(g).hoistableStyles,A=v.get(r);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=g.querySelector(Dh(r)))&&!v._p&&(A.instance=v,A.state.loading=5),ms.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ms.set(r,u),v||ZI(g,r,u,A.state))),s&&f===null)throw Error(i(528,""));return A}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pc(u),u=es(g).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function mc(r){return'href="'+tn(r)+'"'}function Dh(r){return'link[rel="stylesheet"]['+r+"]"}function oE(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function ZI(r,s,u,f){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=r.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),vi(s,"link",u),Nn(s),r.head.appendChild(s))}function pc(r){return'[src="'+tn(r)+'"]'}function Mh(r){return"script[async]"+r}function lE(r,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=r.querySelector('style[data-href~="'+tn(u.href)+'"]');if(f)return s.instance=f,Nn(f),f;var g=E({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Nn(f),vi(f,"style",g),Bd(f,u.precedence,r),s.instance=f;case"stylesheet":g=mc(u.href);var v=r.querySelector(Dh(g));if(v)return s.state.loading|=4,s.instance=v,Nn(v),v;f=oE(u),(g=ms.get(g))&&m_(f,g),v=(r.ownerDocument||r).createElement("link"),Nn(v);var A=v;return A._p=new Promise(function(k,Z){A.onload=k,A.onerror=Z}),vi(v,"link",f),s.state.loading|=4,Bd(v,u.precedence,r),s.instance=v;case"script":return v=pc(u.src),(g=r.querySelector(Mh(v)))?(s.instance=g,Nn(g),g):(f=u,(g=ms.get(v))&&(f=E({},u),p_(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),Nn(g),vi(g,"link",f),r.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Bd(f,u.precedence,r));return s.instance}function Bd(r,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,v=g,A=0;A<f.length;A++){var k=f[A];if(k.dataset.precedence===s)v=k;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(r,s.firstChild))}function m_(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function p_(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Fd=null;function uE(r,s,u){if(Fd===null){var f=new Map,g=Fd=new Map;g.set(u,f)}else g=Fd,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var v=u[g];if(!(v[Jr]||v[wn]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=r+A;var k=f.get(A);k?k.push(v):f.set(A,[v])}}return f}function cE(r,s,u){r=r.ownerDocument||r,r.head.insertBefore(u,s==="title"?r.querySelector("head > title"):null)}function GI(r,s,u){if(u===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function KI(r,s,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=mc(f.href),v=s.querySelector(Dh(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Hd.bind(r),s.then(r,r)),u.state.loading|=4,u.instance=v,Nn(v);return}v=s.ownerDocument||s,f=oE(f),(g=ms.get(g))&&m_(f,g),v=v.createElement("link"),Nn(v);var A=v;A._p=new Promise(function(k,Z){A.onload=k,A.onerror=Z}),vi(v,"link",f),u.instance=v}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Hd.bind(r),s.addEventListener("load",u),s.addEventListener("error",u))}}var g_=0;function WI(r,s){return r.stylesheets&&r.count===0&&qd(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var f=setTimeout(function(){if(r.stylesheets&&qd(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4+s);0<r.imgBytes&&g_===0&&(g_=62500*II());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&qd(r,r.stylesheets),r.unsuspend)){var v=r.unsuspend;r.unsuspend=null,v()}},(r.imgBytes>g_?50:800)+s);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(g)}}:null}function Hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $d=null;function qd(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$d=new Map,s.forEach(YI,r),$d=null,Hd.call(r))}function YI(r,s){if(!(s.state.loading&4)){var u=$d.get(r);if(u)var f=u.get(null);else{u=new Map,$d.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),f=A)}f&&u.set(null,f)}g=s.instance,A=g.getAttribute("data-precedence"),v=u.get(A)||f,v===f&&u.set(null,g),u.set(A,g),this.count++,f=Hd.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),s.state.loading|=4}}var jh={$$typeof:re,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function QI(r,s,u,f,g,v,A,k,Z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function fE(r,s,u,f,g,v,A,k,Z,oe,ye,Se){return r=new QI(r,s,u,A,Z,oe,ye,Se,k),s=1,v===!0&&(s|=24),v=Pi(3,null,null,s),r.current=v,v.stateNode=r,s=Wp(),s.refCount++,r.pooledCache=s,s.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:s},Jp(v),r}function dE(r){return r?(r=ja,r):ja}function mE(r,s,u,f,g,v){g=dE(g),f.context===null?f.context=g:f.pendingContext=g,f=jo(s),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=zo(r,f,s),u!==null&&(_r(u,r,s),ph(u,r,s))}function pE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function __(r,s){pE(r,s),(r=r.alternate)&&pE(r,s)}function gE(r){if(r.tag===13||r.tag===31){var s=cs(r,67108864);s!==null&&_r(s,r,67108864),__(r,67108864)}}function _E(r){if(r.tag===13||r.tag===31){var s=Hr();s=si(s);var u=cs(r,s);u!==null&&_r(u,r,s),__(r,s)}}var Zd=!0;function XI(r,s,u,f){var g=te.T;te.T=null;var v=de.p;try{de.p=2,y_(r,s,u,f)}finally{de.p=v,te.T=g}}function JI(r,s,u,f){var g=te.T;te.T=null;var v=de.p;try{de.p=8,y_(r,s,u,f)}finally{de.p=v,te.T=g}}function y_(r,s,u,f){if(Zd){var g=v_(f);if(g===null)r_(r,s,f,Gd,u),vE(r,f);else if(tN(g,r,s,u,f))f.stopPropagation();else if(vE(r,f),s&4&&-1<eN.indexOf(r)){for(;g!==null;){var v=ir(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Yr(v.pendingLanes);if(A!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var Z=1<<31-un(A);k.entanglements[1]|=Z,A&=~Z}ma(v),(Ht&6)===0&&(Id=Ne()+500,kh(0))}}break;case 31:case 13:k=cs(v,2),k!==null&&_r(k,v,2),kd(),__(v,2)}if(v=v_(f),v===null&&r_(r,s,f,Gd,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else r_(r,s,f,null,u)}}function v_(r){return r=Ri(r),b_(r)}var Gd=null;function b_(r){if(Gd=null,r=Nr(r),r!==null){var s=l(r);if(s===null)r=null;else{var u=s.tag;if(u===13){if(r=c(s),r!==null)return r;r=null}else if(u===31){if(r=d(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Gd=r,null}function yE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Ce:return 2;case Fe:return 8;case dt:case Lt:return 32;case vn:return 268435456;default:return 32}default:return 32}}var w_=!1,Wo=null,Yo=null,Qo=null,zh=new Map,Vh=new Map,Xo=[],eN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(r,s){switch(r){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":zh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(s.pointerId)}}function Uh(r,s,u,f,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},s!==null&&(s=ir(s),s!==null&&gE(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function tN(r,s,u,f,g){switch(s){case"focusin":return Wo=Uh(Wo,r,s,u,f,g),!0;case"dragenter":return Yo=Uh(Yo,r,s,u,f,g),!0;case"mouseover":return Qo=Uh(Qo,r,s,u,f,g),!0;case"pointerover":var v=g.pointerId;return zh.set(v,Uh(zh.get(v)||null,r,s,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Vh.set(v,Uh(Vh.get(v)||null,r,s,u,f,g)),!0}return!1}function bE(r){var s=Nr(r.target);if(s!==null){var u=l(s);if(u!==null){if(s=u.tag,s===13){if(s=c(u),s!==null){r.blockedOn=s,tr(r.priority,function(){_E(u)});return}}else if(s===31){if(s=d(u),s!==null){r.blockedOn=s,tr(r.priority,function(){_E(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Kd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=v_(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Eo=f,u.target.dispatchEvent(f),Eo=null}else return s=ir(u),s!==null&&gE(s),r.blockedOn=u,!1;s.shift()}return!0}function wE(r,s,u){Kd(r)&&u.delete(s)}function nN(){w_=!1,Wo!==null&&Kd(Wo)&&(Wo=null),Yo!==null&&Kd(Yo)&&(Yo=null),Qo!==null&&Kd(Qo)&&(Qo=null),zh.forEach(wE),Vh.forEach(wE)}function Wd(r,s){r.blockedOn===s&&(r.blockedOn=null,w_||(w_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nN)))}var Yd=null;function EE(r){Yd!==r&&(Yd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yd===r&&(Yd=null);for(var s=0;s<r.length;s+=3){var u=r[s],f=r[s+1],g=r[s+2];if(typeof f!="function"){if(b_(f||u)===null)continue;break}var v=ir(u);v!==null&&(r.splice(s,3),s-=3,vg(v,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function gc(r){function s(Z){return Wd(Z,r)}Wo!==null&&Wd(Wo,r),Yo!==null&&Wd(Yo,r),Qo!==null&&Wd(Qo,r),zh.forEach(s),Vh.forEach(s);for(var u=0;u<Xo.length;u++){var f=Xo[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Xo.length&&(u=Xo[0],u.blockedOn===null);)bE(u),u.blockedOn===null&&Xo.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],v=u[f+1],A=g[In]||null;if(typeof v=="function")A||EE(u);else if(A){var k=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[In]||null)k=A.formAction;else if(b_(g)!==null)continue}else k=A.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),EE(u)}}}function SE(){function r(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function E_(r){this._internalRoot=r}Qd.prototype.render=E_.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,f=Hr();mE(u,f,r,s,null,null)},Qd.prototype.unmount=E_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;mE(r.current,2,null,r,null,null),kd(),s[Rr]=null}};function Qd(r){this._internalRoot=r}Qd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Rl();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Xo.length&&s!==0&&s<Xo[u].priority;u++);Xo.splice(u,0,r),u===0&&bE(r)}};var TE=e.version;if(TE!=="19.2.4")throw Error(i(527,TE,"19.2.4"));de.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=y(s),r=r!==null?S(r):null,r=r===null?null:r.stateNode,r};var iN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Ai=Xd.inject(iN),ln=Xd}catch{}}return Fh.createRoot=function(r,s){if(!a(r))throw Error(i(299));var u=!1,f="",g=kw,v=Pw,A=Lw;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=fE(r,1,!1,null,null,u,f,null,g,v,A,SE),r[Rr]=s.current,i_(r),new E_(s)},Fh.hydrateRoot=function(r,s,u){if(!a(r))throw Error(i(299));var f=!1,g="",v=kw,A=Pw,k=Lw,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&(Z=u.formState)),s=fE(r,1,!0,s,u??null,f,g,Z,v,A,k,SE),s.context=dE(null),u=s.current,f=Hr(),f=si(f),g=jo(f),g.callback=null,zo(u,g,f),u=f,s.current.lanes=u,Ss(s,u),ma(s),r[Rr]=s.current,i_(r),new Qd(s)},Fh.version="19.2.4",Fh}var OE;function fN(){if(OE)return x_.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),x_.exports=hN(),x_.exports}var dN=fN();var DE="popstate";function mN(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return sy("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:pf(a)}return gN(e,n,null,t)}function Tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $s(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pN(){return Math.random().toString(36).substring(2,10)}function ME(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Hc(e):e,state:n,key:e&&e.key||i||pN()}}function pf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function gN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",_=null,y=S();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function S(){return(c.state||{idx:null}).idx}function E(){d="POP";let W=S(),ue=W==null?null:W-y;y=W,_&&_({action:d,location:M.location,delta:ue})}function C(W,ue){d="PUSH";let X=sy(M.location,W,ue);y=S()+1;let re=ME(X,y),K=M.createHref(X);try{c.pushState(re,"",K)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(K)}l&&_&&_({action:d,location:M.location,delta:1})}function I(W,ue){d="REPLACE";let X=sy(M.location,W,ue);y=S();let re=ME(X,y),K=M.createHref(X);c.replaceState(re,"",K),l&&_&&_({action:d,location:M.location,delta:0})}function H(W){return _N(W)}let M={get action(){return d},get location(){return t(a,c)},listen(W){if(_)throw new Error("A history only accepts one active listener");return a.addEventListener(DE,E),_=W,()=>{a.removeEventListener(DE,E),_=null}},createHref(W){return e(a,W)},createURL:H,encodeLocation(W){let ue=H(W);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:C,replace:I,go(W){return c.go(W)}};return M}function _N(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:pf(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function M1(t,e,n="/"){return yN(t,e,n,!1)}function yN(t,e,n,i){let a=typeof e=="string"?Hc(e):e,l=ao(a.pathname||"/",n);if(l==null)return null;let c=j1(t);vN(c);let d=null;for(let _=0;d==null&&_<c.length;++_){let y=NN(l);d=RN(c[_],y,i)}return d}function j1(t,e=[],n=[],i="",a=!1){let l=(c,d,_=a,y)=>{let S={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(i)&&_)return;Tn(S.relativePath.startsWith(i),`Absolute route path "${S.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(i.length)}let E=io([i,S.relativePath]),C=n.concat(S);c.children&&c.children.length>0&&(Tn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),j1(c.children,e,C,E,_)),!(c.path==null&&!c.index)&&e.push({path:E,score:AN(E,c.index),routesMeta:C})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let _ of z1(c.path))l(c,d,!0,_)}),e}function z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=z1(i.join("/")),d=[];return d.push(...c.map(_=>_===""?l:[l,_].join("/"))),a&&d.push(...c),d.map(_=>t.startsWith("/")&&_===""?"/":_)}function vN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var bN=/^:[\w-]+$/,wN=3,EN=2,SN=1,TN=10,xN=-2,jE=t=>t==="*";function AN(t,e){let n=t.split("/"),i=n.length;return n.some(jE)&&(i+=xN),e&&(i+=EN),n.filter(a=>!jE(a)).reduce((a,l)=>a+(bN.test(l)?wN:l===""?SN:TN),i)}function CN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function RN(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let _=i[d],y=d===i.length-1,S=l==="/"?e:e.slice(l.length)||"/",E=Am({path:_.relativePath,caseSensitive:_.caseSensitive,end:y},S),C=_.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=Am({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},S)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:io([l,E.pathname]),pathnameBase:ON(io([l,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(l=io([l,E.pathnameBase]))}return c}function Am(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=IN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((y,{paramName:S,isOptional:E},C)=>{if(S==="*"){let H=d[C]||"";c=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const I=d[C];return E&&!I?y[S]=void 0:y[S]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:t}}function IN(t,e=!1,n=!0){$s(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,_)=>(i.push({paramName:d,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function NN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $s(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var kN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function PN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Hc(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=zE(n.substring(1),"/"):l=zE(n,e)):l=e,{pathname:l,search:DN(i),hash:MN(a)}}function zE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function I_(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V1(t){let e=LN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function U1(t,e,n,i=!1){let a;typeof t=="string"?a=Hc(t):(a={...t},Tn(!a.pathname||!a.pathname.includes("?"),I_("?","pathname","search",a)),Tn(!a.pathname||!a.pathname.includes("#"),I_("#","pathname","hash",a)),Tn(!a.search||!a.search.includes("#"),I_("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let E=e.length-1;if(!i&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),E-=1;a.pathname=C.join("/")}d=E>=0?e[E]:"/"}let _=PN(a,d),y=c&&c!=="/"&&c.endsWith("/"),S=(l||c===".")&&n.endsWith("/");return!_.pathname.endsWith("/")&&(y||S)&&(_.pathname+="/"),_}var io=t=>t.join("/").replace(/\/\/+/g,"/"),ON=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,jN=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function VN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function F1(t,e){let n=t;if(typeof n!="string"||!kN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(B1)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=ao(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{$s(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H1=["POST","PUT","PATCH","DELETE"];new Set(H1);var UN=["GET",...H1];new Set(UN);var $c=U.createContext(null);$c.displayName="DataRouter";var rp=U.createContext(null);rp.displayName="DataRouterState";var BN=U.createContext(!1),$1=U.createContext({isTransitioning:!1});$1.displayName="ViewTransition";var FN=U.createContext(new Map);FN.displayName="Fetchers";var HN=U.createContext(null);HN.displayName="Await";var ys=U.createContext(null);ys.displayName="Navigation";var If=U.createContext(null);If.displayName="Location";var Gs=U.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var Yy=U.createContext(null);Yy.displayName="RouteError";var q1="REACT_ROUTER_ERROR",$N="REDIRECT",qN="ROUTE_ERROR_RESPONSE";function ZN(t){if(t.startsWith(`${q1}:${$N}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function GN(t){if(t.startsWith(`${q1}:${qN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jN(e.status,e.statusText,e.data)}catch{}}function KN(t,{relative:e}={}){Tn(Nf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(ys),{hash:a,pathname:l,search:c}=kf(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:io([n,l])),i.createHref({pathname:d,search:c,hash:a})}function Nf(){return U.useContext(If)!=null}function vl(){return Tn(Nf(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(If).location}var Z1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G1(t){U.useContext(ys).static||U.useLayoutEffect(t)}function Ks(){let{isDataRoute:t}=U.useContext(Gs);return t?u2():WN()}function WN(){Tn(Nf(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext($c),{basename:e,navigator:n}=U.useContext(ys),{matches:i}=U.useContext(Gs),{pathname:a}=vl(),l=JSON.stringify(V1(i)),c=U.useRef(!1);return G1(()=>{c.current=!0}),U.useCallback((_,y={})=>{if($s(c.current,Z1),!c.current)return;if(typeof _=="number"){n.go(_);return}let S=U1(_,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:io([e,S.pathname])),(y.replace?n.replace:n.push)(S,y.state,y)},[e,n,l,a,t])}var YN=U.createContext(null);function QN(t){let e=U.useContext(Gs).outlet;return U.useMemo(()=>e&&U.createElement(YN.Provider,{value:t},e),[e,t])}function Qy(){let{matches:t}=U.useContext(Gs),e=t[t.length-1];return e?e.params:{}}function kf(t,{relative:e}={}){let{matches:n}=U.useContext(Gs),{pathname:i}=vl(),a=JSON.stringify(V1(n));return U.useMemo(()=>U1(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function XN(t,e){return K1(t,e)}function K1(t,e,n,i,a){Tn(Nf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(ys),{matches:c}=U.useContext(Gs),d=c[c.length-1],_=d?d.params:{},y=d?d.pathname:"/",S=d?d.pathnameBase:"/",E=d&&d.route;{let X=E&&E.path||"";Y1(y,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let C=vl(),I;if(e){let X=typeof e=="string"?Hc(e):e;Tn(S==="/"||X.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${X.pathname}" was given in the \`location\` prop.`),I=X}else I=C;let H=I.pathname||"/",M=H;if(S!=="/"){let X=S.replace(/^\//,"").split("/");M="/"+H.replace(/^\//,"").split("/").slice(X.length).join("/")}let W=M1(t,{pathname:M});$s(E||W!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),$s(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=i2(W&&W.map(X=>Object.assign({},X,{params:Object.assign({},_,X.params),pathname:io([S,l.encodeLocation?l.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?S:io([S,l.encodeLocation?l.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,n,i,a);return e&&ue?U.createElement(If.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},ue):ue}function JN(){let t=l2(),e=zN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:a},n):null,c)}var e2=U.createElement(JN,null),W1=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=GN(t.digest);n&&(t=n)}let e=t!==void 0?U.createElement(Gs.Provider,{value:this.props.routeContext},U.createElement(Yy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?U.createElement(t2,{error:t},e):e}};W1.contextType=BN;var N_=new WeakMap;function t2({children:t,error:e}){let{basename:n}=U.useContext(ys);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=ZN(e.digest);if(i){let a=N_.get(e);if(a)throw a;let l=F1(i.location,n);if(B1&&!N_.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw N_.set(e,c),c}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function n2({routeContext:t,match:e,children:n}){let i=U.useContext($c);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Gs.Provider,{value:t},n)}function i2(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let S=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);Tn(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,S+1))}let d=!1,_=-1;if(n)for(let S=0;S<l.length;S++){let E=l[S];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(_=S),E.route.id){let{loaderData:C,errors:I}=n,H=E.route.loader&&!C.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||H){d=!0,_>=0?l=l.slice(0,_+1):l=[l[0]];break}}}let y=n&&i?(S,E)=>{i(S,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VN(n.matches),errorInfo:E})}:void 0;return l.reduceRight((S,E,C)=>{let I,H=!1,M=null,W=null;n&&(I=c&&E.route.id?c[E.route.id]:void 0,M=E.route.errorElement||e2,d&&(_<0&&C===0?(Y1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,W=null):_===C&&(H=!0,W=E.route.hydrateFallbackElement||null)));let ue=e.concat(l.slice(0,C+1)),X=()=>{let re;return I?re=M:H?re=W:E.route.Component?re=U.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=S,U.createElement(n2,{match:E,routeContext:{outlet:S,matches:ue,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?U.createElement(W1,{location:n.location,revalidation:n.revalidation,component:M,error:I,children:X(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:y}):X()},null)}function Xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(t){let e=U.useContext($c);return Tn(e,Xy(t)),e}function s2(t){let e=U.useContext(rp);return Tn(e,Xy(t)),e}function a2(t){let e=U.useContext(Gs);return Tn(e,Xy(t)),e}function Jy(t){let e=a2(t),n=e.matches[e.matches.length-1];return Tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function o2(){return Jy("useRouteId")}function l2(){let t=U.useContext(Yy),e=s2("useRouteError"),n=Jy("useRouteError");return t!==void 0?t:e.errors?.[n]}function u2(){let{router:t}=r2("useNavigate"),e=Jy("useNavigate"),n=U.useRef(!1);return G1(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{$s(n.current,Z1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var VE={};function Y1(t,e,n){!e&&!VE[t]&&(VE[t]=!0,$s(!1,n))}U.memo(c2);function c2({routes:t,future:e,state:n,onError:i}){return K1(t,void 0,n,i,e)}function h2(t){return QN(t.context)}function $r(t){Tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Tn(!Nf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),_=U.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Hc(n));let{pathname:y="/",search:S="",hash:E="",state:C=null,key:I="default"}=n,H=U.useMemo(()=>{let M=ao(y,d);return M==null?null:{location:{pathname:M,search:S,hash:E,state:C,key:I},navigationType:i}},[d,y,S,E,C,I,i]);return $s(H!=null,`<Router basename="${d}"> is not able to match the URL "${y}${S}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:U.createElement(ys.Provider,{value:_},U.createElement(If.Provider,{children:e,value:H}))}function d2({children:t,location:e}){return XN(ay(t),e)}function ay(t,e=[]){let n=[];return U.Children.forEach(t,(i,a)=>{if(!U.isValidElement(i))return;let l=[...e,a];if(i.type===U.Fragment){n.push.apply(n,ay(i.props.children,l));return}Tn(i.type===$r,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ay(i.props.children,l)),n.push(c)}),n}var dm="get",mm="application/x-www-form-urlencoded";function sp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function m2(t){return sp(t)&&t.tagName.toLowerCase()==="button"}function p2(t){return sp(t)&&t.tagName.toLowerCase()==="form"}function g2(t){return sp(t)&&t.tagName.toLowerCase()==="input"}function _2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y2(t,e){return t.button===0&&(!e||e==="_self")&&!_2(t)}function oy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function v2(t,e){let n=oy(t);return e&&e.forEach((i,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var Jd=null;function b2(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k_(t){return t!=null&&!w2.has(t)?($s(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mm}"`),null):t}function E2(t,e){let n,i,a,l,c;if(p2(t)){let d=t.getAttribute("action");i=d?ao(d,e):null,n=t.getAttribute("method")||dm,a=k_(t.getAttribute("enctype"))||mm,l=new FormData(t)}else if(m2(t)||g2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=t.getAttribute("formaction")||d.getAttribute("action");if(i=_?ao(_,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||dm,a=k_(t.getAttribute("formenctype"))||k_(d.getAttribute("enctype"))||mm,l=new FormData(d,t),!b2()){let{name:y,type:S,value:E}=t;if(S==="image"){let C=y?`${y}.`:"";l.append(`${C}x`,"0"),l.append(`${C}y`,"0")}else y&&l.append(y,E)}}else{if(sp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dm,i=null,a=mm,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S2(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ao(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function T2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function A2(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await T2(l,n);return c.links?c.links():[]}return[]}));return N2(i.flat(1).filter(x2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function UE(t,e,n,i,a,l){let c=(_,y)=>n[y]?_.route.id!==n[y].route.id:!0,d=(_,y)=>n[y].pathname!==_.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==_.params["*"];return l==="assets"?e.filter((_,y)=>c(_,y)||d(_,y)):l==="data"?e.filter((_,y)=>{let S=i.routes[_.route.id];if(!S||!S.hasLoader)return!1;if(c(_,y)||d(_,y))return!0;if(_.route.shouldRevalidate){let E=_.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function C2(t,e,{includeHydrateFallback:n}={}){return R2(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function R2(t){return[...new Set(t)]}function I2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function N2(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(I2(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function Q1(){let t=U.useContext($c);return ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function k2(){let t=U.useContext(rp);return ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tv=U.createContext(void 0);tv.displayName="FrameworkContext";function X1(){let t=U.useContext(tv);return ev(t,"You must render this element inside a <HydratedRouter> element"),t}function P2(t,e){let n=U.useContext(tv),[i,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:_,onMouseEnter:y,onMouseLeave:S,onTouchStart:E}=e,C=U.useRef(null);U.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=ue=>{ue.forEach(X=>{c(X.isIntersecting)})},W=new IntersectionObserver(M,{threshold:.5});return C.current&&W.observe(C.current),()=>{W.disconnect()}}},[t]),U.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let I=()=>{a(!0)},H=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,C,{}]:[l,C,{onFocus:Hh(d,I),onBlur:Hh(_,H),onMouseEnter:Hh(y,I),onMouseLeave:Hh(S,H),onTouchStart:Hh(E,I)}]:[!1,C,{}]}function Hh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function L2({page:t,...e}){let{router:n}=Q1(),i=U.useMemo(()=>M1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?U.createElement(D2,{page:t,matches:i,...e}):null}function O2(t){let{manifest:e,routeModules:n}=X1(),[i,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return A2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function D2({page:t,matches:e,...n}){let i=vl(),{future:a,manifest:l,routeModules:c}=X1(),{basename:d}=Q1(),{loaderData:_,matches:y}=k2(),S=U.useMemo(()=>UE(t,e,y,l,i,"data"),[t,e,y,l,i]),E=U.useMemo(()=>UE(t,e,y,l,i,"assets"),[t,e,y,l,i]),C=U.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let M=new Set,W=!1;if(e.forEach(X=>{let re=l.routes[X.route.id];!re||!re.hasLoader||(!S.some(K=>K.route.id===X.route.id)&&X.route.id in _&&c[X.route.id]?.shouldRevalidate||re.hasClientLoader?W=!0:M.add(X.route.id))}),M.size===0)return[];let ue=S2(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return W&&M.size>0&&ue.searchParams.set("_routes",e.filter(X=>M.has(X.route.id)).map(X=>X.route.id).join(",")),[ue.pathname+ue.search]},[d,a.unstable_trailingSlashAwareDataRequests,_,i,l,S,e,t,c]),I=U.useMemo(()=>C2(E,l),[E,l]),H=O2(E);return U.createElement(U.Fragment,null,C.map(M=>U.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),I.map(M=>U.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),H.map(({key:M,link:W})=>U.createElement("link",{key:M,nonce:n.nonce,...W,crossOrigin:W.crossOrigin??n.crossOrigin})))}function M2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j2&&(window.__reactRouterVersion="7.13.0")}catch{}function z2({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=U.useRef();a.current==null&&(a.current=mN({window:i,v5Compat:!0}));let l=a.current,[c,d]=U.useState({action:l.action,location:l.location}),_=U.useCallback(y=>{n===!1?d(y):U.startTransition(()=>d(y))},[n]);return U.useLayoutEffect(()=>l.listen(_),[l,_]),U.createElement(f2,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var J1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:_,to:y,preventScrollReset:S,viewTransition:E,unstable_defaultShouldRevalidate:C,...I},H){let{basename:M,unstable_useTransitions:W}=U.useContext(ys),ue=typeof y=="string"&&J1.test(y),X=F1(y,M);y=X.to;let re=KN(y,{relative:a}),[K,ne,le]=P2(i,I),P=F2(y,{replace:c,state:d,target:_,preventScrollReset:S,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:C,unstable_useTransitions:W});function O(V){e&&e(V),V.defaultPrevented||P(V)}let z=U.createElement("a",{...I,...le,href:X.absoluteURL||re,onClick:X.isExternal||l?e:O,ref:M2(H,ne),target:_,"data-discover":!ue&&n==="render"?"true":void 0});return K&&!ue?U.createElement(U.Fragment,null,z,U.createElement(L2,{page:re})):z});xt.displayName="Link";var V2=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:_,...y},S){let E=kf(c,{relative:y.relative}),C=vl(),I=U.useContext(rp),{navigator:H,basename:M}=U.useContext(ys),W=I!=null&&K2(E)&&d===!0,ue=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,X=C.pathname,re=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,ue=ue.toLowerCase()),re&&M&&(re=ao(re,M)||re);const K=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let ne=X===ue||!a&&X.startsWith(ue)&&X.charAt(K)==="/",le=re!=null&&(re===ue||!a&&re.startsWith(ue)&&re.charAt(ue.length)==="/"),P={isActive:ne,isPending:le,isTransitioning:W},O=ne?e:void 0,z;typeof i=="function"?z=i(P):z=[i,ne?"active":null,le?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return U.createElement(xt,{...y,"aria-current":O,className:z,ref:S,style:V,to:c,viewTransition:d},typeof _=="function"?_(P):_)});V2.displayName="NavLink";var U2=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=dm,action:d,onSubmit:_,relative:y,preventScrollReset:S,viewTransition:E,unstable_defaultShouldRevalidate:C,...I},H)=>{let{unstable_useTransitions:M}=U.useContext(ys),W=Z2(),ue=G2(d,{relative:y}),X=c.toLowerCase()==="get"?"get":"post",re=typeof d=="string"&&J1.test(d),K=ne=>{if(_&&_(ne),ne.defaultPrevented)return;ne.preventDefault();let le=ne.nativeEvent.submitter,P=le?.getAttribute("formmethod")||c,O=()=>W(le||ne.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:a,state:l,relative:y,preventScrollReset:S,viewTransition:E,unstable_defaultShouldRevalidate:C});M&&n!==!1?U.startTransition(()=>O()):O()};return U.createElement("form",{ref:H,method:X,action:ue,onSubmit:i?_:K,...I,"data-discover":!re&&t==="render"?"true":void 0})});U2.displayName="Form";function B2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(t){let e=U.useContext($c);return Tn(e,B2(t)),e}function F2(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:_}={}){let y=Ks(),S=vl(),E=kf(t,{relative:l});return U.useCallback(C=>{if(y2(C,e)){C.preventDefault();let I=n!==void 0?n:pf(S)===pf(E),H=()=>y(t,{replace:I,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});_?U.startTransition(()=>H()):H()}},[S,y,E,n,i,e,t,a,l,c,d,_])}function H2(t){$s(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(oy(t)),n=U.useRef(!1),i=vl(),a=U.useMemo(()=>v2(i.search,n.current?null:e.current),[i.search]),l=Ks(),c=U.useCallback((d,_)=>{const y=oy(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+y,_)},[l,a]);return[a,c]}var $2=0,q2=()=>`__${String(++$2)}__`;function Z2(){let{router:t}=ex("useSubmit"),{basename:e}=U.useContext(ys),n=o2(),i=t.fetch,a=t.navigate;return U.useCallback(async(l,c={})=>{let{action:d,method:_,encType:y,formData:S,body:E}=E2(l,e);if(c.navigate===!1){let C=c.fetcherKey||q2();await i(C,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:S,body:E,formMethod:c.method||_,formEncType:c.encType||y,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:S,body:E,formMethod:c.method||_,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function G2(t,{relative:e}={}){let{basename:n}=U.useContext(ys),i=U.useContext(Gs);Tn(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...kf(t||".",{relative:e})},c=vl();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),_=d.getAll("index");if(_.some(S=>S==="")){d.delete("index"),_.filter(E=>E).forEach(E=>d.append("index",E));let S=d.toString();l.search=S?`?${S}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:io([n,l.pathname])),pf(l)}function K2(t,{relative:e}={}){let n=U.useContext($1);Tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ex("useViewTransitionState"),a=kf(t,{relative:e});if(!n.isTransitioning)return!1;let l=ao(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=ao(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Am(a.pathname,c)!=null||Am(a.pathname,l)!=null}var W2=D1();const st=t=>typeof t=="string",$h=()=>{let t,e;const n=new Promise((i,a)=>{t=i,e=a});return n.resolve=t,n.reject=e,n},BE=t=>t==null?"":""+t,Y2=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},Q2=/###/g,FE=t=>t&&t.indexOf("###")>-1?t.replace(Q2,"."):t,HE=t=>!t||st(t),sf=(t,e,n)=>{const i=st(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(HE(t))return{};const l=FE(i[a]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++a}return HE(t)?{}:{obj:t,k:FE(i[a])}},$E=(t,e,n)=>{const{obj:i,k:a}=sf(t,e,Object);if(i!==void 0||e.length===1){i[a]=n;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=sf(t,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=sf(t,c,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=n},X2=(t,e,n,i)=>{const{obj:a,k:l}=sf(t,e,Object);a[l]=a[l]||[],a[l].push(n)},Cm=(t,e)=>{const{obj:n,k:i}=sf(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},J2=(t,e,n)=>{const i=Cm(t,n);return i!==void 0?i:Cm(e,n)},tx=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?st(t[i])||t[i]instanceof String||st(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):tx(t[i],e[i],n):t[i]=e[i]);return t},_c=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ek={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const tk=t=>st(t)?t.replace(/[&<>"'\/]/g,e=>ek[e]):t;class nk{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const ik=[" ",",","?","!",";"],rk=new nk(20),sk=(t,e,n)=>{e=e||"",n=n||"";const i=ik.filter(c=>e.indexOf(c)<0&&n.indexOf(c)<0);if(i.length===0)return!0;const a=rk.getRegExp(`(${i.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(t);if(!l){const c=t.indexOf(n);c>0&&!a.test(t.substring(0,c))&&(l=!0)}return l},ly=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const i=e.split(n);let a=t;for(let l=0;l<i.length;){if(!a||typeof a!="object")return;let c,d="";for(let _=l;_<i.length;++_)if(_!==l&&(d+=n),d+=i[_],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&_<i.length-1)continue;l+=_-l+1;break}a=c}return a},gf=t=>t?.replace("_","-"),ak={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};let ok=class uy{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||ak,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,a){return a&&!this.debug?null:(st(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new uy(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new uy(this.logger,e)}};var _a=new ok;class ap{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(n)||0;this.observers[i].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...n])})}}class qE extends ap{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],i&&(Array.isArray(i)?d.push(...i):st(i)&&l?d.push(...i.split(l)):d.push(i)));const _=Cm(this.data,d);return!_&&!n&&!i&&e.indexOf(".")>-1&&(e=d[0],n=d[1],i=d.slice(2).join(".")),_||!c||!st(i)?_:ly(this.data?.[e]?.[n],i,l)}addResource(e,n,i,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,n];i&&(d=d.concat(c?i.split(c):i)),e.indexOf(".")>-1&&(d=e.split("."),a=n,n=d[1]),this.addNamespaces(n),$E(this.data,d,a),l.silent||this.emit("added",e,n,i,a)}addResources(e,n,i,a={silent:!1}){for(const l in i)(st(i[l])||Array.isArray(i[l]))&&this.addResource(e,n,l,i[l],{silent:!0});a.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,a,l,c={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),a=i,i=n,n=d[1]),this.addNamespaces(n);let _=Cm(this.data,d)||{};c.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?tx(_,i,l):_={..._,...i},$E(this.data,d,_),c.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var nx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,a){return t.forEach(l=>{e=this.processors[l]?.process(e,n,i,a)??e}),e}};const ix=Symbol("i18next/PATH_KEY");function lk(){const t=[],e=Object.create(null);let n;return e.get=(i,a)=>(n?.revoke?.(),a===ix?t:(t.push(a),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function cy(t,e){const{[ix]:n}=t(lk());return n.join(e?.keySeparator??".")}const ZE={},P_=t=>!st(t)&&typeof t!="boolean"&&typeof t!="number";class Rm extends ap{constructor(e,n={}){super(),Y2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_a.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const i={...n};if(e==null)return!1;const a=this.resolve(e,i);if(a?.res===void 0)return!1;const l=P_(a.res);return!(i.returnObjects===!1&&l)}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const c=i&&e.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!sk(e,i,a);if(c&&!d){const _=e.match(this.interpolator.nestingRegexp);if(_&&_.length>0)return{key:e,namespaces:st(l)?[l]:l};const y=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(y[0])>-1)&&(l=y.shift()),e=y.join(a)}return{key:e,namespaces:st(l)?[l]:l}}translate(e,n,i){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=cy(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:_}=this.extractFromKey(e[e.length-1],a),y=_[_.length-1];let S=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const E=a.lng||this.language,C=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(E?.toLowerCase()==="cimode")return C?l?{res:`${y}${S}${d}`,usedKey:d,exactUsedKey:d,usedLng:E,usedNS:y,usedParams:this.getUsedParamsDetails(a)}:`${y}${S}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:E,usedNS:y,usedParams:this.getUsedParamsDetails(a)}:d;const I=this.resolve(e,a);let H=I?.res;const M=I?.usedKey||d,W=I?.exactUsedKey||d,ue=["[object Number]","[object Function]","[object RegExp]"],X=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,re=!this.i18nFormat||this.i18nFormat.handleAsObject,K=a.count!==void 0&&!st(a.count),ne=Rm.hasDefaultValue(a),le=K?this.pluralResolver.getSuffix(E,a.count,a):"",P=a.ordinal&&K?this.pluralResolver.getSuffix(E,a.count,{ordinal:!1}):"",O=K&&!a.ordinal&&a.count===0,z=O&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${le}`]||a[`defaultValue${P}`]||a.defaultValue;let V=H;re&&!H&&ne&&(V=z);const F=P_(V),B=Object.prototype.toString.apply(V);if(re&&V&&F&&ue.indexOf(B)<0&&!(st(X)&&Array.isArray(V))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,V,{...a,ns:_}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(I.res=j,I.usedParams=this.getUsedParamsDetails(a),I):j}if(c){const j=Array.isArray(V),Ae=j?[]:{},qe=j?W:M;for(const te in V)if(Object.prototype.hasOwnProperty.call(V,te)){const de=`${qe}${c}${te}`;ne&&!H?Ae[te]=this.translate(de,{...a,defaultValue:P_(z)?z[te]:void 0,joinArrays:!1,ns:_}):Ae[te]=this.translate(de,{...a,joinArrays:!1,ns:_}),Ae[te]===de&&(Ae[te]=V[te])}H=Ae}}else if(re&&st(X)&&Array.isArray(H))H=H.join(X),H&&(H=this.extendTranslation(H,e,a,i));else{let j=!1,Ae=!1;!this.isValidLookup(H)&&ne&&(j=!0,H=z),this.isValidLookup(H)||(Ae=!0,H=d);const te=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ae?void 0:H,de=ne&&z!==H&&this.options.updateMissing;if(Ae||j||de){if(this.logger.log(de?"updateKey":"missingKey",E,y,d,de?z:H),c){const $=this.resolve(d,{...a,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ve=[];const Ze=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ze&&Ze[0])for(let $=0;$<Ze.length;$++)ve.push(Ze[$]);else this.options.saveMissingTo==="all"?ve=this.languageUtils.toResolveHierarchy(a.lng||this.language):ve.push(a.lng||this.language);const ke=($,Y,ge)=>{const _e=ne&&ge!==H?ge:te;this.options.missingKeyHandler?this.options.missingKeyHandler($,y,Y,_e,de,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing($,y,Y,_e,de,a),this.emit("missingKey",$,y,Y,H)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?ve.forEach($=>{const Y=this.pluralResolver.getSuffixes($,a);O&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(ge=>{ke([$],d+ge,a[`defaultValue${ge}`]||z)})}):ke(ve,d,z))}H=this.extendTranslation(H,e,a,I,i),Ae&&H===d&&this.options.appendNamespaceToMissingKey&&(H=`${y}${S}${d}`),(Ae||j)&&this.options.parseMissingKeyHandler&&(H=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${y}${S}${d}`:d,j?H:void 0,a))}return l?(I.res=H,I.usedParams=this.getUsedParamsDetails(a),I):H}extendTranslation(e,n,i,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const _=st(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(_){const E=e.match(this.interpolator.nestingRegexp);y=E&&E.length}let S=i.replace&&!st(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),e=this.interpolator.interpolate(e,S,i.lng||this.language||a.usedLng,i),_){const E=e.match(this.interpolator.nestingRegexp),C=E&&E.length;y<C&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...E)=>l?.[0]===E[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${E[0]} in key: ${n[0]}`),null):this.translate(...E,n),i)),i.interpolation&&this.interpolator.reset()}const c=i.postProcess||this.options.postProcess,d=st(c)?[c]:c;return e!=null&&d?.length&&i.applyPostProcessor!==!1&&(e=nx.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,a,l,c,d;return st(e)&&(e=[e]),e.forEach(_=>{if(this.isValidLookup(i))return;const y=this.extractFromKey(_,n),S=y.key;a=S;let E=y.namespaces;this.options.fallbackNS&&(E=E.concat(this.options.fallbackNS));const C=n.count!==void 0&&!st(n.count),I=C&&!n.ordinal&&n.count===0,H=n.context!==void 0&&(st(n.context)||typeof n.context=="number")&&n.context!=="",M=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);E.forEach(W=>{this.isValidLookup(i)||(d=W,!ZE[`${M[0]}-${W}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(ZE[`${M[0]}-${W}`]=!0,this.logger.warn(`key "${a}" for languages "${M.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(ue=>{if(this.isValidLookup(i))return;c=ue;const X=[S];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(X,S,ue,W,n);else{let K;C&&(K=this.pluralResolver.getSuffix(ue,n.count,n));const ne=`${this.options.pluralSeparator}zero`,le=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(C&&(n.ordinal&&K.indexOf(le)===0&&X.push(S+K.replace(le,this.options.pluralSeparator)),X.push(S+K),I&&X.push(S+ne)),H){const P=`${S}${this.options.contextSeparator||"_"}${n.context}`;X.push(P),C&&(n.ordinal&&K.indexOf(le)===0&&X.push(P+K.replace(le,this.options.pluralSeparator)),X.push(P+K),I&&X.push(P+ne))}}let re;for(;re=X.pop();)this.isValidLookup(i)||(l=re,i=this.getResource(ue,W,re,n))}))})}),{res:i,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,a):this.resourceStore.getResource(e,n,i,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!st(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const l of n)delete a[l]}return a}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}class GE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_a.create("languageUtils")}getScriptPartFromCode(e){if(e=gf(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=gf(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(st(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const a=this.getScriptPartFromCode(i);if(this.isSupportedCode(a))return n=a;const l=this.getLanguagePartFromCode(i);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),st(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return st(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):st(e)&&l(this.formatLanguageCode(e)),i.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const KE={zero:0,one:1,two:2,few:3,many:4,other:5},WE={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class uk{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=_a.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const i=gf(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),WE;if(!e.match(/-|_/))return WE;const _=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(_,n)}return this.pluralRulesCache[l]=c,c}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((a,l)=>KE[a]-KE[l]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,i={}){const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}}const YE=(t,e,n,i=".",a=!0)=>{let l=J2(t,e,n);return!l&&a&&st(n)&&(l=ly(t,n,i),l===void 0&&(l=ly(e,n,i))),l},L_=t=>t.replace(/\$/g,"$$$$");class QE{constructor(e={}){this.logger=_a.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:_,formatSeparator:y,unescapeSuffix:S,unescapePrefix:E,nestingPrefix:C,nestingPrefixEscaped:I,nestingSuffix:H,nestingSuffixEscaped:M,nestingOptionsSeparator:W,maxReplaces:ue,alwaysFormat:X}=e.interpolation;this.escape=n!==void 0?n:tk,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?_c(l):c||"{{",this.suffix=d?_c(d):_||"}}",this.formatSeparator=y||",",this.unescapePrefix=S?"":E||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=C?_c(C):I||_c("$t("),this.nestingSuffix=H?_c(H):M||_c(")"),this.nestingOptionsSeparator=W||",",this.maxReplaces=ue||1e3,this.alwaysFormat=X!==void 0?X:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,a){let l,c,d;const _=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},y=I=>{if(I.indexOf(this.formatSeparator)<0){const ue=YE(n,_,I,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(ue,void 0,i,{...a,...n,interpolationkey:I}):ue}const H=I.split(this.formatSeparator),M=H.shift().trim(),W=H.join(this.formatSeparator).trim();return this.format(YE(n,_,M,this.options.keySeparator,this.options.ignoreJSONStructure),W,i,{...a,...n,interpolationkey:M})};this.resetRegExp();const S=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,E=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:I=>L_(I)},{regex:this.regexp,safeValue:I=>this.escapeValue?L_(this.escape(I)):L_(I)}].forEach(I=>{for(d=0;l=I.regex.exec(e);){const H=l[1].trim();if(c=y(H),c===void 0)if(typeof S=="function"){const W=S(e,l,a);c=st(W)?W:""}else if(a&&Object.prototype.hasOwnProperty.call(a,H))c="";else if(E){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${H} for interpolating ${e}`),c="";else!st(c)&&!this.useRawValueToEscape&&(c=BE(c));const M=I.safeValue(c);if(e=e.replace(l[0],M),E?(I.regex.lastIndex+=c.length,I.regex.lastIndex-=l[0].length):I.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,i={}){let a,l,c;const d=(_,y)=>{const S=this.nestingOptionsSeparator;if(_.indexOf(S)<0)return _;const E=_.split(new RegExp(`${S}[ ]*{`));let C=`{${E[1]}`;_=E[0],C=this.interpolate(C,c);const I=C.match(/'/g),H=C.match(/"/g);((I?.length??0)%2===0&&!H||H.length%2!==0)&&(C=C.replace(/'/g,'"'));try{c=JSON.parse(C),y&&(c={...y,...c})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${_}`,M),`${_}${S}${C}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,_};for(;a=this.nestingRegexp.exec(e);){let _=[];c={...i},c=c.replace&&!st(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const y=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(y!==-1&&(_=a[1].slice(y).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),a[1]=a[1].slice(0,y)),l=n(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!st(l))return l;st(l)||(l=BE(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),_.length&&(l=_.reduce((S,E)=>this.format(S,E,i.lng,{...i,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const ck=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,..._]=c.split(":"),y=_.join(":").trim().replace(/^'+|'+$/g,""),S=d.trim();n[S]||(n[S]=y),y==="false"&&(n[S]=!1),y==="true"&&(n[S]=!0),isNaN(y)||(n[S]=parseInt(y,10))}})}return{formatName:e,formatOptions:n}},XE=t=>{const e={};return(n,i,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=i+JSON.stringify(l);let d=e[c];return d||(d=t(gf(i),a),e[c]=d),d(n)}},hk=t=>(e,n,i)=>t(gf(n),i)(e);class fk{constructor(e={}){this.logger=_a.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?XE:hk;this.formats={number:i((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return d=>c.format(d)}),currency:i((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>c.format(d)}),datetime:i((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return d=>c.format(d)}),relativetime:i((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return d=>c.format(d,l.range||"day")}),list:i((a,l)=>{const c=new Intl.ListFormat(a,{...l});return d=>c.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=XE(n)}format(e,n,i,a={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(_=>_.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,_)=>{const{formatName:y,formatOptions:S}=ck(_);if(this.formats[y]){let E=d;try{const C=a?.formatParams?.[a.interpolationkey]||{},I=C.locale||C.lng||a.locale||a.lng||i;E=this.formats[y](d,I,{...S,...a,...C})}catch(C){this.logger.warn(C)}return E}else this.logger.warn(`there was no format function for ${y}`);return d},e)}}const dk=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class mk extends ap{constructor(e,n,i,a={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=_a.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,a.backend,a)}queueLoad(e,n,i,a){const l={},c={},d={},_={};return e.forEach(y=>{let S=!0;n.forEach(E=>{const C=`${y}|${E}`;!i.reload&&this.store.hasResourceBundle(y,E)?this.state[C]=2:this.state[C]<0||(this.state[C]===1?c[C]===void 0&&(c[C]=!0):(this.state[C]=1,S=!1,c[C]===void 0&&(c[C]=!0),l[C]===void 0&&(l[C]=!0),_[E]===void 0&&(_[E]=!0)))}),S||(d[y]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(_)}}loaded(e,n,i){const a=e.split("|"),l=a[0],c=a[1];n&&this.emit("failedLoading",l,c,n),!n&&i&&this.store.addResourceBundle(l,c,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const d={};this.queue.forEach(_=>{X2(_.loaded,[l],c),dk(_,e),n&&_.errors.push(n),_.pendingCount===0&&!_.done&&(Object.keys(_.loaded).forEach(y=>{d[y]||(d[y]={});const S=_.loaded[y];S.length&&S.forEach(E=>{d[y][E]===void 0&&(d[y][E]=!0)})}),_.done=!0,_.errors.length?_.callback(_.errors):_.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(_=>!_.done)}read(e,n,i,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(y,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const E=this.waitingReads.shift();this.read(E.lng,E.ns,E.fcName,E.tried,E.wait,E.callback)}if(y&&S&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,a+1,l*2,c)},l);return}c(y,S)},_=this.backend[i].bind(this.backend);if(_.length===2){try{const y=_(e,n);y&&typeof y.then=="function"?y.then(S=>d(null,S)).catch(d):d(null,y)}catch(y){d(y)}return}return _(e,n,d)}prepareLoading(e,n,i={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();st(e)&&(e=this.languageUtils.toResolveHierarchy(e)),st(n)&&(n=[n]);const l=this.queueLoad(e,n,i,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){const i=e.split("|"),a=i[0],l=i[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,n,i,a,l,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const _={...c,isUpdate:l},y=this.backend.create.bind(this.backend);if(y.length<6)try{let S;y.length===5?S=y(e,n,i,a,_):S=y(e,n,i,a),S&&typeof S.then=="function"?S.then(E=>d(null,E)).catch(d):d(null,S)}catch(S){d(S)}else y(e,n,i,a,d,_)}!e||!e[0]||this.store.addResource(e[0],n,i,a)}}}const O_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),st(t[1])&&(e.defaultValue=t[1]),st(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),JE=t=>(st(t.ns)&&(t.ns=[t.ns]),st(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),st(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),em=()=>{},pk=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class af extends ap{constructor(e={},n){if(super(),this.options=JE(e),this.services={},this.logger=_a,this.modules={external:[]},pk(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(st(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=O_();this.options={...i,...this.options,...JE(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const a=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?_a.init(a(this.modules.logger),this.options):_a.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:y=fk;const S=new GE(this.options);this.store=new qE(this.options.resources,this.options);const E=this.services;E.logger=_a,E.resourceStore=this.store,E.languageUtils=S,E.pluralResolver=new uk(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),y&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(E.formatter=a(y),E.formatter.init&&E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new QE(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new mk(a(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",(I,...H)=>{this.emit(I,...H)}),this.modules.languageDetector&&(E.languageDetector=a(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=a(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new Rm(this.services,this.options),this.translator.on("*",(I,...H)=>{this.emit(I,...H)}),this.modules.external.forEach(I=>{I.init&&I.init(this)})}if(this.format=this.options.interpolation.format,n||(n=em),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=(...S)=>this.store[y](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=(...S)=>(this.store[y](...S),this)});const d=$h(),_=()=>{const y=(S,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(E),n(S,E)};if(this.languages&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initAsync?_():setTimeout(_,0),d}loadResources(e,n=em){let i=n;const a=st(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(y=>{y!=="cimode"&&l.indexOf(y)<0&&l.push(y)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>c(_)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(d)})}else i(null)}reloadResources(e,n,i){const a=$h();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=em),this.services.backendConnector.reload(e,n,l=>{a.resolve(),i(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&nx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const i=$h();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,_)=>{_?this.isLanguageChangingTo===e&&(a(_),this.translator.changeLanguage(_),this.isLanguageChangingTo=void 0,this.emit("languageChanged",_),this.logger.log("languageChanged",_)):this.isLanguageChangingTo=void 0,i.resolve((...y)=>this.t(...y)),n&&n(d,(...y)=>this.t(...y))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const _=st(d)?d:d&&d[0],y=this.store.hasLanguageSomeTranslations(_)?_:this.services.languageUtils.getBestMatchFromCodes(st(d)?[d]:d);y&&(this.language||a(y),this.translator.language||this.translator.changeLanguage(y),this.services.languageDetector?.cacheUserLanguage?.(y)),this.loadResources(y,S=>{l(S,y)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),i}getFixedT(e,n,i){const a=(l,c,...d)=>{let _;typeof c!="object"?_=this.options.overloadTranslationOptionHandler([l,c].concat(d)):_={...c},_.lng=_.lng||a.lng,_.lngs=_.lngs||a.lngs,_.ns=_.ns||a.ns,_.keyPrefix!==""&&(_.keyPrefix=_.keyPrefix||i||a.keyPrefix);const y=this.options.keySeparator||".";let S;return _.keyPrefix&&Array.isArray(l)?S=l.map(E=>(typeof E=="function"&&(E=cy(E,{...this.options,...c})),`${_.keyPrefix}${y}${E}`)):(typeof l=="function"&&(l=cy(l,{...this.options,...c})),S=_.keyPrefix?`${_.keyPrefix}${y}${l}`:l),this.t(S,_)};return st(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=i,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const c=(d,_)=>{const y=this.services.backendConnector.state[`${d}|${_}`];return y===-1||y===0||y===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(i,e)&&(!a||c(l,e)))}loadNamespaces(e,n){const i=$h();return this.options.ns?(st(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=$h();st(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{i.resolve(),n&&n(c)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new GE(O_());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const i=new af(e,n);return i.createInstance=af.createInstance,i}cloneInstance(e={},n=em){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new af(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const d=Object.keys(this.store.data).reduce((_,y)=>(_[y]={...this.store.data[y]},_[y]=Object.keys(_[y]).reduce((S,E)=>(S[E]={..._[y][E]},S),_[y]),_),{});l.store=new qE(d,a),l.services.resourceStore=l.store}if(e.interpolation){const _={...O_().interpolation,...this.options.interpolation,...e.interpolation},y={...a,interpolation:_};l.services.interpolator=new QE(y)}return l.translator=new Rm(l.services,a),l.translator.on("*",(d,..._)=>{l.emit(d,..._)}),l.init(a,n),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qi=af.createInstance();Qi.createInstance;Qi.dir;Qi.init;Qi.loadResources;Qi.reloadResources;Qi.use;Qi.changeLanguage;Qi.getFixedT;Qi.t;Qi.exists;Qi.setDefaultNamespace;Qi.hasLoadedNamespace;Qi.loadNamespaces;Qi.loadLanguages;const gk=(t,e,n,i)=>{const a=[n,{code:e,...i||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);mu(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},eS={},rx=(t,e,n,i)=>{mu(n)&&eS[n]||(mu(n)&&(eS[n]=new Date),gk(t,e,n,i))},sx=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},hy=(t,e,n)=>{t.loadNamespaces(e,sx(t,n))},tS=(t,e,n,i)=>{if(mu(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return hy(t,n,i);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,sx(t,i))},_k=(t,e,n={})=>!e.languages||!e.languages.length?(rx(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,t))return!1}}),mu=t=>typeof t=="string",yk=t=>typeof t=="object"&&t!==null,vk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},wk=t=>bk[t],Ek=t=>t.replace(vk,wk);let fy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ek,transDefaultProps:void 0};const Sk=(t={})=>{fy={...fy,...t}},Tk=()=>fy;let ax;const xk=t=>{ax=t},Ak=()=>ax,Ck={type:"3rdParty",init(t){Sk(t.options.react),xk(t)}},Rk=U.createContext();class Ik{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var D_={exports:{}},M_={};var nS;function Nk(){if(nS)return M_;nS=1;var t=ip();function e(E,C){return E===C&&(E!==0||1/E===1/C)||E!==E&&C!==C}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(E,C){var I=C(),H=i({inst:{value:I,getSnapshot:C}}),M=H[0].inst,W=H[1];return l(function(){M.value=I,M.getSnapshot=C,_(M)&&W({inst:M})},[E,I,C]),a(function(){return _(M)&&W({inst:M}),E(function(){_(M)&&W({inst:M})})},[E]),c(I),I}function _(E){var C=E.getSnapshot;E=E.value;try{var I=C();return!n(E,I)}catch{return!0}}function y(E,C){return C()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:d;return M_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:S,M_}var iS;function kk(){return iS||(iS=1,D_.exports=Nk()),D_.exports}var Pk=kk();const Lk=(t,e)=>mu(e)?e:yk(e)&&mu(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Ok={t:Lk,ready:!1},Dk=()=>()=>{},xi=(t,e={})=>{const{i18n:n}=e,{i18n:i,defaultNS:a}=U.useContext(Rk)||{},l=n||i||Ak();l&&!l.reportNamespaces&&(l.reportNamespaces=new Ik),l||rx(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=U.useMemo(()=>({...Tk(),...l?.options?.react,...e}),[l,e]),{useSuspense:d,keyPrefix:_}=c,y=a||l?.options?.defaultNS,S=mu(y)?[y]:y||["translation"],E=U.useMemo(()=>S,S);l?.reportNamespaces?.addUsedNamespaces?.(E);const C=U.useRef(0),I=U.useCallback(z=>{if(!l)return Dk;const{bindI18n:V,bindI18nStore:F}=c,B=()=>{C.current+=1,z()};return V&&l.on(V,B),F&&l.store.on(F,B),()=>{V&&V.split(" ").forEach(j=>l.off(j,B)),F&&F.split(" ").forEach(j=>l.store.off(j,B))}},[l,c]),H=U.useRef(),M=U.useCallback(()=>{if(!l)return Ok;const z=!!(l.isInitialized||l.initializedStoreOnce)&&E.every(qe=>_k(qe,l,c)),V=e.lng||l.language,F=C.current,B=H.current;if(B&&B.ready===z&&B.lng===V&&B.keyPrefix===_&&B.revision===F)return B;const Ae={t:l.getFixedT(V,c.nsMode==="fallback"?E:E[0],_),ready:z,lng:V,keyPrefix:_,revision:F};return H.current=Ae,Ae},[l,E,_,c,e.lng]),[W,ue]=U.useState(0),{t:X,ready:re}=Pk.useSyncExternalStore(I,M,M);U.useEffect(()=>{if(l&&!re&&!d){const z=()=>ue(V=>V+1);e.lng?tS(l,e.lng,E,z):hy(l,E,z)}},[l,e.lng,E,re,d,W]);const K=l||{},ne=U.useRef(null),le=U.useRef(),P=z=>{const V=Object.getOwnPropertyDescriptors(z);V.__original&&delete V.__original;const F=Object.create(Object.getPrototypeOf(z),V);if(!Object.prototype.hasOwnProperty.call(F,"__original"))try{Object.defineProperty(F,"__original",{value:z,writable:!1,enumerable:!1,configurable:!1})}catch{}return F},O=U.useMemo(()=>{const z=K,V=z?.language;let F=z;z&&(ne.current&&ne.current.__original===z?le.current!==V?(F=P(z),ne.current=F,le.current=V):F=ne.current:(F=P(z),ne.current=F,le.current=V));const B=[X,F,re];return B.t=X,B.i18n=F,B.ready=re,B},[X,K,re,K.resolvedLanguage,K.language,K.languages]);if(l&&d&&!re)throw new Promise(z=>{const V=()=>z();e.lng?tS(l,e.lng,E,V):hy(l,E,V)});return O},Mk="modulepreload",jk=function(t){return"/uprole/"+t},rS={},zk=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let y=function(S){return Promise.all(S.map(E=>Promise.resolve(E).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};var c=y;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),_=d?.nonce||d?.getAttribute("nonce");a=y(n.map(S=>{if(S=jk(S),S in rS)return;rS[S]=!0;const E=S.endsWith(".css"),C=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${C}`))return;const I=document.createElement("link");if(I.rel=E?"stylesheet":Mk,E||(I.as="script"),I.crossOrigin="",I.href=S,_&&I.setAttribute("nonce",_),document.head.appendChild(I),E)return new Promise((H,M)=>{I.addEventListener("load",H),I.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${S}`)))})}))}function l(d){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=d,window.dispatchEvent(_),!_.defaultPrevented)throw d}return a.then(d=>{for(const _ of d||[])_.status==="rejected"&&l(_.reason);return e().catch(l)})},sS=t=>{let e;const n=new Set,i=(y,S)=>{const E=typeof y=="function"?y(e):y;if(!Object.is(E,e)){const C=e;e=S??(typeof E!="object"||E===null)?E:Object.assign({},e,E),n.forEach(I=>I(e,C))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>_,subscribe:y=>(n.add(y),()=>n.delete(y))},_=e=t(i,a,d);return d},Vk=(t=>t?sS(t):sS),Uk=t=>t;function Bk(t,e=Uk){const n=Je.useSyncExternalStore(t.subscribe,Je.useCallback(()=>e(t.getState()),[t,e]),Je.useCallback(()=>e(t.getInitialState()),[t,e]));return Je.useDebugValue(n),n}const aS=t=>{const e=Vk(t),n=i=>Bk(e,i);return Object.assign(n,e),n},Fk=(t=>t?aS(t):aS),Hk=()=>{};var oS={};const ox=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$k=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],_=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(_>>10)),e[i++]=String.fromCharCode(56320+(_&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,_=a+2<t.length,y=_?t[a+2]:0,S=l>>2,E=(l&3)<<4|d>>4;let C=(d&15)<<2|y>>6,I=y&63;_||(I=64,c||(C=64)),i.push(n[S],n[E],n[C],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ox(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$k(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const y=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||y==null||E==null)throw new qk;const C=l<<2|d>>4;if(i.push(C),y!==64){const I=d<<4&240|y>>2;if(i.push(I),E!==64){const H=y<<6&192|E;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zk=function(t){const e=ox(t);return lx.encodeByteArray(e,!0)},Im=function(t){return Zk(t).replace(/\./g,"")},ux=function(t){try{return lx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kk=()=>Gk().__FIREBASE_DEFAULTS__,Wk=()=>{if(typeof process>"u"||typeof oS>"u")return;const t=oS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ux(t[1]);return e&&JSON.parse(e)},op=()=>{try{return Hk()||Kk()||Wk()||Yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cx=t=>op()?.emulatorHosts?.[t],Qk=t=>{const e=cx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},hx=()=>op()?.config,fx=t=>op()?.[`_${t}`];class Xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function qc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dx(t){return(await fetch(t,{credentials:"include"})).ok}function Jk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Im(JSON.stringify(n)),Im(JSON.stringify(c)),""].join(".")}const of={};function eP(){const t={prod:[],emulator:[]};for(const e of Object.keys(of))of[e]?t.emulator.push(e):t.prod.push(e);return t}function tP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lS=!1;function mx(t,e){if(typeof window>"u"||typeof document>"u"||!qc(window.location.host)||of[t]===e||of[t]||lS)return;of[t]=e;function n(C){return`__firebase__banner__${C}`}const i="__firebase__banner",l=eP().prod.length>0;function c(){const C=document.getElementById(i);C&&C.remove()}function d(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,I){C.setAttribute("width","24"),C.setAttribute("id",I),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{lS=!0,c()},C}function S(C,I){C.setAttribute("id",I),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function E(){const C=tP(i),I=n("text"),H=document.getElementById(I)||document.createElement("span"),M=n("learnmore"),W=document.getElementById(M)||document.createElement("a"),ue=n("preprendIcon"),X=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const re=C.element;d(re),S(W,M);const K=y();_(X,ue),re.append(X,H,W,K),document.body.appendChild(re)}l?(H.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())}function iP(){const t=op()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oP(){const t=zi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lP(){return!iP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uP(){try{return typeof indexedDB=="object"}catch{return!1}}function cP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const hP="FirebaseError";class mo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=hP,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pf.prototype.create)}}class Pf{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?fP(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new mo(a,d,i)}}function fP(t,e){return t.replace(dP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const dP=/\{\$([^}]+)}/g;function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(uS(l)&&uS(c)){if(!oo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function uS(t){return t!==null&&typeof t=="object"}function Lf(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Yh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pP(t,e){const n=new gP(t,e);return n.subscribe.bind(n)}class gP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_P(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=j_),a.error===void 0&&(a.error=j_),a.complete===void 0&&(a.complete=j_);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _P(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function j_(){}function Jn(t){return t&&t._delegate?t._delegate:t}class pu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lu="[DEFAULT]";class yP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Xk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bP(e))try{this.getOrInitializeService({instanceIdentifier:lu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lu){return this.instances.has(e)}getOptions(e=lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lu){return this.component?this.component.multipleInstances?e:lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vP(t){return t===lu?void 0:t}function bP(t){return t.instantiationMode==="EAGER"}class wP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const EP={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},SP=It.INFO,TP={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},xP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=TP[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nv{constructor(e){this.name=e,this._logLevel=SP,this._logHandler=xP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const AP=(t,e)=>e.some(n=>t instanceof n);let cS,hS;function CP(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RP(){return hS||(hS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const px=new WeakMap,dy=new WeakMap,gx=new WeakMap,z_=new WeakMap,iv=new WeakMap;function IP(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ol(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&px.set(n,t)}).catch(()=>{}),iv.set(e,t),e}function NP(t){if(dy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});dy.set(t,e)}let my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ol(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kP(t){my=t(my)}function PP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(V_(this),e,...n);return gx.set(i,e.sort?e.sort():[e]),ol(i)}:RP().includes(t)?function(...e){return t.apply(V_(this),e),ol(px.get(this))}:function(...e){return ol(t.apply(V_(this),e))}}function LP(t){return typeof t=="function"?PP(t):(t instanceof IDBTransaction&&NP(t),AP(t,CP())?new Proxy(t,my):t)}function ol(t){if(t instanceof IDBRequest)return IP(t);if(z_.has(t))return z_.get(t);const e=LP(t);return e!==t&&(z_.set(t,e),iv.set(e,t)),e}const V_=t=>iv.get(t);function OP(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=ol(c);return i&&c.addEventListener("upgradeneeded",_=>{i(ol(c.result),_.oldVersion,_.newVersion,ol(c.transaction),_)}),n&&c.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),d.then(_=>{l&&_.addEventListener("close",()=>l()),a&&_.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const DP=["get","getKey","getAll","getAllKeys","count"],MP=["put","add","delete","clear"],U_=new Map;function fS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(U_.get(e))return U_.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=MP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||DP.includes(n)))return;const l=async function(c,...d){const _=this.transaction(c,a?"readwrite":"readonly");let y=_.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[n](...d),a&&_.done]))[0]};return U_.set(e,l),l}kP(t=>({...t,get:(e,n,i)=>fS(e,n)||t.get(e,n,i),has:(e,n)=>!!fS(e,n)||t.has(e,n)}));class jP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zP(t){return t.getComponent()?.type==="VERSION"}const py="@firebase/app",dS="0.14.7";const lo=new nv("@firebase/app"),VP="@firebase/app-compat",UP="@firebase/analytics-compat",BP="@firebase/analytics",FP="@firebase/app-check-compat",HP="@firebase/app-check",$P="@firebase/auth",qP="@firebase/auth-compat",ZP="@firebase/database",GP="@firebase/data-connect",KP="@firebase/database-compat",WP="@firebase/functions",YP="@firebase/functions-compat",QP="@firebase/installations",XP="@firebase/installations-compat",JP="@firebase/messaging",eL="@firebase/messaging-compat",tL="@firebase/performance",nL="@firebase/performance-compat",iL="@firebase/remote-config",rL="@firebase/remote-config-compat",sL="@firebase/storage",aL="@firebase/storage-compat",oL="@firebase/firestore",lL="@firebase/ai",uL="@firebase/firestore-compat",cL="firebase",hL="12.8.0";const gy="[DEFAULT]",fL={[py]:"fire-core",[VP]:"fire-core-compat",[BP]:"fire-analytics",[UP]:"fire-analytics-compat",[HP]:"fire-app-check",[FP]:"fire-app-check-compat",[$P]:"fire-auth",[qP]:"fire-auth-compat",[ZP]:"fire-rtdb",[GP]:"fire-data-connect",[KP]:"fire-rtdb-compat",[WP]:"fire-fn",[YP]:"fire-fn-compat",[QP]:"fire-iid",[XP]:"fire-iid-compat",[JP]:"fire-fcm",[eL]:"fire-fcm-compat",[tL]:"fire-perf",[nL]:"fire-perf-compat",[iL]:"fire-rc",[rL]:"fire-rc-compat",[sL]:"fire-gcs",[aL]:"fire-gcs-compat",[oL]:"fire-fst",[uL]:"fire-fst-compat",[lL]:"fire-vertex","fire-js":"fire-js",[cL]:"fire-js-all"};const Nm=new Map,dL=new Map,_y=new Map;function mS(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lc(t){const e=t.name;if(_y.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;_y.set(e,t);for(const n of Nm.values())mS(n,t);for(const n of dL.values())mS(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t==null?!1:t.settings!==void 0}const mL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ll=new Pf("app","Firebase",mL);class pL{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ll.create("app-deleted",{appName:this._name})}}const Zc=hL;function _x(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:gy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ll.create("bad-app-name",{appName:String(a)});if(n||(n=hx()),!n)throw ll.create("no-options");const l=Nm.get(a);if(l){if(oo(n,l.options)&&oo(i,l.config))return l;throw ll.create("duplicate-app",{appName:a})}const c=new wP(a);for(const _ of _y.values())c.addComponent(_);const d=new pL(n,i,c);return Nm.set(a,d),d}function yx(t=gy){const e=Nm.get(t);if(!e&&t===gy&&hx())return _x();if(!e)throw ll.create("no-app",{appName:t});return e}function ul(t,e,n){let i=fL[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(c.join(" "));return}Lc(new pu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gL="firebase-heartbeat-database",_L=1,_f="firebase-heartbeat-store";let B_=null;function vx(){return B_||(B_=OP(gL,_L,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_f)}catch(n){console.warn(n)}}}}).catch(t=>{throw ll.create("idb-open",{originalErrorMessage:t.message})})),B_}async function yL(t){try{const n=(await vx()).transaction(_f),i=await n.objectStore(_f).get(bx(t));return await n.done,i}catch(e){if(e instanceof mo)lo.warn(e.message);else{const n=ll.create("idb-get",{originalErrorMessage:e?.message});lo.warn(n.message)}}}async function pS(t,e){try{const i=(await vx()).transaction(_f,"readwrite");await i.objectStore(_f).put(e,bx(t)),await i.done}catch(n){if(n instanceof mo)lo.warn(n.message);else{const i=ll.create("idb-set",{originalErrorMessage:n?.message});lo.warn(i.message)}}}function bx(t){return`${t.name}!${t.options.appId}`}const vL=1024,bL=30;class wL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>bL){const a=TL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gS(),{heartbeatsToSend:n,unsentEntries:i}=EL(this._heartbeatsCache.heartbeats),a=Im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return lo.warn(e),""}}}function gS(){return new Date().toISOString().substring(0,10)}function EL(t,e=vL){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),_S(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),_S(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class SL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uP()?cP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return pS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return pS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _S(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}function TL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function xL(t){Lc(new pu("platform-logger",e=>new jP(e),"PRIVATE")),Lc(new pu("heartbeat",e=>new wL(e),"PRIVATE")),ul(py,dS,t),ul(py,dS,"esm2020"),ul("fire-js","")}xL("");var AL="firebase",CL="12.8.0";ul(AL,CL,"app");function wx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RL=wx,Ex=new Pf("auth","Firebase",wx());const km=new nv("@firebase/auth");function IL(t,...e){km.logLevel<=It.WARN&&km.warn(`Auth (${Zc}): ${t}`,...e)}function pm(t,...e){km.logLevel<=It.ERROR&&km.error(`Auth (${Zc}): ${t}`,...e)}function _s(t,...e){throw av(t,...e)}function Fs(t,...e){return av(t,...e)}function sv(t,e,n){const i={...RL(),[e]:n};return new Pf("auth","Firebase",i).create(e,{appName:t.name})}function ro(t){return sv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NL(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&_s(t,"argument-error"),sv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function av(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ex.create(t,...e)}function et(t,e,...n){if(!t)throw av(e,...n)}function to(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pm(e),new Error(e)}function uo(t,e){t||to(e)}function yy(){return typeof self<"u"&&self.location?.href||""}function kL(){return yS()==="http:"||yS()==="https:"}function yS(){return typeof self<"u"&&self.location?.protocol||null}function PL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kL()||sP()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Of{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=nP()||aP()}get(){return PL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ov(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Sx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ML=new Of(3e4,6e4);function bl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function po(t,e,n,i,a={}){return Tx(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Lf({key:t.config.apiKey,...c}).slice(1),_=await t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:_,...l};return rP()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&qc(t.emulatorConfig.host)&&(y.credentials="include"),Sx.fetch()(await xx(t,t.config.apiHost,n,d),y)})}async function Tx(t,e,n){t._canInitEmulator=!1;const i={...OL,...e};try{const a=new zL(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw tm(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[_,y]=d.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(t,"credential-already-in-use",c);if(_==="EMAIL_EXISTS")throw tm(t,"email-already-in-use",c);if(_==="USER_DISABLED")throw tm(t,"user-disabled",c);const S=i[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sv(t,S,y);_s(t,S)}}catch(a){if(a instanceof mo)throw a;_s(t,"network-request-failed",{message:String(a)})}}async function Df(t,e,n,i,a={}){const l=await po(t,e,n,i,a);return"mfaPendingCredential"in l&&_s(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function xx(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?ov(t.config,a):`${t.config.apiScheme}://${a}`;return DL.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function jL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Fs(this.auth,"network-request-failed")),ML.get())})}}function tm(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Fs(t,e,i);return a.customData._tokenResponse=n,a}function vS(t){return t!==void 0&&t.enterprise!==void 0}class VL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UL(t,e){return po(t,"GET","/v2/recaptchaConfig",bl(t,e))}async function BL(t,e){return po(t,"POST","/v1/accounts:delete",e)}async function Pm(t,e){return po(t,"POST","/v1/accounts:lookup",e)}function lf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FL(t,e=!1){const n=Jn(t),i=await n.getIdToken(e),a=lv(i);et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:lf(F_(a.auth_time)),issuedAtTime:lf(F_(a.iat)),expirationTime:lf(F_(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function F_(t){return Number(t)*1e3}function lv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return pm("JWT malformed, contained fewer than 3 sections"),null;try{const a=ux(n);return a?JSON.parse(a):(pm("Failed to decode base64 JWT payload"),null)}catch(a){return pm("Caught error parsing JWT payload as JSON",a?.toString()),null}}function bS(t){const e=lv(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mo&&HL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function HL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class $L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lf(this.lastLoginAt),this.creationTime=lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lm(t){const e=t.auth,n=await t.getIdToken(),i=await Oc(t,Pm(e,{idToken:n}));et(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Ax(a.providerUserInfo):[],c=ZL(t.providerData,l),d=t.isAnonymous,_=!(t.email&&a.passwordHash)&&!c?.length,y=d?_:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,S)}async function qL(t){const e=Jn(t);await Lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZL(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Ax(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function GL(t,e){const n=await Tx(t,{},async()=>{const i=Lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await xx(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:d,body:i};return t.emulatorConfig&&qc(t.emulatorConfig.host)&&(_.credentials="include"),Sx.fetch()(c,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KL(t,e){return po(t,"POST","/v2/accounts:revokeToken",bl(t,e))}class Cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=bS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await GL(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Cc;return i&&(et(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(et(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(et(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cc,this.toJSON())}_performRefresh(){return to("not implemented")}}function el(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new $L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Oc(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FL(this,e)}reload(){return qL(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Lm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await Oc(this,BL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:E,emailVerified:C,isAnonymous:I,providerData:H,stsTokenManager:M}=n;et(E&&M,e,"internal-error");const W=Cc.fromJSON(this.name,M);et(typeof E=="string",e,"internal-error"),el(i,e.name),el(a,e.name),et(typeof C=="boolean",e,"internal-error"),et(typeof I=="boolean",e,"internal-error"),el(l,e.name),el(c,e.name),el(d,e.name),el(_,e.name),el(y,e.name),el(S,e.name);const ue=new Bs({uid:E,auth:e,email:a,emailVerified:C,displayName:i,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:W,createdAt:y,lastLoginAt:S});return H&&Array.isArray(H)&&(ue.providerData=H.map(X=>({...X}))),_&&(ue._redirectEventId=_),ue}static async _fromIdTokenResponse(e,n,i=!1){const a=new Cc;a.updateFromServerResponse(n);const l=new Bs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Lm(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Ax(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Cc;d.updateFromIdToken(i);const _=new Bs({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(_,y),_}}const wS=new Map;function no(t){uo(t instanceof Function,"Expected a class definition");let e=wS.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wS.set(t,e),e)}class Cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cx.type="NONE";const ES=Cx;function gm(t,e,n){return`firebase:${t}:${e}:${n}`}class Rc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=gm(this.userKey,a.apiKey,l),this.fullPersistenceKey=gm("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pm(this.auth,{idToken:e}).catch(()=>{});return n?Bs._fromGetAccountInfoResponse(this.auth,n,e):null}return Bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rc(no(ES),e,i);const a=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||no(ES);const c=gm(i,e.config.apiKey,e.name);let d=null;for(const y of n)try{const S=await y._get(c);if(S){let E;if(typeof S=="string"){const C=await Pm(e,{idToken:S}).catch(()=>{});if(!C)break;E=await Bs._fromGetAccountInfoResponse(e,C,S)}else E=Bs._fromJSON(e,S);y!==l&&(d=E),l=y;break}}catch{}const _=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!_.length?new Rc(l,e,i):(l=_[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Rc(l,e,i))}}function SS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lx(e))return"Blackberry";if(Ox(e))return"Webos";if(Ix(e))return"Safari";if((e.includes("chrome/")||Nx(e))&&!e.includes("edge/"))return"Chrome";if(Px(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Rx(t=zi()){return/firefox\//i.test(t)}function Ix(t=zi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nx(t=zi()){return/crios\//i.test(t)}function kx(t=zi()){return/iemobile/i.test(t)}function Px(t=zi()){return/android/i.test(t)}function Lx(t=zi()){return/blackberry/i.test(t)}function Ox(t=zi()){return/webos/i.test(t)}function uv(t=zi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WL(t=zi()){return uv(t)&&!!window.navigator?.standalone}function YL(){return oP()&&document.documentMode===10}function Dx(t=zi()){return uv(t)||Px(t)||Ox(t)||Lx(t)||/windows phone/i.test(t)||kx(t)}function Mx(t,e=[]){let n;switch(t){case"Browser":n=SS(zi());break;case"Worker":n=`${SS(zi())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zc}/${i}`}class QL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const _=e(l);c(_)}catch(_){d(_)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function XL(t,e={}){return po(t,"GET","/v2/passwordPolicy",bl(t,e))}const JL=6;class eO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class tO{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TS(this),this.idTokenSubscription=new TS(this),this.beforeStateQueue=new QL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=no(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pm(this,{idToken:e}),i=await Bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(ro(this));const n=e?Jn(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(no(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XL(this),n=new eO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pf("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await KL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&no(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Rc.create(this,[no(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,i,a);return()=>{c=!0,_()}}else{const _=e.addObserver(n);return()=>{c=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wl(t){return Jn(t)}class TS{constructor(e){this.auth=e,this.observer=null,this.addObserver=pP(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nO(t){lp=t}function jx(t){return lp.loadJS(t)}function iO(){return lp.recaptchaEnterpriseScript}function rO(){return lp.gapiScript}function sO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aO{constructor(){this.enterprise=new oO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lO="recaptcha-enterprise",zx="NO_RECAPTCHA";class uO{constructor(e){this.type=lO,this.auth=wl(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{UL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new VL(_);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(_=>{d(_)})})}function a(l,c,d){const _=window.grecaptcha;vS(_)?_.enterprise.ready(()=>{_.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(zx)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&vS(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let _=iO();_.length!==0&&(_+=d),jx(_).then(()=>{a(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function xS(t,e,n,i=!1,a=!1){const l=new uO(t);let c;if(a)c=zx;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const _=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const _=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function by(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await xS(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await xS(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}function cO(t,e){const n=rv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(oo(l,e??{}))return a;_s(a,"already-initialized")}return n.initialize({options:e})}function hO(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(no);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function fO(t,e,n){const i=wl(t);et(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Vx(e),{host:c,port:d}=dO(e),_=d===null?"":`:${d}`,y={url:`${l}//${c}${_}/`},S=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){et(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),et(oo(y,i.config.emulator)&&oo(S,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=S,i.settings.appVerificationDisabledForTesting=!0,qc(c)?(dx(`${l}//${c}${_}`),mx("Auth",!0)):mO()}function Vx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dO(t){const e=Vx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:AS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:AS(c)}}}function AS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class cv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return to("not implemented")}_getIdTokenResponse(e){return to("not implemented")}_linkToIdToken(e,n){return to("not implemented")}_getReauthenticationResolver(e){return to("not implemented")}}async function pO(t,e){return po(t,"POST","/v1/accounts:signUp",e)}async function gO(t,e){return Df(t,"POST","/v1/accounts:signInWithPassword",bl(t,e))}async function _O(t,e){return Df(t,"POST","/v1/accounts:signInWithEmailLink",bl(t,e))}async function yO(t,e){return Df(t,"POST","/v1/accounts:signInWithEmailLink",bl(t,e))}class yf extends cv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new yf(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new yf(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,n,"signInWithPassword",gO);case"emailLink":return _O(e,{email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,i,"signUpPassword",pO);case"emailLink":return yO(e,{idToken:n,email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ic(t,e){return Df(t,"POST","/v1/accounts:signInWithIdp",bl(t,e))}const vO="http://localhost";class gu extends cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_s("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new gu(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ic(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ic(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ic(e,n)}buildRequest(){const e={requestUri:vO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lf(n)}return e}}function bO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(t){const e=Wh(Yh(t)).link,n=e?Wh(Yh(e)).deep_link_id:null,i=Wh(Yh(t)).deep_link_id;return(i?Wh(Yh(i)).link:null)||i||n||e||t}class hv{constructor(e){const n=Wh(Yh(e)),i=n.apiKey??null,a=n.oobCode??null,l=bO(n.mode??null);et(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wO(e);try{return new hv(n)}catch{return null}}}class Gc{constructor(){this.providerId=Gc.PROVIDER_ID}static credential(e,n){return yf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=hv.parseLink(n);return et(i,"argument-error"),yf._fromEmailAndCode(e,i.code,i.tenantId)}}Gc.PROVIDER_ID="password";Gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mf extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class il extends Mf{constructor(){super("facebook.com")}static credential(e){return gu._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return il.credential(e.oauthAccessToken)}catch{return null}}}il.FACEBOOK_SIGN_IN_METHOD="facebook.com";il.PROVIDER_ID="facebook.com";class eo extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gu._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return eo.credential(n,i)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";class rl extends Mf{constructor(){super("github.com")}static credential(e){return gu._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch{return null}}}rl.GITHUB_SIGN_IN_METHOD="github.com";rl.PROVIDER_ID="github.com";class sl extends Mf{constructor(){super("twitter.com")}static credential(e,n){return gu._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return sl.credential(n,i)}catch{return null}}}sl.TWITTER_SIGN_IN_METHOD="twitter.com";sl.PROVIDER_ID="twitter.com";async function EO(t,e){return Df(t,"POST","/v1/accounts:signUp",bl(t,e))}class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Bs._fromIdTokenResponse(e,i,a),c=CS(i);return new _u({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=CS(i);return new _u({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function CS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Om extends mo{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Om(e,n,i,a)}}function Ux(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,l,e,i):l})}async function SO(t,e,n=!1){const i=await Oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _u._forOperation(t,"link",i)}async function TO(t,e,n=!1){const{auth:i}=t;if(Zr(i.app))return Promise.reject(ro(i));const a="reauthenticate";try{const l=await Oc(t,Ux(i,a,e,t),n);et(l.idToken,i,"internal-error");const c=lv(l.idToken);et(c,i,"internal-error");const{sub:d}=c;return et(t.uid===d,i,"user-mismatch"),_u._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&_s(i,"user-mismatch"),l}}async function Bx(t,e,n=!1){if(Zr(t.app))return Promise.reject(ro(t));const i="signIn",a=await Ux(t,i,e),l=await _u._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function xO(t,e){return Bx(wl(t),e)}async function Fx(t){const e=wl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AO(t,e,n){if(Zr(t.app))return Promise.reject(ro(t));const i=wl(t),c=await by(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EO).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&Fx(t),_}),d=await _u._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function CO(t,e,n){return Zr(t.app)?Promise.reject(ro(t)):xO(Jn(t),Gc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Fx(t),i})}async function RO(t,e){return po(t,"POST","/v1/accounts:update",e)}async function IO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Jn(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Oc(i,RO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:_})=>_==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function NO(t,e,n,i){return Jn(t).onIdTokenChanged(e,n,i)}function kO(t,e,n){return Jn(t).beforeAuthStateChanged(e,n)}function PO(t,e,n,i){return Jn(t).onAuthStateChanged(e,n,i)}function LO(t){return Jn(t).signOut()}const Dm="__sak";class Hx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dm,"1"),this.storage.removeItem(Dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OO=1e3,DO=10;class $x extends Hx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,_)=>{this.notifyListeners(c,_)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);YL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DO):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$x.type="LOCAL";const MO=$x;class qx extends Hx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qx.type="SESSION";const Zx=qx;function jO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new up(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async y=>y(n.origin,l)),_=await jO(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}up.receivers=[];function dv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class zO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,_)=>{const y=dv("",20);a.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const C=E;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(S),l=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(C.data.response);break;default:clearTimeout(S),clearTimeout(l),_(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ya(){return window}function VO(t){ya().location.href=t}function Gx(){return typeof ya().WorkerGlobalScope<"u"&&typeof ya().importScripts=="function"}async function UO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BO(){return navigator?.serviceWorker?.controller||null}function FO(){return Gx()?self:null}const Kx="firebaseLocalStorageDb",HO=1,Mm="firebaseLocalStorage",Wx="fbase_key";class jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function $O(){const t=indexedDB.deleteDatabase(Kx);return new jf(t).toPromise()}function wy(){const t=indexedDB.open(Kx,HO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Mm,{keyPath:Wx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Mm)?e(i):(i.close(),await $O(),e(await wy()))})})}async function RS(t,e,n){const i=cp(t,!0).put({[Wx]:e,value:n});return new jf(i).toPromise()}async function qO(t,e){const n=cp(t,!1).get(e),i=await new jf(n).toPromise();return i===void 0?null:i.value}function IS(t,e){const n=cp(t,!0).delete(e);return new jf(n).toPromise()}const ZO=800,GO=3;class Yx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>GO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=up._getInstance(FO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UO(),!this.activeServiceWorker)return;this.sender=new zO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await RS(e,Dm,"1"),await IS(e,Dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>RS(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>qO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=cp(a,!1).getAll();return new jf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yx.type="LOCAL";const KO=Yx;new Of(3e4,6e4);function Qx(t,e){return e?no(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class mv extends cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WO(t){return Bx(t.auth,new mv(t),t.bypassAuthState)}function YO(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),TO(n,new mv(t),t.bypassAuthState)}async function QO(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),SO(n,new mv(t),t.bypassAuthState)}class Xx{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const _={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return YO;default:_s(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XO=new Of(2e3,1e4);async function JO(t,e,n){if(Zr(t.app))return Promise.reject(Fs(t,"operation-not-supported-in-this-environment"));const i=wl(t);NL(t,e,fv);const a=Qx(i,n);return new uu(i,"signInViaPopup",e,a).executeNotNull()}class uu extends Xx{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,uu.currentPopupAction&&uu.currentPopupAction.cancel(),uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XO.get())};e()}}uu.currentPopupAction=null;const eD="pendingRedirect",_m=new Map;class tD extends Xx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=_m.get(this.auth._key());if(!e){try{const i=await nD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_m.set(this.auth._key(),e)}return this.bypassAuthState||_m.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(t,e){const n=sD(e),i=rD(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function iD(t,e){_m.set(t._key(),e)}function rD(t){return no(t._redirectPersistence)}function sD(t){return gm(eD,t.config.apiKey,t.name)}async function aD(t,e,n=!1){if(Zr(t.app))return Promise.reject(ro(t));const i=wl(t),a=Qx(i,e),c=await new tD(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const oD=600*1e3;class lD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Jx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oD&&this.cachedEventUids.clear(),this.cachedEventUids.has(NS(e))}saveEventToCache(e){this.cachedEventUids.add(NS(e)),this.lastProcessedEventTime=Date.now()}}function NS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jx(t);default:return!1}}async function cD(t,e={}){return po(t,"GET","/v1/projects",e)}const hD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function dD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cD(t);for(const n of e)try{if(mD(n))return}catch{}_s(t,"unauthorized-domain")}function mD(t){const e=yy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!fD.test(n))return!1;if(hD.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const pD=new Of(3e4,6e4);function kS(){const t=ya().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gD(t){return new Promise((e,n)=>{function i(){kS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kS(),n(Fs(t,"network-request-failed"))},timeout:pD.get()})}if(ya().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ya().gapi?.load)i();else{const a=sO("iframefcb");return ya()[a]=()=>{gapi.load?i():n(Fs(t,"network-request-failed"))},jx(`${rO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ym=null,e})}let ym=null;function _D(t){return ym=ym||gD(t),ym}const yD=new Of(5e3,15e3),vD="__/auth/iframe",bD="emulator/auth/iframe",wD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SD(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ov(e,bD):`https://${t.config.authDomain}/${vD}`,i={apiKey:e.apiKey,appName:t.name,v:Zc},a=ED.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Lf(i).slice(1)}`}async function TD(t){const e=await _D(t),n=ya().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:SD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Fs(t,"network-request-failed"),d=ya().setTimeout(()=>{l(c)},yD.get());function _(){ya().clearTimeout(d),a(i)}i.ping(_).then(_,()=>{l(c)})}))}const xD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AD=500,CD=600,RD="_blank",ID="http://localhost";class PS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ND(t,e,n,i=AD,a=CD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const _={...xD,width:i.toString(),height:a.toString(),top:l,left:c},y=zi().toLowerCase();n&&(d=Nx(y)?RD:n),Rx(y)&&(e=e||ID,_.scrollbars="yes");const S=Object.entries(_).reduce((C,[I,H])=>`${C}${I}=${H},`,"");if(WL(y)&&d!=="_self")return kD(e||"",d),new PS(null);const E=window.open(e||"",d,S);et(E,t,"popup-blocked");try{E.focus()}catch{}return new PS(E)}function kD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const PD="__/auth/handler",LD="emulator/auth/handler",OD=encodeURIComponent("fac");async function LS(t,e,n,i,a,l){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zc,eventId:a};if(e instanceof fv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",mP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,E]of Object.entries({}))c[S]=E}if(e instanceof Mf){const S=e.getScopes().filter(E=>E!=="");S.length>0&&(c.scopes=S.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const S of Object.keys(d))d[S]===void 0&&delete d[S];const _=await t._getAppCheckToken(),y=_?`#${OD}=${encodeURIComponent(_)}`:"";return`${DD(t)}?${Lf(d).slice(1)}${y}`}function DD({config:t}){return t.emulator?ov(t,LD):`https://${t.authDomain}/${PD}`}const H_="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zx,this._completeRedirectFn=aD,this._overrideRedirectResult=iD}async _openPopup(e,n,i,a){uo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await LS(e,n,i,yy(),a);return ND(e,l,dv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await LS(e,n,i,yy(),a);return VO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(uo(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await TD(e),i=new lD(e);return n.register("authEvent",a=>(et(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(H_,{type:H_},a=>{const l=a?.[0]?.[H_];l!==void 0&&n(!!l),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dx()||Ix()||uv()}}const jD=MD;var OS="@firebase/auth",DS="1.12.0";class zD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UD(t){Lc(new pu("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;et(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const _={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mx(t)},y=new tO(i,a,l,_);return hO(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Lc(new pu("auth-internal",e=>{const n=wl(e.getProvider("auth").getImmediate());return(i=>new zD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ul(OS,DS,VD(t)),ul(OS,DS,"esm2020")}const BD=300,FD=fx("authIdTokenMaxAge")||BD;let MS=null;const HD=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>FD)return;const a=n?.token;MS!==a&&(MS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $D(t=yx()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cO(t,{popupRedirectResolver:jD,persistence:[KO,MO,Zx]}),i=fx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=HD(l.toString());kO(n,c,()=>c(n.currentUser)),NO(n,d=>c(d))}}const a=cx("auth");return a&&fO(n,`http://${a}`),n}function qD(){return document.getElementsByTagName("head")?.[0]??document}nO({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Fs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",qD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UD("Browser");var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cl,eA;(function(){var t;function e(P,O){function z(){}z.prototype=O.prototype,P.F=O.prototype,P.prototype=new z,P.prototype.constructor=P,P.D=function(V,F,B){for(var j=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)j[Ae-2]=arguments[Ae];return O.prototype[F].apply(V,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,O,z){z||(z=0);const V=Array(16);if(typeof O=="string")for(var F=0;F<16;++F)V[F]=O.charCodeAt(z++)|O.charCodeAt(z++)<<8|O.charCodeAt(z++)<<16|O.charCodeAt(z++)<<24;else for(F=0;F<16;++F)V[F]=O[z++]|O[z++]<<8|O[z++]<<16|O[z++]<<24;O=P.g[0],z=P.g[1],F=P.g[2];let B=P.g[3],j;j=O+(B^z&(F^B))+V[0]+3614090360&4294967295,O=z+(j<<7&4294967295|j>>>25),j=B+(F^O&(z^F))+V[1]+3905402710&4294967295,B=O+(j<<12&4294967295|j>>>20),j=F+(z^B&(O^z))+V[2]+606105819&4294967295,F=B+(j<<17&4294967295|j>>>15),j=z+(O^F&(B^O))+V[3]+3250441966&4294967295,z=F+(j<<22&4294967295|j>>>10),j=O+(B^z&(F^B))+V[4]+4118548399&4294967295,O=z+(j<<7&4294967295|j>>>25),j=B+(F^O&(z^F))+V[5]+1200080426&4294967295,B=O+(j<<12&4294967295|j>>>20),j=F+(z^B&(O^z))+V[6]+2821735955&4294967295,F=B+(j<<17&4294967295|j>>>15),j=z+(O^F&(B^O))+V[7]+4249261313&4294967295,z=F+(j<<22&4294967295|j>>>10),j=O+(B^z&(F^B))+V[8]+1770035416&4294967295,O=z+(j<<7&4294967295|j>>>25),j=B+(F^O&(z^F))+V[9]+2336552879&4294967295,B=O+(j<<12&4294967295|j>>>20),j=F+(z^B&(O^z))+V[10]+4294925233&4294967295,F=B+(j<<17&4294967295|j>>>15),j=z+(O^F&(B^O))+V[11]+2304563134&4294967295,z=F+(j<<22&4294967295|j>>>10),j=O+(B^z&(F^B))+V[12]+1804603682&4294967295,O=z+(j<<7&4294967295|j>>>25),j=B+(F^O&(z^F))+V[13]+4254626195&4294967295,B=O+(j<<12&4294967295|j>>>20),j=F+(z^B&(O^z))+V[14]+2792965006&4294967295,F=B+(j<<17&4294967295|j>>>15),j=z+(O^F&(B^O))+V[15]+1236535329&4294967295,z=F+(j<<22&4294967295|j>>>10),j=O+(F^B&(z^F))+V[1]+4129170786&4294967295,O=z+(j<<5&4294967295|j>>>27),j=B+(z^F&(O^z))+V[6]+3225465664&4294967295,B=O+(j<<9&4294967295|j>>>23),j=F+(O^z&(B^O))+V[11]+643717713&4294967295,F=B+(j<<14&4294967295|j>>>18),j=z+(B^O&(F^B))+V[0]+3921069994&4294967295,z=F+(j<<20&4294967295|j>>>12),j=O+(F^B&(z^F))+V[5]+3593408605&4294967295,O=z+(j<<5&4294967295|j>>>27),j=B+(z^F&(O^z))+V[10]+38016083&4294967295,B=O+(j<<9&4294967295|j>>>23),j=F+(O^z&(B^O))+V[15]+3634488961&4294967295,F=B+(j<<14&4294967295|j>>>18),j=z+(B^O&(F^B))+V[4]+3889429448&4294967295,z=F+(j<<20&4294967295|j>>>12),j=O+(F^B&(z^F))+V[9]+568446438&4294967295,O=z+(j<<5&4294967295|j>>>27),j=B+(z^F&(O^z))+V[14]+3275163606&4294967295,B=O+(j<<9&4294967295|j>>>23),j=F+(O^z&(B^O))+V[3]+4107603335&4294967295,F=B+(j<<14&4294967295|j>>>18),j=z+(B^O&(F^B))+V[8]+1163531501&4294967295,z=F+(j<<20&4294967295|j>>>12),j=O+(F^B&(z^F))+V[13]+2850285829&4294967295,O=z+(j<<5&4294967295|j>>>27),j=B+(z^F&(O^z))+V[2]+4243563512&4294967295,B=O+(j<<9&4294967295|j>>>23),j=F+(O^z&(B^O))+V[7]+1735328473&4294967295,F=B+(j<<14&4294967295|j>>>18),j=z+(B^O&(F^B))+V[12]+2368359562&4294967295,z=F+(j<<20&4294967295|j>>>12),j=O+(z^F^B)+V[5]+4294588738&4294967295,O=z+(j<<4&4294967295|j>>>28),j=B+(O^z^F)+V[8]+2272392833&4294967295,B=O+(j<<11&4294967295|j>>>21),j=F+(B^O^z)+V[11]+1839030562&4294967295,F=B+(j<<16&4294967295|j>>>16),j=z+(F^B^O)+V[14]+4259657740&4294967295,z=F+(j<<23&4294967295|j>>>9),j=O+(z^F^B)+V[1]+2763975236&4294967295,O=z+(j<<4&4294967295|j>>>28),j=B+(O^z^F)+V[4]+1272893353&4294967295,B=O+(j<<11&4294967295|j>>>21),j=F+(B^O^z)+V[7]+4139469664&4294967295,F=B+(j<<16&4294967295|j>>>16),j=z+(F^B^O)+V[10]+3200236656&4294967295,z=F+(j<<23&4294967295|j>>>9),j=O+(z^F^B)+V[13]+681279174&4294967295,O=z+(j<<4&4294967295|j>>>28),j=B+(O^z^F)+V[0]+3936430074&4294967295,B=O+(j<<11&4294967295|j>>>21),j=F+(B^O^z)+V[3]+3572445317&4294967295,F=B+(j<<16&4294967295|j>>>16),j=z+(F^B^O)+V[6]+76029189&4294967295,z=F+(j<<23&4294967295|j>>>9),j=O+(z^F^B)+V[9]+3654602809&4294967295,O=z+(j<<4&4294967295|j>>>28),j=B+(O^z^F)+V[12]+3873151461&4294967295,B=O+(j<<11&4294967295|j>>>21),j=F+(B^O^z)+V[15]+530742520&4294967295,F=B+(j<<16&4294967295|j>>>16),j=z+(F^B^O)+V[2]+3299628645&4294967295,z=F+(j<<23&4294967295|j>>>9),j=O+(F^(z|~B))+V[0]+4096336452&4294967295,O=z+(j<<6&4294967295|j>>>26),j=B+(z^(O|~F))+V[7]+1126891415&4294967295,B=O+(j<<10&4294967295|j>>>22),j=F+(O^(B|~z))+V[14]+2878612391&4294967295,F=B+(j<<15&4294967295|j>>>17),j=z+(B^(F|~O))+V[5]+4237533241&4294967295,z=F+(j<<21&4294967295|j>>>11),j=O+(F^(z|~B))+V[12]+1700485571&4294967295,O=z+(j<<6&4294967295|j>>>26),j=B+(z^(O|~F))+V[3]+2399980690&4294967295,B=O+(j<<10&4294967295|j>>>22),j=F+(O^(B|~z))+V[10]+4293915773&4294967295,F=B+(j<<15&4294967295|j>>>17),j=z+(B^(F|~O))+V[1]+2240044497&4294967295,z=F+(j<<21&4294967295|j>>>11),j=O+(F^(z|~B))+V[8]+1873313359&4294967295,O=z+(j<<6&4294967295|j>>>26),j=B+(z^(O|~F))+V[15]+4264355552&4294967295,B=O+(j<<10&4294967295|j>>>22),j=F+(O^(B|~z))+V[6]+2734768916&4294967295,F=B+(j<<15&4294967295|j>>>17),j=z+(B^(F|~O))+V[13]+1309151649&4294967295,z=F+(j<<21&4294967295|j>>>11),j=O+(F^(z|~B))+V[4]+4149444226&4294967295,O=z+(j<<6&4294967295|j>>>26),j=B+(z^(O|~F))+V[11]+3174756917&4294967295,B=O+(j<<10&4294967295|j>>>22),j=F+(O^(B|~z))+V[2]+718787259&4294967295,F=B+(j<<15&4294967295|j>>>17),j=z+(B^(F|~O))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+B&4294967295}i.prototype.v=function(P,O){O===void 0&&(O=P.length);const z=O-this.blockSize,V=this.C;let F=this.h,B=0;for(;B<O;){if(F==0)for(;B<=z;)a(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<O;)if(V[F++]=P.charCodeAt(B++),F==this.blockSize){a(this,V),F=0;break}}else for(;B<O;)if(V[F++]=P[B++],F==this.blockSize){a(this,V),F=0;break}}this.h=F,this.o+=O},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;O=this.o*8;for(var z=P.length-8;z<P.length;++z)P[z]=O&255,O/=256;for(this.v(P),P=Array(16),O=0,z=0;z<4;++z)for(let V=0;V<32;V+=8)P[O++]=this.g[z]>>>V&255;return P};function l(P,O){var z=d;return Object.prototype.hasOwnProperty.call(z,P)?z[P]:z[P]=O(P)}function c(P,O){this.h=O;const z=[];let V=!0;for(let F=P.length-1;F>=0;F--){const B=P[F]|0;V&&B==O||(z[F]=B,V=!1)}this.g=z}var d={};function _(P){return-128<=P&&P<128?l(P,function(O){return new c([O|0],O<0?-1:0)}):new c([P|0],P<0?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return E;if(P<0)return W(y(-P));const O=[];let z=1;for(let V=0;P>=z;V++)O[V]=P/z|0,z*=4294967296;return new c(O,0)}function S(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return W(S(P.substring(1),O));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=y(Math.pow(O,8));let V=E;for(let B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B);const j=parseInt(P.substring(B,B+F),O);F<8?(F=y(Math.pow(O,F)),V=V.j(F).add(y(j))):(V=V.j(z),V=V.add(y(j)))}return V}var E=_(0),C=_(1),I=_(16777216);t=c.prototype,t.m=function(){if(M(this))return-W(this).m();let P=0,O=1;for(let z=0;z<this.g.length;z++){const V=this.i(z);P+=(V>=0?V:4294967296+V)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(H(this))return"0";if(M(this))return"-"+W(this).toString(P);const O=y(Math.pow(P,6));var z=this;let V="";for(;;){const F=K(z,O).g;z=ue(z,F.j(O));let B=((z.g.length>0?z.g[0]:z.h)>>>0).toString(P);if(z=F,H(z))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function H(P){if(P.h!=0)return!1;for(let O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function M(P){return P.h==-1}t.l=function(P){return P=ue(this,P),M(P)?-1:H(P)?0:1};function W(P){const O=P.g.length,z=[];for(let V=0;V<O;V++)z[V]=~P.g[V];return new c(z,~P.h).add(C)}t.abs=function(){return M(this)?W(this):this},t.add=function(P){const O=Math.max(this.g.length,P.g.length),z=[];let V=0;for(let F=0;F<=O;F++){let B=V+(this.i(F)&65535)+(P.i(F)&65535),j=(B>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);V=j>>>16,B&=65535,j&=65535,z[F]=j<<16|B}return new c(z,z[z.length-1]&-2147483648?-1:0)};function ue(P,O){return P.add(W(O))}t.j=function(P){if(H(this)||H(P))return E;if(M(this))return M(P)?W(this).j(W(P)):W(W(this).j(P));if(M(P))return W(this.j(W(P)));if(this.l(I)<0&&P.l(I)<0)return y(this.m()*P.m());const O=this.g.length+P.g.length,z=[];for(var V=0;V<2*O;V++)z[V]=0;for(V=0;V<this.g.length;V++)for(let F=0;F<P.g.length;F++){const B=this.i(V)>>>16,j=this.i(V)&65535,Ae=P.i(F)>>>16,qe=P.i(F)&65535;z[2*V+2*F]+=j*qe,X(z,2*V+2*F),z[2*V+2*F+1]+=B*qe,X(z,2*V+2*F+1),z[2*V+2*F+1]+=j*Ae,X(z,2*V+2*F+1),z[2*V+2*F+2]+=B*Ae,X(z,2*V+2*F+2)}for(P=0;P<O;P++)z[P]=z[2*P+1]<<16|z[2*P];for(P=O;P<2*O;P++)z[P]=0;return new c(z,0)};function X(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function re(P,O){this.g=P,this.h=O}function K(P,O){if(H(O))throw Error("division by zero");if(H(P))return new re(E,E);if(M(P))return O=K(W(P),O),new re(W(O.g),W(O.h));if(M(O))return O=K(P,W(O)),new re(W(O.g),O.h);if(P.g.length>30){if(M(P)||M(O))throw Error("slowDivide_ only works with positive integers.");for(var z=C,V=O;V.l(P)<=0;)z=ne(z),V=ne(V);var F=le(z,1),B=le(V,1);for(V=le(V,2),z=le(z,2);!H(V);){var j=B.add(V);j.l(P)<=0&&(F=F.add(z),B=j),V=le(V,1),z=le(z,1)}return O=ue(P,F.j(O)),new re(F,O)}for(F=E;P.l(O)>=0;){for(z=Math.max(1,Math.floor(P.m()/O.m())),V=Math.ceil(Math.log(z)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=y(z),j=B.j(O);M(j)||j.l(P)>0;)z-=V,B=y(z),j=B.j(O);H(B)&&(B=C),F=F.add(B),P=ue(P,j)}return new re(F,P)}t.B=function(P){return K(this,P).h},t.and=function(P){const O=Math.max(this.g.length,P.g.length),z=[];for(let V=0;V<O;V++)z[V]=this.i(V)&P.i(V);return new c(z,this.h&P.h)},t.or=function(P){const O=Math.max(this.g.length,P.g.length),z=[];for(let V=0;V<O;V++)z[V]=this.i(V)|P.i(V);return new c(z,this.h|P.h)},t.xor=function(P){const O=Math.max(this.g.length,P.g.length),z=[];for(let V=0;V<O;V++)z[V]=this.i(V)^P.i(V);return new c(z,this.h^P.h)};function ne(P){const O=P.g.length+1,z=[];for(let V=0;V<O;V++)z[V]=P.i(V)<<1|P.i(V-1)>>>31;return new c(z,P.h)}function le(P,O){const z=O>>5;O%=32;const V=P.g.length-z,F=[];for(let B=0;B<V;B++)F[B]=O>0?P.i(B+z)>>>O|P.i(B+z+1)<<32-O:P.i(B+z);return new c(F,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,eA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=S,cl=c}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tA,Qh,nA,vm,Ey,iA,rA,sA;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof nm=="object"&&nm];for(var T=0;T<m.length;++T){var R=m[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=n(this);function a(m,T){if(T)e:{var R=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var ie=m[D];if(!(ie in R))break e;R=R[ie]}m=m[m.length-1],D=R[m],T=T(D),T!=D&&T!=null&&e(R,m,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(T){var R=[],D;for(D in T)Object.prototype.hasOwnProperty.call(T,D)&&R.push([D,T[D]]);return R}});var l=l||{},c=this||self;function d(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function _(m,T,R){return m.call.apply(m.bind,arguments)}function y(m,T,R){return y=_,y.apply(null,arguments)}function S(m,T){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function E(m,T){function R(){}R.prototype=T.prototype,m.Z=T.prototype,m.prototype=new R,m.prototype.constructor=m,m.Ob=function(D,ie,fe){for(var Pe=Array(arguments.length-2),it=2;it<arguments.length;it++)Pe[it-2]=arguments[it];return T.prototype[ie].apply(D,Pe)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function I(m){const T=m.length;if(T>0){const R=Array(T);for(let D=0;D<T;D++)R[D]=m[D];return R}return[]}function H(m,T){for(let D=1;D<arguments.length;D++){const ie=arguments[D];var R=typeof ie;if(R=R!="object"?R:ie?Array.isArray(ie)?"array":R:"null",R=="array"||R=="object"&&typeof ie.length=="number"){R=m.length||0;const fe=ie.length||0;m.length=R+fe;for(let Pe=0;Pe<fe;Pe++)m[R+Pe]=ie[Pe]}else m.push(ie)}}class M{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function W(m){c.setTimeout(()=>{throw m},0)}function ue(){var m=P;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class X{constructor(){this.h=this.g=null}add(T,R){const D=re.get();D.set(T,R),this.h?this.h.next=D:this.g=D,this.h=D}}var re=new M(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,P=new X,O=()=>{const m=Promise.resolve(void 0);ne=()=>{m.then(z)}};function z(){for(var m;m=ue();){try{m.h.call(m.g)}catch(R){W(R)}var T=re;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};c.addEventListener("test",R,T),c.removeEventListener("test",R,T)}catch{}return m})();function j(m){return/^[\s\xa0]*$/.test(m)}function Ae(m,T){F.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}E(Ae,F),Ae.prototype.init=function(m,T){const R=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(R=="mouseover"?T=m.fromElement:R=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ae.Z.h.call(this)},Ae.prototype.h=function(){Ae.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),te=0;function de(m,T,R,D,ie){this.listener=m,this.proxy=null,this.src=T,this.type=R,this.capture=!!D,this.ha=ie,this.key=++te,this.da=this.fa=!1}function ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ze(m,T,R){for(const D in m)T.call(R,m[D],D,m)}function ke(m,T){for(const R in m)T.call(void 0,m[R],R,m)}function $(m){const T={};for(const R in m)T[R]=m[R];return T}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(m,T){let R,D;for(let ie=1;ie<arguments.length;ie++){D=arguments[ie];for(R in D)m[R]=D[R];for(let fe=0;fe<Y.length;fe++)R=Y[fe],Object.prototype.hasOwnProperty.call(D,R)&&(m[R]=D[R])}}function _e(m){this.src=m,this.g={},this.h=0}_e.prototype.add=function(m,T,R,D,ie){const fe=m.toString();m=this.g[fe],m||(m=this.g[fe]=[],this.h++);const Pe=Le(m,T,D,ie);return Pe>-1?(T=m[Pe],R||(T.fa=!1)):(T=new de(T,this.src,fe,!!D,ie),T.fa=R,m.push(T)),T};function Ie(m,T){const R=T.type;if(R in m.g){var D=m.g[R],ie=Array.prototype.indexOf.call(D,T,void 0),fe;(fe=ie>=0)&&Array.prototype.splice.call(D,ie,1),fe&&(ve(T),m.g[R].length==0&&(delete m.g[R],m.h--))}}function Le(m,T,R,D){for(let ie=0;ie<m.length;++ie){const fe=m[ie];if(!fe.da&&fe.listener==T&&fe.capture==!!R&&fe.ha==D)return ie}return-1}var Qe="closure_lm_"+(Math.random()*1e6|0),nt={};function Pt(m,T,R,D,ie){if(Array.isArray(T)){for(let fe=0;fe<T.length;fe++)Pt(m,T[fe],R,D,ie);return null}return R=Wr(R),m&&m[qe]?m.J(T,R,d(D)?!!D.capture:!1,ie):Rn(m,T,R,!1,D,ie)}function Rn(m,T,R,D,ie,fe){if(!T)throw Error("Invalid event type");const Pe=d(ie)?!!ie.capture:!!ie;let it=Tr(m);if(it||(m[Qe]=it=new _e(m)),R=it.add(T,R,D,Pe,fe),R.proxy)return R;if(D=Xi(),R.proxy=D,D.src=m,D.listener=R,m.addEventListener)B||(ie=Pe),ie===void 0&&(ie=!1),m.addEventListener(T.toString(),D,ie);else if(m.attachEvent)m.attachEvent(er(T.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Xi(){function m(R){return T.call(m.src,m.listener,R)}const T=ws;return m}function Ji(m,T,R,D,ie){if(Array.isArray(T))for(var fe=0;fe<T.length;fe++)Ji(m,T[fe],R,D,ie);else D=d(D)?!!D.capture:!!D,R=Wr(R),m&&m[qe]?(m=m.i,fe=String(T).toString(),fe in m.g&&(T=m.g[fe],R=Le(T,R,D,ie),R>-1&&(ve(T[R]),Array.prototype.splice.call(T,R,1),T.length==0&&(delete m.g[fe],m.h--)))):m&&(m=Tr(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Le(T,R,D,ie)),(R=m>-1?T[m]:null)&&Sr(R))}function Sr(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[qe])Ie(T.i,m);else{var R=m.type,D=m.proxy;T.removeEventListener?T.removeEventListener(R,D,m.capture):T.detachEvent?T.detachEvent(er(R),D):T.addListener&&T.removeListener&&T.removeListener(D),(R=Tr(T))?(Ie(R,m),R.h==0&&(R.src=null,T[Qe]=null)):ve(m)}}}function er(m){return m in nt?nt[m]:nt[m]="on"+m}function ws(m,T){if(m.da)m=!0;else{T=new Ae(T,this);const R=m.listener,D=m.ha||m.src;m.fa&&Sr(m),m=R.call(D,T)}return m}function Tr(m){return m=m[Qe],m instanceof _e?m:null}var Es="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wr(m){return typeof m=="function"?m:(m[Es]||(m[Es]=function(T){return m.handleEvent(T)}),m[Es])}function yn(){V.call(this),this.i=new _e(this),this.M=this,this.G=null}E(yn,V),yn.prototype[qe]=!0,yn.prototype.removeEventListener=function(m,T,R,D){Ji(this,m,T,R,D)};function on(m,T){var R,D=m.G;if(D)for(R=[];D;D=D.G)R.push(D);if(m=m.M,D=T.type||T,typeof T=="string")T=new F(T,m);else if(T instanceof F)T.target=T.target||m;else{var ie=T;T=new F(D,m),ge(T,ie)}ie=!0;let fe,Pe;if(R)for(Pe=R.length-1;Pe>=0;Pe--)fe=T.g=R[Pe],ie=G(fe,D,!0,T)&&ie;if(fe=T.g=m,ie=G(fe,D,!0,T)&&ie,ie=G(fe,D,!1,T)&&ie,R)for(Pe=0;Pe<R.length;Pe++)fe=T.g=R[Pe],ie=G(fe,D,!1,T)&&ie}yn.prototype.N=function(){if(yn.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const R=m.g[T];for(let D=0;D<R.length;D++)ve(R[D]);delete m.g[T],m.h--}}this.G=null},yn.prototype.J=function(m,T,R,D){return this.i.add(String(m),T,!1,R,D)},yn.prototype.K=function(m,T,R,D){return this.i.add(String(m),T,!0,R,D)};function G(m,T,R,D){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let ie=!0;for(let fe=0;fe<T.length;++fe){const Pe=T[fe];if(Pe&&!Pe.da&&Pe.capture==R){const it=Pe.listener,Ot=Pe.ha||Pe.src;Pe.fa&&Ie(m.i,Pe),ie=it.call(Ot,D)!==!1&&ie}}return ie&&!D.defaultPrevented}function se(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:c.setTimeout(m,T||0)}function pe(m){m.g=se(()=>{m.g=null,m.i&&(m.i=!1,pe(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Ne extends V{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(m){V.call(this),this.h=m,this.g={}}E(Re,V);var Ce=[];function Fe(m){Ze(m.g,function(T,R){this.g.hasOwnProperty(R)&&Sr(T)},m),m.g={}}Re.prototype.N=function(){Re.Z.N.call(this),Fe(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=c.JSON.stringify,Lt=c.JSON.parse,vn=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Vi(){}function Ui(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){F.call(this,"d")}E(ln,F);function ei(){F.call(this,"c")}E(ei,F);var un={},xr=null;function Ys(){return xr=xr||new yn}un.Ia="serverreachability";function Ca(m){F.call(this,un.Ia,m)}E(Ca,F);function Ar(m){const T=Ys();on(T,new Ca(T))}un.STAT_EVENT="statevent";function Qs(m,T){F.call(this,un.STAT_EVENT,m),this.stat=T}E(Qs,F);function bn(m){const T=Ys();on(T,new Qs(T,m))}un.Ja="timingevent";function Yr(m,T){F.call(this,un.Ja,m),this.size=T}E(Yr,F);function Qr(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},T)}function Cr(){this.g=!0}Cr.prototype.ua=function(){this.g=!1};function ih(m,T,R,D,ie,fe){m.info(function(){if(m.g)if(fe){var Pe="",it=fe.split("&");for(let Dt=0;Dt<it.length;Dt++){var Ot=it[Dt].split("=");if(Ot.length>1){const nn=Ot[0];Ot=Ot[1];const lr=nn.split("_");Pe=lr.length>=2&&lr[1]=="type"?Pe+(nn+"="+Ot+"&"):Pe+(nn+"=redacted&")}}}else Pe=null;else Pe=fe;return"XMLHTTP REQ ("+D+") [attempt "+ie+"]: "+T+`
`+R+`
`+Pe})}function Lu(m,T,R,D,ie,fe,Pe){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+ie+"]: "+T+`
`+R+`
`+fe+" "+Pe})}function Xr(m,T,R,D){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+rh(m,R)+(D?" "+D:"")})}function Ss(m,T){m.info(function(){return"TIMEOUT: "+T})}Cr.prototype.info=function(){};function rh(m,T){if(!m.g)return T;if(!T)return null;try{const fe=JSON.parse(T);if(fe){for(m=0;m<fe.length;m++)if(Array.isArray(fe[m])){var R=fe[m];if(!(R.length<2)){var D=R[1];if(Array.isArray(D)&&!(D.length<1)){var ie=D[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Pe=1;Pe<D.length;Pe++)D[Pe]=""}}}}return dt(fe)}catch{return T}}var Ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cl;function si(){}E(si,Vi),si.prototype.g=function(){return new XMLHttpRequest},Cl=new si;function Ue(m){return encodeURIComponent(String(m))}function Rl(m){var T=1;m=m.split(":");const R=[];for(;T>0&&m.length;)R.push(m.shift()),T--;return m.length&&R.push(m.join(":")),R}function tr(m,T,R,D){this.j=m,this.i=T,this.l=R,this.S=D||1,this.V=new Re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new nr}function nr(){this.i=null,this.g="",this.h=!1}var wn={},In={};function Rr(m,T,R){m.M=1,m.A=qt(cn(T)),m.u=R,m.R=!0,Ir(m,null)}function Ir(m,T){m.F=Date.now(),Jr(m),m.B=cn(m.A);var R=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),Js(R.i,"t",D),m.C=0,R=m.j.L,m.h=new nr,m.g=Dl(m.j,R?T:null,!m.u),m.P>0&&(m.O=new Ne(y(m.Y,m,m.g),m.P)),T=m.V,R=m.g,D=m.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(Ce[0]=ie.toString()),ie=Ce);for(let fe=0;fe<ie.length;fe++){const Pe=Pt(R,ie[fe],D||T.handleEvent,!1,T.h||T);if(!Pe)break;T.g[Pe.key]=Pe}T=m.J?$(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Ar(),ih(m.i,m.v,m.B,m.l,m.S,m.u)}tr.prototype.ba=function(m){m=m.target;const T=this.O;T&&Lr(m)==3?T.j():this.Y(m)},tr.prototype.Y=function(m){try{if(m==this.g)e:{const it=Lr(this.g),Ot=this.g.ya(),Dt=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||Fn(this.g)))){this.K||it!=4||Ot==7||(Ot==8||Dt<=0?Ar(3):Ar(2)),Nr(this);var T=this.g.ca();this.X=T;var R=Ou(this);if(this.o=T==200,Lu(this.i,this.v,this.B,this.l,this.S,it,T),this.o){if(this.U&&!this.L){t:{if(this.g){var D,ie=this.g;if((D=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(D)){var fe=D;break t}}fe=null}if(m=fe)Xr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,es(this,m);else{this.o=!1,this.m=3,bn(12),ai(this),ir(this);break e}}if(this.R){m=!0;let nn;for(;!this.K&&this.C<R.length;)if(nn=Mu(this,R),nn==In){it==4&&(this.m=4,bn(14),m=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==wn){this.m=4,bn(15),Xr(this.i,this.l,R,"[Invalid Chunk]"),m=!1;break}else Xr(this.i,this.l,nn,null),es(this,nn);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||R.length!=0||this.h.h||(this.m=1,bn(16),m=!1),this.o=this.o&&m,!m)Xr(this.i,this.l,R,"[Invalid Chunked Response]"),ai(this),ir(this);else if(R.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Ll(Pe),Pe.P=!0,bn(11))}}else Xr(this.i,this.l,R,null),es(this,R);it==4&&ai(this),this.o&&!this.K&&(it==4?Hi(this.j,this):(this.o=!1,Jr(this)))}else Or(this.g),T==400&&R.indexOf("Unknown SID")>0?(this.m=3,bn(12)):(this.m=0,bn(13)),ai(this),ir(this)}}}catch{}};function Ou(m){if(!Du(m))return m.g.la();const T=Fn(m.g);if(T==="")return"";let R="";const D=T.length,ie=Lr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ai(m),ir(m),"";m.h.i=new c.TextDecoder}for(let fe=0;fe<D;fe++)m.h.h=!0,R+=m.h.i.decode(T[fe],{stream:!(ie&&fe==D-1)});return T.length=0,m.h.g+=R,m.C=0,m.h.g}function Du(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Mu(m,T){var R=m.C,D=T.indexOf(`
`,R);return D==-1?In:(R=Number(T.substring(R,D)),isNaN(R)?wn:(D+=1,D+R>T.length?In:(T=T.slice(D,D+R),m.C=D+R,T)))}tr.prototype.cancel=function(){this.K=!0,ai(this)};function Jr(m){m.T=Date.now()+m.H,_o(m,m.H)}function _o(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Qr(y(m.aa,m),T)}function Nr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}tr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(Ar(),bn(17)),ai(this),this.m=2,ir(this)):_o(this,this.T-m)};function ir(m){m.j.I==0||m.K||Hi(m.j,m)}function ai(m){Nr(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Fe(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function es(m,T){try{var R=m.j;if(R.I!=0&&(R.g==m||rr(R.h,m))){if(!m.L&&rr(R.h,m)&&R.I==3){try{var D=R.Ba.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var ie=D;if(ie[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<m.F)To(R),ia(R);else break e;Oa(R),bn(18)}}else R.xa=ie[1],0<R.xa-R.K&&ie[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Qr(y(R.Va,R),6e3));ts(R.h)<=1&&R.ta&&(R.ta=void 0)}else Dr(R,11)}else if((m.L||R.g==m)&&To(R),!j(T))for(ie=R.Ba.g.parse(T),T=0;T<ie.length;T++){let Dt=ie[T];const nn=Dt[0];if(!(nn<=R.K))if(R.K=nn,Dt=Dt[1],R.I==2)if(Dt[0]=="c"){R.M=Dt[1],R.ba=Dt[2];const lr=Dt[3];lr!=null&&(R.ka=lr,R.j.info("VER="+R.ka));const ur=Dt[4];ur!=null&&(R.za=ur,R.j.info("SVER="+R.za));const $i=Dt[5];$i!=null&&typeof $i=="number"&&$i>0&&(D=1.5*$i,R.O=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const jr=m.g;if(jr){const Da=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var fe=D.h;fe.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Ts(fe,fe.h),fe.h=null))}if(D.G){const Ma=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(D.wa=Ma,ze(D.J,D.G,Ma))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-m.F,R.j.info("Handshake RTT: "+R.T+"ms")),D=R;var Pe=m;if(D.na=Ol(D,D.L?D.ba:null,D.W),Pe.L){yo(D.h,Pe);var it=Pe,Ot=D.O;Ot&&(it.H=Ot),it.D&&(Nr(it),Jr(it)),D.g=Pe}else Pl(D);R.i.length>0&&Ni(R)}else Dt[0]!="stop"&&Dt[0]!="close"||Dr(R,7);else R.I==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?Dr(R,7):yt(R):Dt[0]!="noop"&&R.l&&R.l.qa(Dt),R.A=0)}}Ar(4)}catch{}}var Nn=class{constructor(m,T){this.g=m,this.map=T}};function Il(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ts(m){return m.h?1:m.g?m.g.size:0}function rr(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Ts(m,T){m.g?m.g.add(T):m.h=T}function yo(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Il.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function vo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const R of m.g.values())T=T.concat(R.G);return T}return I(m.i)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(m,T){if(m){m=m.split("&");for(let R=0;R<m.length;R++){const D=m[R].indexOf("=");let ie,fe=null;D>=0?(ie=m[R].substring(0,D),fe=m[R].substring(D+1)):ie=m[R],T(ie,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function bt(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof bt?(this.l=m.l,hn(this,m.j),this.o=m.o,this.g=m.g,Bi(this,m.u),this.h=m.h,Ia(this,Pa(m.i)),this.m=m.m):m&&(T=String(m).match(Xs))?(this.l=!1,hn(this,T[1]||"",!0),this.o=sr(T[2]||""),this.g=sr(T[3]||"",!0),Bi(this,T[4]),this.h=sr(T[5]||"",!0),Ia(this,T[6]||"",!0),this.m=sr(T[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}bt.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(ns(T,bo,!0),":");var R=this.g;return(R||T=="file")&&(m.push("//"),(T=this.o)&&m.push(ns(T,bo,!0),"@"),m.push(Ue(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&m.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(ns(R,R.charAt(0)=="/"?kr:Na,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",ns(R,is)),m.join("")},bt.prototype.resolve=function(m){const T=cn(this);let R=!!m.j;R?hn(T,m.j):R=!!m.o,R?T.o=m.o:R=!!m.g,R?T.g=m.g:R=m.u!=null;var D=m.h;if(R)Bi(T,m.u);else if(R=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var ie=T.h.lastIndexOf("/");ie!=-1&&(D=T.h.slice(0,ie+1)+D)}if(ie=D,ie==".."||ie==".")D="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){D=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const fe=[];for(let Pe=0;Pe<ie.length;){const it=ie[Pe++];it=="."?D&&Pe==ie.length&&fe.push(""):it==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),D&&Pe==ie.length&&fe.push("")):(fe.push(it),D=!0)}D=fe.join("/")}else D=ie}return R?T.h=D:R=m.i.toString()!=="",R?Ia(T,Pa(m.i)):R=!!m.m,R&&(T.m=m.m),T};function cn(m){return new bt(m)}function hn(m,T,R){m.j=R?sr(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Bi(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Ia(m,T,R){T instanceof ar?(m.i=T,ea(m.i,m.l)):(R||(T=ns(T,Zt)),m.i=new ar(T,m.l))}function ze(m,T,R){m.i.set(T,R)}function qt(m){return ze(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function sr(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ns(m,T,R){return typeof m=="string"?(m=encodeURI(m).replace(T,tn),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function tn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var bo=/[#\/\?@]/g,Na=/[#\?:]/g,kr=/[#\?]/g,Zt=/[#\?@]/g,is=/#/g;function ar(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Bn(m){m.g||(m.g=new Map,m.h=0,m.i&&vt(m.i,function(T,R){m.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=ar.prototype,t.add=function(m,T){Bn(this),this.i=null,m=rs(this,m);let R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(T),this.h+=1,this};function wo(m,T){Bn(m),T=rs(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function xs(m,T){return Bn(m),T=rs(m,T),m.g.has(T)}t.forEach=function(m,T){Bn(this),this.g.forEach(function(R,D){R.forEach(function(ie){m.call(T,ie,D,this)},this)},this)};function ka(m,T){Bn(m);let R=[];if(typeof T=="string")xs(m,T)&&(R=R.concat(m.g.get(rs(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)R=R.concat(m[T]);return R}t.set=function(m,T){return Bn(this),this.i=null,m=rs(this,m),xs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=ka(this,m),m.length>0?String(m[0]):T):T};function Js(m,T,R){wo(m,T),R.length>0&&(m.i=null,m.g.set(rs(m,T),I(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let D=0;D<T.length;D++){var R=T[D];const ie=Ue(R);R=ka(this,R);for(let fe=0;fe<R.length;fe++){let Pe=ie;R[fe]!==""&&(Pe+="="+Ue(R[fe])),m.push(Pe)}}return this.i=m.join("&")};function Pa(m){const T=new ar;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function rs(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function ea(m,T){T&&!m.j&&(Bn(m),m.i=null,m.g.forEach(function(R,D){const ie=D.toLowerCase();D!=ie&&(wo(this,D),Js(this,ie,R))},m)),m.j=T}function Ci(m,T){const R=new Cr;if(c.Image){const D=new Image;D.onload=S(Ri,R,"TestLoadImage: loaded",!0,T,D),D.onerror=S(Ri,R,"TestLoadImage: error",!1,T,D),D.onabort=S(Ri,R,"TestLoadImage: abort",!1,T,D),D.ontimeout=S(Ri,R,"TestLoadImage: timeout",!1,T,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else T(!1)}function Eo(m,T){const R=new Cr,D=new AbortController,ie=setTimeout(()=>{D.abort(),Ri(R,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:D.signal}).then(fe=>{clearTimeout(ie),fe.ok?Ri(R,"TestPingServer: ok",!0,T):Ri(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ie),Ri(R,"TestPingServer: error",!1,T)})}function Ri(m,T,R,D,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),D(R)}catch{}}function ta(){this.g=new vn}function Ye(m){this.i=m.Sb||null,this.h=m.ab||!1}E(Ye,Vi),Ye.prototype.g=function(){return new oi(this.i,this.h)};function oi(m,T){yn.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(oi,yn),t=oi.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Fi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||c).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jt(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function jt(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?As(this):Fi(this),this.readyState==3&&jt(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,As(this))},t.Na=function(m){this.g&&(this.response=m,As(this))},t.ga=function(){this.g&&As(this)};function As(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Fi(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=T.next();return m.join(`\r
`)};function Fi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ii(m){let T="";return Ze(m,function(R,D){T+=D,T+=":",T+=R,T+=`\r
`}),T}function Cs(m,T,R){e:{for(D in R){var D=!1;break e}D=!0}D||(R=Ii(R),typeof m=="string"?R!=null&&Ue(R):ze(m,T,R))}function At(m){yn.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(At,yn);var or=/^https?$/i,Rs=["POST","PUT"];t=At.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(fe){fn(this,fe);return}if(m=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var ie in D)R.set(ie,D[ie]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const fe of D.keys())R.set(fe,D.get(fe));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(fe=>fe.toLowerCase()=="content-type"),ie=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Rs,T,void 0)>=0)||D||ie||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Pe]of R)this.g.setRequestHeader(fe,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(fe){fn(this,fe)}};function fn(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,Pr(m),ss(m)}function Pr(m){m.A||(m.A=!0,on(m,"complete"),on(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,on(this,"complete"),on(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),At.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},t.Xa=function(){na(this)};function na(m){if(m.h&&typeof l<"u"){if(m.v&&Lr(m)==4)setTimeout(m.Ca.bind(m),0);else if(on(m,"readystatechange"),Lr(m)==4){m.h=!1;try{const fe=m.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var D;if(D=fe===0){let Pe=String(m.D).match(Xs)[1]||null;!Pe&&c.self&&c.self.location&&(Pe=c.self.location.protocol.slice(0,-1)),D=!or.test(Pe?Pe.toLowerCase():"")}R=D}if(R)on(m,"complete"),on(m,"success");else{m.o=6;try{var ie=Lr(m)>2?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.ca()+"]",Pr(m)}}finally{ss(m)}}}}function ss(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const R=m.g;m.g=null,T||on(m,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Lr(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Lt(T)}};function Fn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Or(m){const T={};m=(m.g&&Lr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(j(m[D]))continue;var R=Rl(m[D]);const ie=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const fe=T[ie]||[];T[ie]=fe,fe.push(R)}ke(T,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(m,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||T}function Is(m){this.za=0,this.i=[],this.j=new Cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=as("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=as("baseRetryDelayMs",5e3,m),this.Za=as("retryDelaySeedMs",1e4,m),this.Ta=as("forwardChannelMaxRetries",2,m),this.va=as("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Il(m&&m.concurrentRequestLimit),this.Ba=new ta,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Is.prototype,t.ka=8,t.I=1,t.connect=function(m,T,R,D){bn(0),this.W=m,this.H=T||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.J=Ol(this,null,this.W),Ni(this)};function yt(m){if(li(m),m.I==3){var T=m.V++,R=cn(m.J);if(ze(R,"SID",m.M),ze(R,"RID",T),ze(R,"TYPE","terminate"),Ns(m,R),T=new tr(m,m.j,T),T.M=2,T.A=qt(cn(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(T.A.toString(),"")}catch{}!R&&c.Image&&(new Image().src=T.A,R=!0),R||(T.g=Dl(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Jr(T)}Mr(m)}function ia(m){m.g&&(Ll(m),m.g.cancel(),m.g=null)}function li(m){ia(m),m.v&&(c.clearTimeout(m.v),m.v=null),To(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ni(m){if(!Nl(m.h)&&!m.m){m.m=!0;var T=m.Ea;ne||O(),le||(ne(),le=!0),P.add(T,m),m.D=0}}function La(m,T){return ts(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Qr(y(m.Ea,m,T),zu(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ie=new tr(this,this.j,m);let fe=this.o;if(this.U&&(fe?(fe=$(fe),ge(fe,this.U)):fe=this.U),this.u!==null||this.R||(ie.J=fe,fe=null),this.S)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,T>4096){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=ju(this,ie,T),R=cn(this.J),ze(R,"RID",m),ze(R,"CVER",22),this.G&&ze(R,"X-HTTP-Session-Id",this.G),Ns(this,R),fe&&(this.R?T="headers="+Ue(Ii(fe))+"&"+T:this.u&&Cs(R,this.u,fe)),Ts(this.h,ie),this.Ra&&ze(R,"TYPE","init"),this.S?(ze(R,"$req",T),ze(R,"SID","null"),ie.U=!0,Rr(ie,R,null)):Rr(ie,R,T),this.I=2}}else this.I==3&&(m?kl(this,m):this.i.length==0||Nl(this.h)||kl(this))};function kl(m,T){var R;T?R=T.l:R=m.V++;const D=cn(m.J);ze(D,"SID",m.M),ze(D,"RID",R),ze(D,"AID",m.K),Ns(m,D),m.u&&m.o&&Cs(D,m.u,m.o),R=new tr(m,m.j,R,m.D+1),m.u===null&&(R.J=m.o),T&&(m.i=T.G.concat(m.i)),T=ju(m,R,1e3),R.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ts(m.h,R),Rr(R,D,T)}function Ns(m,T){m.H&&Ze(m.H,function(R,D){ze(T,D,R)}),m.l&&Ze({},function(R,D){ze(T,D,R)})}function ju(m,T,R){R=Math.min(m.i.length,R);const D=m.l?y(m.l.Ka,m.l,m):null;e:{var ie=m.i;let it=-1;for(;;){const Ot=["count="+R];it==-1?R>0?(it=ie[0].g,Ot.push("ofs="+it)):it=0:Ot.push("ofs="+it);let Dt=!0;for(let nn=0;nn<R;nn++){var fe=ie[nn].g;const lr=ie[nn].map;if(fe-=it,fe<0)it=Math.max(0,ie[nn].g-100),Dt=!1;else try{fe="req"+fe+"_"||"";try{var Pe=lr instanceof Map?lr:Object.entries(lr);for(const[ur,$i]of Pe){let jr=$i;d($i)&&(jr=dt($i)),Ot.push(fe+ur+"="+encodeURIComponent(jr))}}catch(ur){throw Ot.push(fe+"type="+encodeURIComponent("_badmap")),ur}}catch{D&&D(lr)}}if(Dt){Pe=Ot.join("&");break e}}Pe=void 0}return m=m.i.splice(0,R),T.G=m,Pe}function Pl(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;ne||O(),le||(ne(),le=!0),P.add(T,m),m.A=0}}function Oa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Qr(y(m.Da,m),zu(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,So(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Qr(y(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bn(10),ia(this),So(this))};function Ll(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function So(m){m.g=new tr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=cn(m.na);ze(T,"RID","rpc"),ze(T,"SID",m.M),ze(T,"AID",m.K),ze(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&ze(T,"TO",m.ia),ze(T,"TYPE","xmlhttp"),Ns(m,T),m.u&&m.o&&Cs(T,m.u,m.o),m.O&&(m.g.H=m.O);var R=m.g;m=m.ba,R.M=1,R.A=qt(cn(T)),R.u=null,R.R=!0,Ir(R,m)}t.Va=function(){this.C!=null&&(this.C=null,ia(this),Oa(this),bn(19))};function To(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Hi(m,T){var R=null;if(m.g==T){To(m),Ll(m),m.g=null;var D=2}else if(rr(m.h,T))R=T.G,yo(m.h,T),D=1;else return;if(m.I!=0){if(T.o)if(D==1){R=T.u?T.u.length:0,T=Date.now()-T.F;var ie=m.D;D=Ys(),on(D,new Yr(D,R)),Ni(m)}else Pl(m);else if(ie=T.m,ie==3||ie==0&&T.X>0||!(D==1&&La(m,T)||D==2&&Oa(m)))switch(R&&R.length>0&&(T=m.h,T.i=T.i.concat(R)),ie){case 1:Dr(m,5);break;case 4:Dr(m,10);break;case 3:Dr(m,6);break;default:Dr(m,2)}}}function zu(m,T){let R=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(R*=2),R*T}function Dr(m,T){if(m.j.info("Error code "+T),T==2){var R=y(m.bb,m),D=m.Ua;const ie=!D;D=new bt(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(D,"https"),qt(D),ie?Ci(D.toString(),R):Eo(D.toString(),R)}else bn(2);m.I=0,m.l&&m.l.pa(T),Mr(m),li(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function Mr(m){if(m.I=0,m.ja=[],m.l){const T=vo(m.h);(T.length!=0||m.i.length!=0)&&(H(m.ja,T),H(m.ja,m.i),m.h.i.length=0,I(m.i),m.i.length=0),m.l.oa()}}function Ol(m,T,R){var D=R instanceof bt?cn(R):new bt(R);if(D.g!="")T&&(D.g=T+"."+D.g),Bi(D,D.u);else{var ie=c.location;D=ie.protocol,T=T?T+"."+ie.hostname:ie.hostname,ie=+ie.port;const fe=new bt(null);D&&hn(fe,D),T&&(fe.g=T),ie&&Bi(fe,ie),R&&(fe.h=R),D=fe}return R=m.G,T=m.wa,R&&T&&ze(D,R,T),ze(D,"VER",m.ka),Ns(m,D),D}function Dl(m,T,R){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new At(new Ye({ab:R})):new At(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}t=xo.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ra(){}ra.prototype.g=function(m,T){return new ui(m,T)};function ui(m,T){yn.call(this),this.g=new Is(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!j(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new ks(this)}E(ui,yn),ui.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ui.prototype.close=function(){yt(this.g)},ui.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.v&&(R={},R.__data__=dt(m),m=R);T.i.push(new Nn(T.Ya++,m)),T.I==3&&Ni(T)},ui.prototype.N=function(){this.g.l=null,delete this.j,yt(this.g),delete this.g,ui.Z.N.call(this)};function Ml(m){ln.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const R in T){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}E(Ml,ln);function Vu(){ei.call(this),this.status=1}E(Vu,ei);function ks(m){this.g=m}E(ks,xo),ks.prototype.ra=function(){on(this.g,"a")},ks.prototype.qa=function(m){on(this.g,new Ml(m))},ks.prototype.pa=function(m){on(this.g,new Vu)},ks.prototype.oa=function(){on(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,ui.prototype.send=ui.prototype.o,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,sA=function(){return new ra},rA=function(){return Ys()},iA=un,Ey={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ra.NO_ERROR=0,Ra.TIMEOUT=8,Ra.HTTP_ERROR=6,vm=Ra,Al.COMPLETE="complete",nA=Al,Ui.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",yn.prototype.listen=yn.prototype.J,Qh=Ui,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,tA=At}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});class Mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");let Kc="12.8.0";function ZD(t){Kc=t}const yu=new nv("@firebase/firestore");function wc(){return yu.logLevel}function Ve(t,...e){if(yu.logLevel<=It.DEBUG){const n=e.map(pv);yu.debug(`Firestore (${Kc}): ${t}`,...n)}}function co(t,...e){if(yu.logLevel<=It.ERROR){const n=e.map(pv);yu.error(`Firestore (${Kc}): ${t}`,...n)}}function Dc(t,...e){if(yu.logLevel<=It.WARN){const n=e.map(pv);yu.warn(`Firestore (${Kc}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function tt(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,aA(t,i,n)}function aA(t,e,n){let i=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw co(i),new Error(i)}function $t(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||aA(e,a,i)}function ct(t,e){return t}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class oA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mi.UNAUTHENTICATED)))}shutdown(){}}class KD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WD{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0,42304);let i=this.i;const a=_=>this.i!==i?(i=this.i,n(_)):Promise.resolve();let l=new so;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new so,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const _=l;e.enqueueRetryable((async()=>{await _.promise,await a(this.currentUser)}))},d=_=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((_=>d(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?d(_):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new so)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t(typeof i.accessToken=="string",31837,{l:i}),new oA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new Mi(e)}}class YD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class QD{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new YD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$t(this.o===void 0,3512);const i=l=>{l.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=JD(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Nt(t,e){return t<e?-1:t>e?1:0}function Sy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return $_(a)===$_(l)?Nt(a,l):$_(a)?1:-1}return Nt(t.length,e.length)}const eM=55296,tM=57343;function $_(t){const e=t.charCodeAt(0);return e>=eM&&e<=tM}function Mc(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const VS="__name__";class pa{constructor(e,n,i){n===void 0?n=0:n>e.length&&tt(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&tt(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=pa.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Nt(e.length,n.length)}static compareSegments(e,n){const i=pa.isNumericId(e),a=pa.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?pa.extractNumericId(e).compare(pa.extractNumericId(n)):Sy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cl.fromString(e.substring(4,e.length-2))}}class an extends pa{construct(e,n,i){return new an(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new an(n)}static emptyPath(){return new an([])}}const nM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends pa{construct(e,n,i){return new Ei(e,n,i)}static isValidIdentifier(e){return nM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VS}static keyField(){return new Ei([VS])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Me(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Me(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Me(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Me(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(n)}static emptyPath(){return new Ei([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(an.fromString(e))}static fromName(e){return new Ke(an.fromString(e).popFirst(5))}static empty(){return new Ke(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&an.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return an.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new an(e.slice()))}}function _v(t,e,n){if(!n)throw new Me(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iM(t,e,n,i){if(e===!0&&i===!0)throw new Me(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function US(t){if(!Ke.isDocumentKey(t))throw new Me(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BS(t){if(Ke.isDocumentKey(t))throw new Me(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt(12329,{type:typeof t})}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hp(t);throw new Me(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rM(t,e){if(e<=0)throw new Me(we.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function zf(t,e){if(!lA(t))throw new Me(we.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Me(we.INVALID_ARGUMENT,n);return!0}const FS=-62135596800,HS=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*HS);return new mn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FS)throw new Me(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HS}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zf(e,mn._jsonSchema))return new mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mn._jsonSchemaVersion="firestore/timestamp/1.0",mn._jsonSchema={type:Qn("string",mn._jsonSchemaVersion),seconds:Qn("number"),nanoseconds:Qn("number")};class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new mn(0,0))}static max(){return new ot(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vf=-1;function sM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ot.fromTimestamp(i===1e9?new mn(n+1,0):new mn(n,i));return new fl(a,Ke.empty(),e)}function aM(t){return new fl(t.readTime,t.key,vf)}class fl{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new fl(ot.min(),Ke.empty(),vf)}static max(){return new fl(ot.max(),Ke.empty(),vf)}}function oM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}const lM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wc(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==lM)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,i)=>{n(e)}))}static reject(e){return new xe(((n,i)=>{i(e)}))}static waitFor(e){return new xe(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(_=>i(_)))})),c=!0,l===a&&n()}))}static or(e){let n=xe.resolve(!1);for(const i of e)n=n.next((a=>a?xe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new xe(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let _=0;_<l;_++){const y=_;n(e[y]).next((S=>{c[y]=S,++d,d===l&&i(c)}),(S=>a(S)))}}))}static doWhile(e,n){return new xe(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function cM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}class fp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fp.ce=-1;const yv=-1;function dp(t){return t==null}function jm(t){return t===0&&1/t==-1/0}function hM(t){return typeof t=="number"&&Number.isInteger(t)&&!jm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const uA="";function fM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$S(e)),e=dM(t.get(n),e);return $S(e)}function dM(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case uA:n+="";break;default:n+=l}}return n}function $S(t){return t+uA+""}function qS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function El(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xn{constructor(e,n){this.comparator=e,this.root=n||wi.EMPTY}insert(e,n){return new xn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??wi.RED,this.left=a??wi.EMPTY,this.right=l??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new wi(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return wi.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new wi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZS(this.data.getIterator())}getIteratorFrom(e){return new ZS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ii(this.comparator);return n.data=e,n}}class ZS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kr{constructor(e){this.fields=e,e.sort(Ei.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new ii(Ei.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class hA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hA("Invalid base64 string: "+l):l}})(e);return new Si(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const mM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dl(t){if($t(!!t,39018),typeof t=="string"){let e=0;const n=mM.exec(t);if($t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zn(t.seconds),nanos:zn(t.nanos)}}function zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ml(t){return typeof t=="string"?Si.fromBase64String(t):Si.fromUint8Array(t)}const fA="server_timestamp",dA="__type__",mA="__previous_value__",pA="__local_write_time__";function vv(t){return(t?.mapValue?.fields||{})[dA]?.stringValue===fA}function mp(t){const e=t.mapValue.fields[mA];return vv(e)?mp(e):e}function bf(t){const e=dl(t.mapValue.fields[pA].timestampValue);return new mn(e.seconds,e.nanos)}class pM{constructor(e,n,i,a,l,c,d,_,y,S,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=E}}const zm="(default)";class wf{constructor(e,n){this.projectId=e,this.database=n||zm}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database===zm}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}function gM(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Me(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(t.options.projectId,e)}const gA="__type__",_M="__max__",rm={mapValue:{}},_A="__vector__",Vm="value";function pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:vM(t)?9007199254740991:yM(t)?10:11:tt(28295,{value:t})}function Ea(t,e){if(t===e)return!0;const n=pl(t);if(n!==pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bf(t).isEqual(bf(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=dl(a.timestampValue),d=dl(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ml(a.bytesValue).isEqual(ml(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return zn(a.geoPointValue.latitude)===zn(l.geoPointValue.latitude)&&zn(a.geoPointValue.longitude)===zn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return zn(a.integerValue)===zn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=zn(a.doubleValue),d=zn(l.doubleValue);return c===d?jm(c)===jm(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Mc(t.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(qS(c)!==qS(d))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(d[_]===void 0||!Ea(c[_],d[_])))return!1;return!0})(t,e);default:return tt(52216,{left:t})}}function Ef(t,e){return(t.values||[]).find((n=>Ea(n,e)))!==void 0}function jc(t,e){if(t===e)return 0;const n=pl(t),i=pl(e);if(n!==i)return Nt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=zn(l.integerValue||l.doubleValue),_=zn(c.integerValue||c.doubleValue);return d<_?-1:d>_?1:d===_?0:isNaN(d)?isNaN(_)?0:-1:1})(t,e);case 3:return GS(t.timestampValue,e.timestampValue);case 4:return GS(bf(t),bf(e));case 5:return Sy(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=ml(l),_=ml(c);return d.compareTo(_)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),_=c.split("/");for(let y=0;y<d.length&&y<_.length;y++){const S=Nt(d[y],_[y]);if(S!==0)return S}return Nt(d.length,_.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Nt(zn(l.latitude),zn(c.latitude));return d!==0?d:Nt(zn(l.longitude),zn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return KS(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},_=c.fields||{},y=d[Vm]?.arrayValue,S=_[Vm]?.arrayValue,E=Nt(y?.values?.length||0,S?.values?.length||0);return E!==0?E:KS(y,S)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===rm.mapValue&&c===rm.mapValue)return 0;if(l===rm.mapValue)return 1;if(c===rm.mapValue)return-1;const d=l.fields||{},_=Object.keys(d),y=c.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let E=0;E<_.length&&E<S.length;++E){const C=Sy(_[E],S[E]);if(C!==0)return C;const I=jc(d[_[E]],y[S[E]]);if(I!==0)return I}return Nt(_.length,S.length)})(t.mapValue,e.mapValue);default:throw tt(23264,{he:n})}}function GS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);const n=dl(t),i=dl(e),a=Nt(n.seconds,i.seconds);return a!==0?a:Nt(n.nanos,i.nanos)}function KS(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=jc(n[a],i[a]);if(l)return l}return Nt(n.length,i.length)}function zc(t){return Ty(t)}function Ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=dl(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ml(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Ty(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ty(n.fields[c])}`;return a+"}"})(t.mapValue):tt(61005,{value:t})}function bm(t){switch(pl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mp(t);return e?16+bm(e):16;case 5:return 2*t.stringValue.length;case 6:return ml(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+bm(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return El(i.fields,((l,c)=>{a+=l.length+bm(c)})),a})(t.mapValue);default:throw tt(13486,{value:t})}}function WS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xy(t){return!!t&&"integerValue"in t}function bv(t){return!!t&&"arrayValue"in t}function YS(t){return!!t&&"nullValue"in t}function QS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wm(t){return!!t&&"mapValue"in t}function yM(t){return(t?.mapValue?.fields||{})[gA]?.stringValue===_A}function uf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return El(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=uf(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uf(t.arrayValue.values[n]);return e}return{...t}}function vM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_M}class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!wm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(n)}setAll(e){let n=Ei.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const _=this.getFieldsMap(n);this.applyChanges(_,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=uf(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];wm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){El(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new wr(uf(this.value))}}function yA(t){const e=[];return El(t.fields,((n,i)=>{const a=new Ei([n]);if(wm(i)){const l=yA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Kr(e)}class ji{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ji(e,0,ot.min(),ot.min(),ot.min(),wr.empty(),0)}static newFoundDocument(e,n,i,a){return new ji(e,1,n,ot.min(),i,a,0)}static newNoDocument(e,n){return new ji(e,2,n,ot.min(),ot.min(),wr.empty(),0)}static newUnknownDocument(e,n){return new ji(e,3,n,ot.min(),ot.min(),wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Um{constructor(e,n){this.position=e,this.inclusive=n}}function XS(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ke.comparator(Ke.fromName(c.referenceValue),n.key):i=jc(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function JS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ea(t.position[n],e.position[n]))return!1;return!0}class Sf{constructor(e,n="asc"){this.field=e,this.dir=n}}function bM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vA{}class Yn extends vA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new EM(e,n,i):n==="array-contains"?new xM(e,i):n==="in"?new AM(e,i):n==="not-in"?new CM(e,i):n==="array-contains-any"?new RM(e,i):new Yn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new SM(e,i):new TM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jc(n,this.value)):n!==null&&pl(this.value)===pl(n)&&this.matchesComparison(jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends vA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qs(e,n)}matches(e){return bA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bA(t){return t.op==="and"}function wA(t){return wM(t)&&bA(t)}function wM(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function Ay(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+zc(t.value);if(wA(t))return t.filters.map((e=>Ay(e))).join(",");{const e=t.filters.map((n=>Ay(n))).join(",");return`${t.op}(${e})`}}function EA(t,e){return t instanceof Yn?(function(i,a){return a instanceof Yn&&i.op===a.op&&i.field.isEqual(a.field)&&Ea(i.value,a.value)})(t,e):t instanceof qs?(function(i,a){return a instanceof qs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&EA(c,a.filters[d])),!0):!1})(t,e):void tt(19439)}function SA(t){return t instanceof Yn?(function(n){return`${n.field.canonicalString()} ${n.op} ${zc(n.value)}`})(t):t instanceof qs?(function(n){return n.op.toString()+" {"+n.getFilters().map(SA).join(" ,")+"}"})(t):"Filter"}class EM extends Yn{constructor(e,n,i){super(e,n,i),this.key=Ke.fromName(i.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class SM extends Yn{constructor(e,n){super(e,"in",n),this.keys=TA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TM extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=TA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TA(t,e){return(e.arrayValue?.values||[]).map((n=>Ke.fromName(n.referenceValue)))}class xM extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bv(n)&&Ef(n.arrayValue,this.value)}}class AM extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ef(this.value.arrayValue,n)}}class CM extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ef(this.value.arrayValue,n)}}class RM extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ef(this.value.arrayValue,i)))}}class IM{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function eT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new IM(t,e,n,i,a,l,c)}function wv(t){const e=ct(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ay(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>zc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>zc(i))).join(",")),e.Te=n}return e.Te}function Ev(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JS(t.startAt,e.startAt)&&JS(t.endAt,e.endAt)}function Cy(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xu{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NM(t,e,n,i,a,l,c,d){return new xu(t,e,n,i,a,l,c,d)}function pp(t){return new xu(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kM(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function xA(t){return t.collectionGroup!==null}function cf(t){const e=ct(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ii(Ei.comparator);return c.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Sf(l,i))})),n.has(Ei.keyField().canonicalString())||e.Ie.push(new Sf(Ei.keyField(),i))}return e.Ie}function va(t){const e=ct(t);return e.Ee||(e.Ee=PM(e,cf(t))),e.Ee}function PM(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Sf(a.field,l)}));const n=t.endAt?new Um(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Um(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ry(t,e){const n=t.filters.concat([e]);return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function LM(t,e){const n=t.explicitOrderBy.concat([e]);return new xu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Bm(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gp(t,e){return Ev(va(t),va(e))&&t.limitType===e.limitType}function AA(t){return`${wv(va(t))}|lt:${t.limitType}`}function Ec(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>SA(a))).join(", ")}]`),dp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>zc(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>zc(a))).join(",")),`Target(${i})`})(va(t))}; limitType=${t.limitType})`}function _p(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ke.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of cf(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,_){const y=XS(c,d,_);return c.inclusive?y<=0:y<0})(i.startAt,cf(i),a)||i.endAt&&!(function(c,d,_){const y=XS(c,d,_);return c.inclusive?y>=0:y>0})(i.endAt,cf(i),a))})(t,e)}function OM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CA(t){return(e,n)=>{let i=!1;for(const a of cf(t)){const l=DM(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function DM(t,e,n){const i=t.field.isKeyField()?Ke.comparator(e.key,n.key):(function(l,c,d){const _=c.data.field(l),y=d.data.field(l);return _!==null&&y!==null?jc(_,y):tt(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return tt(19790,{direction:t.dir})}}class Au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}const MM=new xn(Ke.comparator);function ho(){return MM}const RA=new xn(Ke.comparator);function Xh(...t){let e=RA;for(const n of t)e=e.insert(n.key,n);return e}function IA(t){let e=RA;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function cu(){return hf()}function NA(){return hf()}function hf(){return new Au((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jM=new xn(Ke.comparator),zM=new ii(Ke.comparator);function kt(...t){let e=zM;for(const n of t)e=e.add(n);return e}const VM=new ii(Nt);function UM(){return VM}function Sv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jm(e)?"-0":e}}function kA(t){return{integerValue:""+t}}function PA(t,e){return hM(e)?kA(e):Sv(t,e)}class yp{constructor(){this._=void 0}}function BM(t,e,n){return t instanceof Tf?(function(a,l){const c={fields:{[dA]:{stringValue:fA},[pA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&vv(l)&&(l=mp(l)),l&&(c.fields[mA]=l),{mapValue:c}})(n,e):t instanceof Vc?OA(t,e):t instanceof Uc?DA(t,e):(function(a,l){const c=LA(a,l),d=nT(c)+nT(a.Ae);return xy(c)&&xy(a.Ae)?kA(d):Sv(a.serializer,d)})(t,e)}function FM(t,e,n){return t instanceof Vc?OA(t,e):t instanceof Uc?DA(t,e):n}function LA(t,e){return t instanceof xf?(function(i){return xy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Tf extends yp{}class Vc extends yp{constructor(e){super(),this.elements=e}}function OA(t,e){const n=MA(e);for(const i of t.elements)n.some((a=>Ea(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Uc extends yp{constructor(e){super(),this.elements=e}}function DA(t,e){let n=MA(e);for(const i of t.elements)n=n.filter((a=>!Ea(a,i)));return{arrayValue:{values:n}}}class xf extends yp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nT(t){return zn(t.integerValue||t.doubleValue)}function MA(t){return bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vp{constructor(e,n){this.field=e,this.transform=n}}function HM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Vc&&a instanceof Vc||i instanceof Uc&&a instanceof Uc?Mc(i.elements,a.elements,Ea):i instanceof xf&&a instanceof xf?Ea(i.Ae,a.Ae):i instanceof Tf&&a instanceof Tf})(t.transform,e.transform)}class $M{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bp{}function jA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tv(t.key,gs.none()):new Vf(t.key,t.data,gs.none());{const n=t.data,i=wr.empty();let a=new ii(Ei.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Sl(t.key,i,new Kr(a.toArray()),gs.none())}}function qM(t,e,n){t instanceof Vf?(function(a,l,c){const d=a.value.clone(),_=rT(a.fieldTransforms,l,c.transformResults);d.setAll(_),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Sl?(function(a,l,c){if(!Em(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=rT(a.fieldTransforms,l,c.transformResults),_=l.data;_.setAll(zA(a)),_.setAll(d),l.convertToFoundDocument(c.version,_).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ff(t,e,n,i){return t instanceof Vf?(function(l,c,d,_){if(!Em(l.precondition,c))return d;const y=l.value.clone(),S=sT(l.fieldTransforms,_,c);return y.setAll(S),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(t,e,n,i):t instanceof Sl?(function(l,c,d,_){if(!Em(l.precondition,c))return d;const y=sT(l.fieldTransforms,_,c),S=c.data;return S.setAll(zA(l)),S.setAll(y),c.convertToFoundDocument(c.version,S).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,i):(function(l,c,d){return Em(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function ZM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=LA(i.transform,a||null);l!=null&&(n===null&&(n=wr.empty()),n.set(i.field,l))}return n||null}function iT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Mc(i,a,((l,c)=>HM(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends bp{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Sl extends bp{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function rT(t,e,n){const i=new Map;$t(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,FM(c,d,n[a]))}return i}function sT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,BM(l,c,e))}return i}class Tv extends bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&qM(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ff(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ff(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=NA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const _=jA(c,d);_!==null&&i.set(a.key,_),c.isValidDocument()||c.convertToNoDocument(ot.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),kt())}isEqual(e){return this.batchId===e.batchId&&Mc(this.mutations,e.mutations,((n,i)=>iT(n,i)))&&Mc(this.baseMutations,e.baseMutations,((n,i)=>iT(n,i)))}}class xv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){$t(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return jM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new xv(e,n,i,a)}}class WM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wn,Mt;function QM(t){switch(t){case we.OK:return tt(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return tt(15467,{code:t})}}function VA(t){if(t===void 0)return co("GRPC error has no .code"),we.UNKNOWN;switch(t){case Wn.OK:return we.OK;case Wn.CANCELLED:return we.CANCELLED;case Wn.UNKNOWN:return we.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return we.INTERNAL;case Wn.UNAVAILABLE:return we.UNAVAILABLE;case Wn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Wn.NOT_FOUND:return we.NOT_FOUND;case Wn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Wn.ABORTED:return we.ABORTED;case Wn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Wn.DATA_LOSS:return we.DATA_LOSS;default:return tt(39323,{code:t})}}(Mt=Wn||(Wn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function XM(){return new TextEncoder}const JM=new cl([4294967295,4294967295],0);function aT(t){const e=XM().encode(t),n=new eA;return n.update(e),new Uint8Array(n.digest())}function oT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cl([n,i],0),new cl([a,l],0)]}class Av{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Jh(`Invalid padding: ${n}`);if(i<0)throw new Jh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Jh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cl.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(cl.fromNumber(i)));return a.compare(JM)===1&&(a=new cl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aT(e),[i,a]=oT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Av(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=aT(e),[i,a]=oT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wp{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wp(ot.min(),a,new xn(Nt),ho(),kt())}}class Uf{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Uf(i,n,kt(),kt(),kt())}}class Sm{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class UA{constructor(e,n){this.targetId=e,this.Ce=n}}class BA{constructor(e,n,i=Si.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class lT{constructor(){this.ve=0,this.Fe=uT(),this.Me=Si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kt(),n=kt(),i=kt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:tt(38017,{changeType:l})}})),new Uf(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=uT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ej{constructor(e){this.Ge=e,this.ze=new Map,this.je=ho(),this.He=sm(),this.Je=sm(),this.Ze=new xn(Nt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:tt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Cy(l))if(i===0){const c=new Ke(l.path);this.et(n,c,ji.newNoDocument(c,ot.min()))}else $t(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),_=d?this.ct(d,e,c):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=ml(i).toUint8Array()}catch(_){if(_ instanceof hA)return Dc("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{d=new Av(c,a,l)}catch(_){return Dc(_ instanceof Jh?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Cy(d.target)){const _=new Ke(d.target.path);this.It(_).has(c)||this.Et(c,_)||this.et(c,_,ji.newNoDocument(_,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=kt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new wp(e,n,this.Ze,this.je,i);return this.je=ho(),this.He=sm(),this.Je=sm(),this.Ze=new xn(Nt),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new lT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ii(Nt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ii(Nt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sm(){return new xn(Ke.comparator)}function uT(){return new xn(Ke.comparator)}const tj={asc:"ASCENDING",desc:"DESCENDING"},nj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ij={and:"AND",or:"OR"};class rj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||dp(e)?e:{value:e}}function Fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sj(t,e){return Fm(t,e.toTimestamp())}function ba(t){return $t(!!t,49232),ot.fromTimestamp((function(n){const i=dl(n);return new mn(i.seconds,i.nanos)})(t))}function Cv(t,e){return Ny(t,e).canonicalString()}function Ny(t,e){const n=(function(a){return new an(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HA(t){const e=an.fromString(t);return $t(KA(e),10190,{key:e.toString()}),e}function ky(t,e){return Cv(t.databaseId,e.path)}function q_(t,e){const n=HA(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(qA(n))}function $A(t,e){return Cv(t.databaseId,e)}function aj(t){const e=HA(t);return e.length===4?an.emptyPath():qA(e)}function Py(t){return new an(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qA(t){return $t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cT(t,e,n){return{name:ky(t,e),fields:n.value.mapValue.fields}}function oj(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:tt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(y,S){return y.useProto3Json?($t(S===void 0||typeof S=="string",58123),Si.fromBase64String(S||"")):($t(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Si.fromUint8Array(S||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(y){const S=y.code===void 0?we.UNKNOWN:VA(y.code);return new Me(S,y.message||"")})(c);n=new BA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=q_(t,i.document.name),l=ba(i.document.updateTime),c=i.document.createTime?ba(i.document.createTime):ot.min(),d=new wr({mapValue:{fields:i.document.fields}}),_=ji.newFoundDocument(a,l,c,d),y=i.targetIds||[],S=i.removedTargetIds||[];n=new Sm(y,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=q_(t,i.document),l=i.readTime?ba(i.readTime):ot.min(),c=ji.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Sm([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=q_(t,i.document),l=i.removedTargetIds||[];n=new Sm([],l,a,null)}else{if(!("filter"in e))return tt(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new YM(a,l),d=i.targetId;n=new UA(d,c)}}return n}function lj(t,e){let n;if(e instanceof Vf)n={update:cT(t,e.key,e.value)};else if(e instanceof Tv)n={delete:ky(t,e.key)};else if(e instanceof Sl)n={update:cT(t,e.key,e.data),updateMask:_j(e.fieldMask)};else{if(!(e instanceof GM))return tt(16599,{dt:e.type});n={verify:ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Tf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw tt(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:sj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:tt(27497)})(t,e.precondition)),n}function uj(t,e){return t&&t.length>0?($t(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ba(a.updateTime):ba(l);return c.isEqual(ot.min())&&(c=ba(l)),new $M(c,a.transformResults||[])})(n,e)))):[]}function cj(t,e){return{documents:[$A(t,e.path)]}}function hj(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=$A(t,a);const l=(function(y){if(y.length!==0)return GA(qs.create(y,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((S=>(function(C){return{field:Sc(C.field),direction:mj(C.dir)}})(S)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Iy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:a}}function fj(t){let e=aj(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){$t(i===1,65062);const S=n.from[0];S.allDescendants?a=S.collectionId:e=e.child(S.collectionId)}let l=[];n.where&&(l=(function(E){const C=ZA(E);return C instanceof qs&&wA(C)?C.getFilters():[C]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((C=>(function(H){return new Sf(Tc(H.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(C)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let C;return C=typeof E=="object"?E.value:E,dp(C)?null:C})(n.limit));let _=null;n.startAt&&(_=(function(E){const C=!!E.before,I=E.values||[];return new Um(I,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const C=!E.before,I=E.values||[];return new Um(I,C)})(n.endAt)),NM(e,a,c,l,d,"F",_,y)}function dj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Tc(n.unaryFilter.field);return Yn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Tc(n.unaryFilter.field);return Yn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Tc(n.unaryFilter.field);return Yn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Tc(n.unaryFilter.field);return Yn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Yn.create(Tc(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qs.create(n.compositeFilter.filters.map((i=>ZA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return tt(1026)}})(n.compositeFilter.op))})(t):tt(30097,{filter:t})}function mj(t){return tj[t]}function pj(t){return nj[t]}function gj(t){return ij[t]}function Sc(t){return{fieldPath:t.canonicalString()}}function Tc(t){return Ei.fromServerFormat(t.fieldPath)}function GA(t){return t instanceof Yn?(function(n){if(n.op==="=="){if(QS(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NAN"}};if(YS(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QS(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NOT_NAN"}};if(YS(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sc(n.field),op:pj(n.op),value:n.value}}})(t):t instanceof qs?(function(n){const i=n.getFilters().map((a=>GA(a)));return i.length===1?i[0]:{compositeFilter:{op:gj(n.op),filters:i}}})(t):tt(54877,{filter:t})}function _j(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function WA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class al{constructor(e,n,i,a,l=ot.min(),c=ot.min(),d=Si.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=_}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yj{constructor(e){this.yt=e}}function vj(t){const e=fj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bm(e,e.limit,"L"):e}class bj{constructor(){this.Sn=new wj}addToCollectionParentIndex(e,n){return this.Sn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(fl.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(fl.min())}updateCollectionGroup(e,n,i){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class wj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new ii(an.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new ii(an.comparator)).toArray()}}const hT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YA=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(YA,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);class Bc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Bc(0)}static ar(){return new Bc(-1)}}const fT="LruGarbageCollector",Ej=1048576;function dT([t,e],[n,i]){const a=Nt(t,n);return a===0?Nt(e,i):a}class Sj{constructor(e){this.Pr=e,this.buffer=new ii(dT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();dT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ve(fT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yc(n)?Ve(fT,"Ignoring IndexedDB error during garbage collection: ",n):await Wc(n)}await this.Ar(3e5)}))}}class xj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(fp.ce);const i=new Sj(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(hT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,d,_,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,n)))).next((E=>(l=E,_=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),wc()<=It.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-S}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(_-d)+`ms
	Removed ${E} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function Aj(t,e){return new xj(t,e)}class Cj{constructor(){this.changes=new Au((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ji.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?xe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ij{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&ff(i.mutation,a,Kr.empty(),mn.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,kt()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=kt()){const a=cu();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Xh();return l.forEach(((d,_)=>{c=c.insert(d,_.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=cu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,kt())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=ho();const c=hf(),d=(function(){return hf()})();return n.forEach(((_,y)=>{const S=i.get(y.key);a.has(y.key)&&(S===void 0||S.mutation instanceof Sl)?l=l.insert(y.key,y):S!==void 0?(c.set(y.key,S.mutation.getFieldMask()),ff(S.mutation,y,S.mutation.getFieldMask(),mn.now())):c.set(y.key,Kr.empty())})),this.recalculateAndSaveOverlays(e,l).next((_=>(_.forEach(((y,S)=>c.set(y,S))),n.forEach(((y,S)=>d.set(y,new Rj(S,c.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=hf();let a=new xn(((c,d)=>c-d)),l=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let S=i.get(_)||Kr.empty();S=d.applyToLocalView(y,S),i.set(_,S);const E=(a.get(d.batchId)||kt()).add(_);a=a.insert(d.batchId,E)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const _=d.getNext(),y=_.key,S=_.value,E=NA();S.forEach((C=>{if(!l.has(C)){const I=jA(n.get(C),i.get(C));I!==null&&E.set(C,I),l=l.add(C)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return xe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return kM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):xe.resolve(cu());let d=vf,_=l;return c.next((y=>xe.forEach(y,((S,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(S)?xe.resolve():this.remoteDocumentCache.getEntry(e,S).next((C=>{_=_.insert(S,C)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,_,y,kt()))).next((S=>({batchId:d,changes:IA(S)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next((i=>{let a=Xh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Xh();return this.indexManager.getCollectionParents(e,l).next((d=>xe.forEach(d,(_=>{const y=(function(E,C){return new xu(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,_.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,a).next((S=>{S.forEach(((E,C)=>{c=c.insert(E,C)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((_,y)=>{const S=y.getKey();c.get(S)===null&&(c=c.insert(S,ji.newInvalidDocument(S)))}));let d=Xh();return c.forEach(((_,y)=>{const S=l.get(_);S!==void 0&&ff(S.mutation,y,Kr.empty(),mn.now()),_p(n,y)&&(d=d.insert(_,y))})),d}))}}class Nj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return xe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ba(a.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:vj(a.bundledQuery),readTime:ba(a.readTime)}})(n)),xe.resolve()}}class kj{constructor(){this.overlays=new xn(Ke.comparator),this.Lr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=cu();return xe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),xe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),xe.resolve()}getOverlaysForCollection(e,n,i){const a=cu(),l=n.length+1,c=new Ke(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const _=d.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&_.largestBatchId>i&&a.set(_.getKey(),_)}return xe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new xn(((y,S)=>y-S));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let S=l.get(y.largestBatchId);S===null&&(S=cu(),l=l.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const d=cu(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>d.set(y,S))),!(d.size()>=a)););return xe.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new WM(n,i));let l=this.Lr.get(n);l===void 0&&(l=kt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class Pj{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}class Rv{constructor(){this.kr=new ii(di.Kr),this.qr=new ii(di.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new di(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new di(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ke(new an([])),i=new di(n,e),a=new di(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ke(new an([])),i=new di(n,e),a=new di(n,e+1);let l=kt();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new di(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class di{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ke.comparator(e.key,n.key)||Nt(e.Hr,n.Hr)}static Ur(e,n){return Nt(e.Hr,n.Hr)||Ke.comparator(e.key,n.key)}}class Lj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ii(di.Kr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new KM(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new di(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return xe.resolve(c)}lookupMutationBatch(e,n){return xe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return xe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?yv:this.Yn-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new di(n,0),a=new di(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),xe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ii(Nt);return n.forEach((a=>{const l=new di(a,0),c=new di(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),xe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ke.isDocumentKey(l)||(l=l.child(""));const c=new di(new Ke(l),0);let d=new ii(Nt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!i.isPrefixOf(y)&&(y.length===a&&(d=d.add(_.Hr)),!0)}),c),xe.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){$t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return xe.forEach(n.mutations,(a=>{const l=new di(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new di(n,0),a=this.Jr.firstAfterOrEqual(i);return xe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Oj{constructor(e){this.ti=e,this.docs=(function(){return new xn(Ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return xe.resolve(i?i.document.mutableCopy():ji.newInvalidDocument(n))}getEntries(e,n){let i=ho();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ji.newInvalidDocument(a))})),xe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ho();const c=n.path,d=new Ke(c.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(d);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||oM(aM(S),i)<=0||(a.has(S.key)||_p(n,S))&&(l=l.insert(S.key,S.mutableCopy()))}return xe.resolve(l)}getAllFromCollectionGroup(e,n,i,a){tt(9500)}ni(e,n){return xe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Dj(this)}getSize(e){return xe.resolve(this.size)}}class Dj extends Cj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),xe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Mj{constructor(e){this.persistence=e,this.ri=new Au((n=>wv(n)),Ev),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.ii=0,this.si=new Rv,this.targetCount=0,this.oi=Bc._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),xe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Bc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.lr(n),xe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),xe.waitFor(l).next((()=>a))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return xe.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),xe.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),xe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return xe.resolve(i)}containsKey(e,n){return xe.resolve(this.si.containsKey(n))}}class QA{constructor(e,n){this._i={},this.overlays={},this.ai=new fp(0),this.ui=!1,this.ui=!0,this.ci=new Pj,this.referenceDelegate=e(this),this.li=new Mj(this),this.indexManager=new bj,this.remoteDocumentCache=(function(a){return new Oj(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new yj(n),this.Pi=new Nj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new Lj(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){Ve("MemoryPersistence","Starting transaction:",e);const a=new jj(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return xe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class jj extends uM{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Ri=new Rv,this.Ai=null}static Vi(e){return new Iv(e)}get di(){if(this.Ai)return this.Ai;throw tt(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),xe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.di,(i=>{const a=Ke.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,ot.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Hm{constructor(e,n){this.persistence=e,this.fi=new Au((i=>fM(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=Aj(this,n)}static Vi(e,n){return new Hm(e,n)}Ti(){}Ii(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return xe.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?xe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(i++,l.removeEntry(c,ot.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),xe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bm(e.data.value)),n}wr(e,n,i){return xe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return xe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=kt(),a=kt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Nv(e,n.fromCache,i,a)}}class zj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lP()?8:cM(zi())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new zj;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(wc()<=It.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),xe.resolve()):(wc()<=It.DEBUG&&Ve("QueryEngine","Query:",Ec(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(wc()<=It.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,va(n))):xe.resolve())}gs(e,n){if(tT(n))return xe.resolve(null);let i=va(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Bm(n,null,"F"),i=va(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=kt(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((_=>{const y=this.bs(n,d);return this.Ss(n,y,c,_.readTime)?this.gs(e,Bm(n,null,"F")):this.Ds(e,y,n,_)}))))})))))}ps(e,n,i,a){return tT(n)||a.isEqual(ot.min())?xe.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?xe.resolve(null):(wc()<=It.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ec(n)),this.Ds(e,c,n,sM(a,vf)).next((d=>d)))}))}bs(e,n){let i=new ii(CA(e));return n.forEach(((a,l)=>{_p(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return wc()<=It.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Ec(n)),this.fs.getDocumentsMatchingQuery(e,n,fl.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const kv="LocalStore",Uj=3e8;class Bj{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new xn(Nt),this.Fs=new Au((l=>wv(l)),Ev),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ij(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Fj(t,e,n,i){return new Bj(t,e,n,i)}async function XA(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let _=kt();for(const y of a){c.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return n.localDocuments.getDocuments(i,_).next((y=>({Ns:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function Hj(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,_,y,S){const E=y.batch,C=E.keys();let I=xe.resolve();return C.forEach((H=>{I=I.next((()=>S.getEntry(_,H))).next((M=>{const W=y.docVersions.get(H);$t(W!==null,48541),M.version.compareTo(W)<0&&(E.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),S.addEntry(M)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(_,E)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let _=kt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(_=_.add(d.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function JA(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function $j(t,e){const n=ct(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((S,E)=>{const C=a.get(E);if(!C)return;d.push(n.li.removeMatchingKeys(l,S.removedDocuments,E).next((()=>n.li.addMatchingKeys(l,S.addedDocuments,E))));let I=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Si.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):S.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(S.resumeToken,i)),a=a.insert(E,I),(function(M,W,ue){return M.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Uj?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(C,I,S)&&d.push(n.li.updateTargetData(l,I))}));let _=ho(),y=kt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,S))})),d.push(qj(l,c,e.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!i.isEqual(ot.min())){const S=n.li.getLastRemoteSnapshotVersion(l).next((E=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(S)}return xe.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,_,y))).next((()=>_))})).then((l=>(n.vs=a,l)))}function qj(t,e,n){let i=kt(),a=kt();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=ho();return n.forEach(((d,_)=>{const y=l.get(d);_.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(d)),_.isNoDocument()&&_.version.isEqual(ot.min())?(e.removeEntry(d,_.readTime),c=c.insert(d,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),c=c.insert(d,_)):Ve(kv,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",_.version)})),{Bs:c,Ls:a}}))}function Zj(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=yv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Gj(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,xe.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new al(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Ly(t,e,n){const i=ct(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Yc(c))throw c;Ve(kv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function mT(t,e,n){const i=ct(t);let a=ot.min(),l=kt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(_,y,S){const E=ct(_),C=E.Fs.get(S);return C!==void 0?xe.resolve(E.vs.get(C)):E.li.getTargetData(y,S)})(i,c,va(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((_=>{l=_}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:ot.min(),n?l:kt()))).next((d=>(Kj(i,OM(e),d),{documents:d,ks:l})))))}function Kj(t,e,n){let i=t.Ms.get(e)||ot.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class pT{constructor(){this.activeTargetIds=UM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wj{constructor(){this.vo=new pT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new pT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yj{Mo(e){}shutdown(){}}const gT="ConnectivityMonitor";class _T{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ve(gT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ve(gT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let am=null;function Oy(){return am===null?am=(function(){return 268435456+Math.round(2147483648*Math.random())})():am++,"0x"+am.toString(16)}const Z_="RestConnection",Qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Xj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===zm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=Oy(),d=this.Qo(e,n.toUriEncodedString());Ve(Z_,`Sending RPC '${e}' ${c}:`,d,i);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,a,l);const{host:y}=new URL(d),S=qc(y);return this.zo(e,d,_,i,S).then((E=>(Ve(Z_,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Dc(Z_,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=Qj[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class Jj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Oi="WebChannelConnection",qh=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Nc extends Xj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Nc.c_){const e=rA();qh(e,iA.STAT_EVENT,(n=>{n.stat===Ey.PROXY?Ve(Oi,"STAT_EVENT: detected buffering proxy"):n.stat===Ey.NOPROXY&&Ve(Oi,"STAT_EVENT: detected no buffering proxy")})),Nc.c_=!0}}zo(e,n,i,a,l){const c=Oy();return new Promise(((d,_)=>{const y=new tA;y.setWithCredentials(!0),y.listenOnce(nA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case vm.NO_ERROR:const E=y.getResponseJson();Ve(Oi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case vm.TIMEOUT:Ve(Oi,`RPC '${e}' ${c} timed out`),_(new Me(we.DEADLINE_EXCEEDED,"Request time out"));break;case vm.HTTP_ERROR:const C=y.getStatus();if(Ve(Oi,`RPC '${e}' ${c} failed with status:`,C,"response text:",y.getResponseText()),C>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const H=I?.error;if(H&&H.status&&H.message){const M=(function(ue){const X=ue.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(X)>=0?X:we.UNKNOWN})(H.status);_(new Me(M,H.message))}else _(new Me(we.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new Me(we.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Ve(Oi,`RPC '${e}' ${c} completed.`)}}));const S=JSON.stringify(a);Ve(Oi,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",S,i,15)}))}T_(e,n,i){const a=Oy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(d.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const y=l.join("");Ve(Oi,`Creating RPC '${e}' stream ${a}: ${y}`,d);const S=c.createWebChannel(y,d);this.I_(S);let E=!1,C=!1;const I=new Jj({Ho:H=>{C?Ve(Oi,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(E||(Ve(Oi,`Opening RPC '${e}' stream ${a} transport.`),S.open(),E=!0),Ve(Oi,`RPC '${e}' stream ${a} sending:`,H),S.send(H))},Jo:()=>S.close()});return qh(S,Qh.EventType.OPEN,(()=>{C||(Ve(Oi,`RPC '${e}' stream ${a} transport opened.`),I.i_())})),qh(S,Qh.EventType.CLOSE,(()=>{C||(C=!0,Ve(Oi,`RPC '${e}' stream ${a} transport closed`),I.o_(),this.E_(S))})),qh(S,Qh.EventType.ERROR,(H=>{C||(C=!0,Dc(Oi,`RPC '${e}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),I.o_(new Me(we.UNAVAILABLE,"The operation could not be completed")))})),qh(S,Qh.EventType.MESSAGE,(H=>{if(!C){const M=H.data[0];$t(!!M,16349);const W=M,ue=W?.error||W[0]?.error;if(ue){Ve(Oi,`RPC '${e}' stream ${a} received error:`,ue);const X=ue.status;let re=(function(le){const P=Wn[le];if(P!==void 0)return VA(P)})(X),K=ue.message;re===void 0&&(re=we.INTERNAL,K="Unknown error status: "+X+" with message "+ue.message),C=!0,I.o_(new Me(re,K)),S.close()}else Ve(Oi,`RPC '${e}' stream ${a} received:`,M),I.__(M)}})),Nc.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sA()}}function e4(t){return new Nc(t)}function G_(){return typeof document<"u"?document:null}function Ep(t){return new rj(t,!0)}Nc.c_=!1;class eC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const yT="PersistentStream";class tC{constructor(e,n,i,a,l,c,d,_){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(co(n.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Me(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(yT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ve(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t4 extends tC{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oj(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ot.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ot.min():c.readTime?ba(c.readTime):ot.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Py(this.serializer),n.addTarget=(function(l,c){let d;const _=c.target;if(d=Cy(_)?{documents:cj(l,_)}:{query:hj(l,_).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=FA(l,c.resumeToken);const y=Iy(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(ot.min())>0){d.readTime=Fm(l,c.snapshotVersion.toTimestamp());const y=Iy(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const i=dj(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.K_(n)}}class n4 extends tC{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uj(e.writeResults,e.commitTime),i=ba(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Py(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>lj(this.serializer,i)))};this.K_(n)}}class i4{}class r4 extends i4{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Me(we.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Ny(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(we.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Ny(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Me(we.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function s4(t,e,n,i){return new r4(t,e,n,i)}class a4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(co(n),this.aa=!1):Ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vu="RemoteStore";class o4{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Cu(this)&&(Ve(vu,"Restarting streams for network reachability change."),await(async function(_){const y=ct(_);y.Ea.add(4),await Bf(y),y.Va.set("Unknown"),y.Ea.delete(4),await Sp(y)})(this))}))})),this.Va=new a4(i,a)}}async function Sp(t){if(Cu(t))for(const e of t.Ra)await e(!0)}async function Bf(t){for(const e of t.Ra)await e(!1)}function nC(t,e){const n=ct(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dv(n)?Ov(n):Qc(n).O_()&&Lv(n,e))}function Pv(t,e){const n=ct(t),i=Qc(n);n.Ia.delete(e),i.O_()&&iC(n,e),n.Ia.size===0&&(i.O_()?i.L_():Cu(n)&&n.Va.set("Unknown"))}function Lv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qc(t).Z_(e)}function iC(t,e){t.da.$e(e),Qc(t).X_(e)}function Ov(t){t.da=new ej({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qc(t).start(),t.Va.ua()}function Dv(t){return Cu(t)&&!Qc(t).x_()&&t.Ia.size>0}function Cu(t){return ct(t).Ea.size===0}function rC(t){t.da=void 0}async function l4(t){t.Va.set("Online")}async function u4(t){t.Ia.forEach(((e,n)=>{Lv(t,e)}))}async function c4(t,e){rC(t),Dv(t)?(t.Va.ha(e),Ov(t)):t.Va.set("Unknown")}async function h4(t,e,n){if(t.Va.set("Online"),e instanceof BA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){Ve(vu,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $m(t,i)}else if(e instanceof Sm?t.da.Xe(e):e instanceof UA?t.da.st(e):t.da.tt(e),!n.isEqual(ot.min()))try{const i=await JA(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=l.Ia.get(y);S&&l.Ia.set(y,S.withResumeToken(_.resumeToken,c))}})),d.targetMismatches.forEach(((_,y)=>{const S=l.Ia.get(_);if(!S)return;l.Ia.set(_,S.withResumeToken(Si.EMPTY_BYTE_STRING,S.snapshotVersion)),iC(l,_);const E=new al(S.target,_,y,S.sequenceNumber);Lv(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){Ve(vu,"Failed to raise snapshot:",i),await $m(t,i)}}async function $m(t,e,n){if(!Yc(e))throw e;t.Ea.add(1),await Bf(t),t.Va.set("Offline"),n||(n=()=>JA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve(vu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sp(t)}))}function sC(t,e){return e().catch((n=>$m(t,n,e)))}async function Tp(t){const e=ct(t),n=gl(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yv;for(;f4(e);)try{const a=await Zj(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,d4(e,a)}catch(a){await $m(e,a)}aC(e)&&oC(e)}function f4(t){return Cu(t)&&t.Ta.length<10}function d4(t,e){t.Ta.push(e);const n=gl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function aC(t){return Cu(t)&&!gl(t).x_()&&t.Ta.length>0}function oC(t){gl(t).start()}async function m4(t){gl(t).ra()}async function p4(t){const e=gl(t);for(const n of t.Ta)e.ea(n.mutations)}async function g4(t,e,n){const i=t.Ta.shift(),a=xv.from(i,e,n);await sC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Tp(t)}async function _4(t,e){e&&gl(t).Y_&&await(async function(i,a){if((function(c){return QM(c)&&c!==we.ABORTED})(a.code)){const l=i.Ta.shift();gl(i).B_(),await sC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Tp(i)}})(t,e),aC(t)&&oC(t)}async function vT(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Ve(vu,"RemoteStore received new credentials");const i=Cu(n);n.Ea.add(3),await Bf(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sp(n)}async function y4(t,e){const n=ct(t);e?(n.Ea.delete(2),await Sp(n)):e||(n.Ea.add(2),await Bf(n),n.Va.set("Unknown"))}function Qc(t){return t.ma||(t.ma=(function(n,i,a){const l=ct(n);return l.sa(),new t4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:l4.bind(null,t),Yo:u4.bind(null,t),t_:c4.bind(null,t),J_:h4.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Dv(t)?Ov(t):t.Va.set("Unknown")):(await t.ma.stop(),rC(t))}))),t.ma}function gl(t){return t.fa||(t.fa=(function(n,i,a){const l=ct(n);return l.sa(),new n4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:m4.bind(null,t),t_:_4.bind(null,t),ta:p4.bind(null,t),na:g4.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Tp(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(vu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Mv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new Mv(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jv(t,e){if(co("AsyncQueue",`${e}: ${t}`),Yc(t))return new Me(we.UNAVAILABLE,`${e}: ${t}`);throw t}class kc{static emptySet(e){return new kc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ke.comparator(n.key,i.key):(n,i)=>Ke.comparator(n.key,i.key),this.keyedMap=Xh(),this.sortedSet=new xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new kc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class bT{constructor(){this.ga=new xn(Ke.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):tt(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Fc{constructor(e,n,i,a,l,c,d,_,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Fc(e,n,kc.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class v4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class b4{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=ct(n),l=a.queries;a.queries=wT(),l.forEach(((c,d)=>{for(const _ of d.ba)_.onError(i)}))})(this,new Me(we.ABORTED,"Firestore shutting down"))}}function wT(){return new Au((t=>AA(t)),gp)}async function zv(t,e){const n=ct(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new v4,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=jv(c,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Uv(n)}async function Vv(t,e){const n=ct(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function w4(t,e){const n=ct(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&Uv(n)}function E4(t,e,n){const i=ct(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Uv(t){t.Ca.forEach((e=>{e.next()}))}var Dy,ET;(ET=Dy||(Dy={})).Ma="default",ET.Cache="cache";class Bv{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Fc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dy.Cache}}class lC{constructor(e){this.key=e}}class uC{constructor(e){this.key=e}}class S4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=CA(e),this.tu=new kc(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new bT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((S,E)=>{const C=a.get(S),I=_p(this.query,E)?E:null,H=!!C&&this.mutatedKeys.has(C.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let W=!1;C&&I?C.data.isEqual(I.data)?H!==M&&(i.track({type:3,doc:I}),W=!0):this.su(C,I)||(i.track({type:2,doc:I}),W=!0,(_&&this.eu(I,_)>0||y&&this.eu(I,y)<0)&&(d=!0)):!C&&I?(i.track({type:0,doc:I}),W=!0):C&&!I&&(i.track({type:1,doc:C}),W=!0,(_||y)&&(d=!0)),W&&(I?(c=c.add(I),l=M?l.add(S):l.delete(S)):(c=c.delete(S),l=l.delete(S)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const S=this.query.limitType==="F"?c.last():c.first();c=c.delete(S.key),l=l.delete(S.key),i.track({type:1,doc:S})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((S,E)=>(function(I,H){const M=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Vt:W})}};return M(I)-M(H)})(S.type,E.type)||this.eu(S.doc,E.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],_=this.Ya.size===0&&this.current&&!a?1:0,y=_!==this.Xa;return this.Xa=_,c.length!==0||y?{snapshot:new Fc(this.query,e.tu,l,c,e.mutatedKeys,_===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=kt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new uC(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new lC(i))})),n}cu(e){this.Za=e.ks,this.Ya=kt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fv="SyncEngine";class T4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class x4{constructor(e){this.key=e,this.hu=!1}}class A4{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Au((d=>AA(d)),gp),this.Iu=new Map,this.Eu=new Set,this.Ru=new xn(Ke.comparator),this.Au=new Map,this.Vu=new Rv,this.du={},this.mu=new Map,this.fu=Bc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C4(t,e,n=!0){const i=pC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await cC(i,e,n,!0),a}async function R4(t,e){const n=pC(t);await cC(n,e,!0,!1)}async function cC(t,e,n,i){const a=await Gj(t.localStore,va(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await I4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&nC(t.remoteStore,a),d}async function I4(t,e,n,i,a){t.pu=(E,C,I)=>(async function(M,W,ue,X){let re=W.view.ru(ue);re.Ss&&(re=await mT(M.localStore,W.query,!1).then((({documents:P})=>W.view.ru(P,re))));const K=X&&X.targetChanges.get(W.targetId),ne=X&&X.targetMismatches.get(W.targetId)!=null,le=W.view.applyChanges(re,M.isPrimaryClient,K,ne);return TT(M,W.targetId,le.au),le.snapshot})(t,E,C,I);const l=await mT(t.localStore,e,!0),c=new S4(e,l.ks),d=c.ru(l.documents),_=Uf.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),y=c.applyChanges(d,t.isPrimaryClient,_);TT(t,n,y.au);const S=new T4(e,n,c);return t.Tu.set(e,S),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function N4(t,e,n){const i=ct(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!gp(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ly(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Pv(i.remoteStore,a.targetId),My(i,a.targetId)})).catch(Wc)):(My(i,a.targetId),await Ly(i.localStore,a.targetId,!0))}async function k4(t,e){const n=ct(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Pv(n.remoteStore,i.targetId))}async function P4(t,e,n){const i=V4(t);try{const a=await(function(c,d){const _=ct(c),y=mn.now(),S=d.reduce(((I,H)=>I.add(H.key)),kt());let E,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let H=ho(),M=kt();return _.xs.getEntries(I,S).next((W=>{H=W,H.forEach(((ue,X)=>{X.isValidDocument()||(M=M.add(ue))}))})).next((()=>_.localDocuments.getOverlayedDocuments(I,H))).next((W=>{E=W;const ue=[];for(const X of d){const re=ZM(X,E.get(X.key).overlayedDocument);re!=null&&ue.push(new Sl(X.key,re,yA(re.value.mapValue),gs.exists(!0)))}return _.mutationQueue.addMutationBatch(I,y,ue,d)})).next((W=>{C=W;const ue=W.applyToLocalDocumentSet(E,M);return _.documentOverlayCache.saveOverlays(I,W.batchId,ue)}))})).then((()=>({batchId:C.batchId,changes:IA(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,_){let y=c.du[c.currentUser.toKey()];y||(y=new xn(Nt)),y=y.insert(d,_),c.du[c.currentUser.toKey()]=y})(i,a.batchId,n),await Ff(i,a.changes),await Tp(i.remoteStore)}catch(a){const l=jv(a,"Failed to persist write");n.reject(l)}}async function hC(t,e){const n=ct(t);try{const i=await $j(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?$t(c.hu,14607):a.removedDocuments.size>0&&($t(c.hu,42227),c.hu=!1))})),await Ff(n,i,e)}catch(i){await Wc(i)}}function ST(t,e,n){const i=ct(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const _=ct(c);_.onlineState=d;let y=!1;_.queries.forEach(((S,E)=>{for(const C of E.ba)C.va(d)&&(y=!0)})),y&&Uv(_)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function L4(t,e,n){const i=ct(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new xn(Ke.comparator);c=c.insert(l,ji.newNoDocument(l,ot.min()));const d=kt().add(l),_=new wp(ot.min(),new Map,new xn(Nt),c,d);await hC(i,_),i.Ru=i.Ru.remove(l),i.Au.delete(e),Hv(i)}else await Ly(i.localStore,e,!1).then((()=>My(i,e,n))).catch(Wc)}async function O4(t,e){const n=ct(t),i=e.batch.batchId;try{const a=await Hj(n.localStore,e);dC(n,i,null),fC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ff(n,a)}catch(a){await Wc(a)}}async function D4(t,e,n){const i=ct(t);try{const a=await(function(c,d){const _=ct(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,d).next((E=>($t(E!==null,37113),S=E.keys(),_.mutationQueue.removeMutationBatch(y,E)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,d))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(i.localStore,e);dC(i,e,n),fC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ff(i,a)}catch(a){await Wc(a)}}function fC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dC(t,e,n){const i=ct(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function My(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||mC(t,i)}))}function mC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Pv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Hv(t))}function TT(t,e,n){for(const i of n)i instanceof lC?(t.Vu.addReference(i.key,e),M4(t,i)):i instanceof uC?(Ve(Fv,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||mC(t,i.key)):tt(19791,{wu:i})}function M4(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(Ve(Fv,"New document in limbo: "+n),t.Eu.add(i),Hv(t))}function Hv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ke(an.fromString(e)),i=t.fu.next();t.Au.set(i,new x4(n)),t.Ru=t.Ru.insert(n,i),nC(t.remoteStore,new al(va(pp(n.path)),i,"TargetPurposeLimboResolution",fp.ce))}}async function Ff(t,e,n){const i=ct(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,_)=>{c.push(i.pu(_,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const S=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;i.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){a.push(y);const S=Nv.Es(_.targetId,y);l.push(S)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(_,y){const S=ct(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>xe.forEach(y,(C=>xe.forEach(C.Ts,(I=>S.persistence.referenceDelegate.addReference(E,C.targetId,I))).next((()=>xe.forEach(C.Is,(I=>S.persistence.referenceDelegate.removeReference(E,C.targetId,I)))))))))}catch(E){if(!Yc(E))throw E;Ve(kv,"Failed to update sequence numbers: "+E)}for(const E of y){const C=E.targetId;if(!E.fromCache){const I=S.vs.get(C),H=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(H);S.vs=S.vs.insert(C,M)}}})(i.localStore,l))}async function j4(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){Ve(Fv,"User change. New user:",e.toKey());const i=await XA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((_=>{_.reject(new Me(we.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ff(n,i.Ns)}}function z4(t,e){const n=ct(t),i=n.Au.get(e);if(i&&i.hu)return kt().add(i.key);{let a=kt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function pC(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.Pu.J_=w4.bind(null,e.eventManager),e.Pu.yu=E4.bind(null,e.eventManager),e}function V4(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,e),e}class qm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ep(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Fj(this.persistence,new Vj,e.initialUser,this.serializer)}Cu(e){return new QA(Iv.Vi,this.serializer)}Du(e){return new Wj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qm.provider={build:()=>new qm};class U4 extends qm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$t(this.persistence.referenceDelegate instanceof Hm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Tj(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new QA((i=>Hm.Vi(i,n)),this.serializer)}}class jy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ST(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=j4.bind(null,this.syncEngine),await y4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new b4})()}createDatastore(e){const n=Ep(e.databaseInfo.databaseId),i=e4(e.databaseInfo);return s4(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new o4(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>ST(this.syncEngine,n,0)),(function(){return _T.v()?new _T:new Yj})())}createSyncEngine(e,n){return(function(a,l,c,d,_,y,S){const E=new A4(a,l,c,d,_,y);return S&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=ct(n);Ve(vu,"RemoteStore shutting down."),i.Ea.add(5),await Bf(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jy.provider={build:()=>new jy};class $v{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _l="FirestoreClient";class B4{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=Mi.UNAUTHENTICATED,this.clientId=gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ve(_l,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ve(_l,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=jv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function K_(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(_l,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await XA(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F4(t);Ve(_l,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>vT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>vT(e.remoteStore,a))),t._onlineComponents=e}async function F4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(_l,"Using user provided OfflineComponentProvider");try{await K_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Dc("Error using user provided cache. Falling back to memory cache: "+n),await K_(t,new qm)}}else Ve(_l,"Using default OfflineComponentProvider"),await K_(t,new U4(void 0));return t._offlineComponents}async function gC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(_l,"Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(Ve(_l,"Using default OnlineComponentProvider"),await xT(t,new jy))),t._onlineComponents}function H4(t){return gC(t).then((e=>e.syncEngine))}async function Zm(t){const e=await gC(t),n=e.eventManager;return n.onListen=C4.bind(null,e.syncEngine),n.onUnlisten=N4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k4.bind(null,e.syncEngine),n}function $4(t,e,n,i){const a=new $v(i),l=new Bv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>zv(await Zm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Vv(await Zm(t),l)))}}function q4(t,e,n={}){const i=new so;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,_,y){const S=new $v({next:C=>{S.Nu(),c.enqueueAndForget((()=>Vv(l,E)));const I=C.docs.has(d);!I&&C.fromCache?y.reject(new Me(we.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&C.fromCache&&_&&_.source==="server"?y.reject(new Me(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),E=new Bv(pp(d.path),S,{includeMetadataChanges:!0,Ka:!0});return zv(l,E)})(await Zm(t),t.asyncQueue,e,n,i))),i.promise}function Z4(t,e,n={}){const i=new so;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,_,y){const S=new $v({next:C=>{S.Nu(),c.enqueueAndForget((()=>Vv(l,E))),C.fromCache&&_.source==="server"?y.reject(new Me(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),E=new Bv(d,S,{includeMetadataChanges:!0,Ka:!0});return zv(l,E)})(await Zm(t),t.asyncQueue,e,n,i))),i.promise}function G4(t,e){const n=new so;return t.asyncQueue.enqueueAndForget((async()=>P4(await H4(t),e,n))),n.promise}function _C(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const K4="ComponentProvider",AT=new Map;function W4(t,e,n,i,a){return new pM(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,_C(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const yC="firestore.googleapis.com",CT=!0;class RT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yC,this.ssl=CT}else this.host=e.host,this.ssl=e.ssl??CT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ej)throw new Me(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_C(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Me(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new GD;switch(i.type){case"firstParty":return new QD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Me(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=AT.get(n);i&&(Ve(K4,"Removing Datastore"),AT.delete(n),i.terminate())})(this),Promise.resolve()}}function Y4(t,e,n,i={}){t=Yi(t,Hf);const a=qc(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(dx(`https://${d}`),mx("Firestore",!0)),l.host!==yC&&l.host!==d&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...l,host:d,ssl:a,emulatorOptions:i};if(!oo(_,c)&&(t._setSettings(_),i.mockUserToken)){let y,S;if(typeof i.mockUserToken=="string")y=i.mockUserToken,S=Mi.MOCK_USER;else{y=Jk(i.mockUserToken,t._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Me(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Mi(E)}t._authCredentials=new KD(new oA(y,S))}}class Ta{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class On{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}toJSON(){return{type:On._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(zf(n,On._jsonSchema))return new On(e,i||null,new Ke(an.fromString(n.referencePath)))}}On._jsonSchemaVersion="firestore/documentReference/1.0",On._jsonSchema={type:Qn("string",On._jsonSchemaVersion),referencePath:Qn("string")};class hl extends Ta{constructor(e,n,i){super(e,n,pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ke(e))}withConverter(e){return new hl(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=Jn(t),_v("collection","path",e),t instanceof Hf){const i=an.fromString(e,...n);return BS(i),new hl(t,null,i)}{if(!(t instanceof On||t instanceof hl))throw new Me(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(an.fromString(e,...n));return BS(i),new hl(t.firestore,null,i)}}function Q4(t,e){if(t=Yi(t,Hf),_v("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ta(t,null,(function(i){return new xu(an.emptyPath(),i)})(e))}function An(t,e,...n){if(t=Jn(t),arguments.length===1&&(e=gv.newId()),_v("doc","path",e),t instanceof Hf){const i=an.fromString(e,...n);return US(i),new On(t,null,new Ke(i))}{if(!(t instanceof On||t instanceof hl))throw new Me(we.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(an.fromString(e,...n));return US(i),new On(t.firestore,t instanceof hl?t.converter:null,new Ke(i))}}const IT="AsyncQueue";class NT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eC(this,"async_queue_retry"),this._c=()=>{const i=G_();i&&Ve(IT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=G_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=G_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new so;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Yc(e))throw e;Ve(IT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,co("INTERNAL UNHANDLED ERROR: ",kT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Mv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&tt(47125,{Pc:kT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fo extends Hf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new NT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function X4(t,e){const n=typeof t=="object"?t:yx(),i=typeof t=="string"?t:zm,a=rv(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Qk("firestore");l&&Y4(a,...l)}return a}function xp(t){if(t._terminated)throw new Me(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J4(t),t._firestoreClient}function J4(t){const e=t._freezeSettings(),n=W4(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new B4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(Si.fromBase64String(e))}catch(n){throw new Me(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ps(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zf(e,ps._jsonSchema))return ps.fromBase64String(e.bytes)}}ps._jsonSchemaVersion="firestore/bytes/1.0",ps._jsonSchema={type:Qn("string",ps._jsonSchemaVersion),bytes:Qn("string")};class qv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ru{constructor(e){this._methodName=e}}class wa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wa._jsonSchemaVersion}}static fromJSON(e){if(zf(e,wa._jsonSchema))return new wa(e.latitude,e.longitude)}}wa._jsonSchemaVersion="firestore/geoPoint/1.0",wa._jsonSchema={type:Qn("string",wa._jsonSchemaVersion),latitude:Qn("number"),longitude:Qn("number")};class Hs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zf(e,Hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hs(e.vectorValues);throw new Me(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:Qn("string",Hs._jsonSchemaVersion),vectorValues:Qn("object")};const ez=/^__.*__$/;class tz{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(e,this.data,n,this.fieldTransforms)}}class vC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{dataSource:t})}}class Ap{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Gm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bC(this.dataSource)&&ez.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class nz{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ep(e)}createContext(e,n,i,a=!1){return new Ap({dataSource:e,methodName:n,targetDoc:i,path:Ei.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cp(t){const e=t._freezeSettings(),n=Ep(t._databaseId);return new nz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wC(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Yv("Data must be an object, but it was:",c,i);const d=SC(i,c);let _,y;if(l.merge)_=new Kr(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const S=[];for(const E of l.mergeFields){const C=bu(e,E,n);if(!c.contains(C))throw new Me(we.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);AC(S,C)||S.push(C)}_=new Kr(S),y=c.fieldTransforms.filter((E=>_.covers(E.field)))}else _=null,y=c.fieldTransforms;return new tz(new wr(d),_,y)}class Rp extends Ru{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rp}}function EC(t,e,n){return new Ap({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zv extends Ru{_toFieldTransform(e){return new vp(e.path,new Tf)}isEqual(e){return e instanceof Zv}}class Gv extends Ru{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=EC(this,e,!0),i=this.Ac.map((l=>Iu(l,n))),a=new Vc(i);return new vp(e.path,a)}isEqual(e){return e instanceof Gv&&oo(this.Ac,e.Ac)}}class Kv extends Ru{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=EC(this,e,!0),i=this.Ac.map((l=>Iu(l,n))),a=new Uc(i);return new vp(e.path,a)}isEqual(e){return e instanceof Kv&&oo(this.Ac,e.Ac)}}class Wv extends Ru{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new xf(e.serializer,PA(e.serializer,this.Vc));return new vp(e.path,n)}isEqual(e){return e instanceof Wv&&this.Vc===e.Vc}}function iz(t,e,n,i){const a=t.createContext(1,e,n);Yv("Data must be an object, but it was:",a,i);const l=[],c=wr.empty();El(i,((_,y)=>{const S=xC(e,_,n);y=Jn(y);const E=a.childContextForFieldPath(S);if(y instanceof Rp)l.push(S);else{const C=Iu(y,E);C!=null&&(l.push(S),c.set(S,C))}}));const d=new Kr(l);return new vC(c,d,a.fieldTransforms)}function rz(t,e,n,i,a,l){const c=t.createContext(1,e,n),d=[bu(e,i,n)],_=[a];if(l.length%2!=0)throw new Me(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<l.length;C+=2)d.push(bu(e,l[C])),_.push(l[C+1]);const y=[],S=wr.empty();for(let C=d.length-1;C>=0;--C)if(!AC(y,d[C])){const I=d[C];let H=_[C];H=Jn(H);const M=c.childContextForFieldPath(I);if(H instanceof Rp)y.push(I);else{const W=Iu(H,M);W!=null&&(y.push(I),S.set(I,W))}}const E=new Kr(y);return new vC(S,E,c.fieldTransforms)}function sz(t,e,n,i=!1){return Iu(n,t.createContext(i?4:3,e))}function Iu(t,e){if(TC(t=Jn(t)))return Yv("Unsupported field value:",e,t),SC(t,e);if(t instanceof Ru)return(function(i,a){if(!bC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let _=Iu(d,a.childContextForArray(c));_==null&&(_={nullValue:"NULL_VALUE"}),l.push(_),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PA(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mn.fromDate(i);return{timestampValue:Fm(a.serializer,l)}}if(i instanceof mn){const l=new mn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fm(a.serializer,l)}}if(i instanceof wa)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ps)return{bytesValue:FA(a.serializer,i._byteString)};if(i instanceof On){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Hs)return(function(c,d){const _=c instanceof Hs?c.toArray():c;return{mapValue:{fields:{[gA]:{stringValue:_A},[Vm]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw d.createError("VectorValues must only contain numeric values.");return Sv(d.serializer,S)}))}}}}}})(i,a);if(WA(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${hp(i)}`)})(t,e)}function SC(t,e){const n={};return cA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(t,((i,a)=>{const l=Iu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function TC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof wa||t instanceof ps||t instanceof On||t instanceof Ru||t instanceof Hs||WA(t))}function Yv(t,e,n){if(!TC(n)||!lA(n)){const i=hp(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function bu(t,e,n){if((e=Jn(e))instanceof qv)return e._internalPath;if(typeof e=="string")return xC(t,e);throw Gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const az=new RegExp("[~\\*/\\[\\]]");function xC(t,e,n){if(e.search(az)>=0)throw Gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qv(...e.split("."))._internalPath}catch{throw Gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gm(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${i}`),c&&(_+=` in document ${a}`),_+=")"),new Me(we.INVALID_ARGUMENT,d+t+_)}function AC(t,e){return t.some((n=>n.isEqual(e)))}class oz{convertValue(e,n="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return El(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Vm].arrayValue?.values?.map((i=>zn(i.doubleValue)));return new Hs(n)}convertGeoPoint(e){return new wa(zn(e.latitude),zn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=mp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const n=dl(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=an.fromString(e);$t(KA(i),9688,{name:e});const a=new wf(i.get(1),i.get(3)),l=new Ke(i.popFirst(5));return a.isEqual(n)||co(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Qv extends oz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function gi(){return new Zv("serverTimestamp")}function lz(...t){return new Gv("arrayUnion",t)}function uz(...t){return new Kv("arrayRemove",t)}function Af(t){return new Wv("increment",t)}const PT="@firebase/firestore",LT="4.10.0";function OT(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class CC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(bu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cz extends CC{data(){return super.data()}}function RC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xv{}class Jv extends Xv{}function Sn(t,e,...n){let i=[];e instanceof Xv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((_=>_ instanceof eb)).length,d=l.filter((_=>_ instanceof Ip)).length;if(c>1||c>0&&d>0)throw new Me(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Ip extends Jv{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ip(e,n,i)}_apply(e){const n=this._parse(e);return IC(e._query,n),new Ta(e.firestore,e.converter,Ry(e._query,n))}_parse(e){const n=Cp(e.firestore);return(function(l,c,d,_,y,S,E){let C;if(y.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new Me(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){MT(E,S);const H=[];for(const M of E)H.push(DT(_,l,M));C={arrayValue:{values:H}}}else C=DT(_,l,E)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||MT(E,S),C=sz(d,c,E,S==="in"||S==="not-in");return Yn.create(y,S,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mi(t,e,n){const i=e,a=bu("where",t);return Ip._create(a,i,n)}class eb extends Xv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eb(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const _ of d)IC(c,_),c=Ry(c,_)})(e._query,n),new Ta(e.firestore,e.converter,Ry(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tb extends Jv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tb(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new Me(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Me(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sf(l,c)})(e._query,this._field,this._direction);return new Ta(e.firestore,e.converter,LM(e._query,n))}}function Nu(t,e="asc"){const n=e,i=bu("orderBy",t);return tb._create(i,n)}class nb extends Jv{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new nb(e,n,i)}_apply(e){return new Ta(e.firestore,e.converter,Bm(e._query,this._limit,this._limitType))}}function go(t){return rM("limit",t),nb._create("limit",t,"F")}function DT(t,e,n){if(typeof(n=Jn(n))=="string"){if(n==="")throw new Me(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xA(e)&&n.indexOf("/")!==-1)throw new Me(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(an.fromString(n));if(!Ke.isDocumentKey(i))throw new Me(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return WS(t,new Ke(i))}if(n instanceof On)return WS(t,n._key);throw new Me(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(n)}.`)}function MT(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IC(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Me(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function NC(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class ef{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends CC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(bu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fu._jsonSchemaVersion="firestore/documentSnapshot/1.0",fu._jsonSchema={type:Qn("string",fu._jsonSchemaVersion),bundleSource:Qn("string","DocumentSnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class Tm extends fu{data(e={}){return super.data(e)}}class du{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ef(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Tm(this._firestore,this._userDataWriter,i.key,i,new ef(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const _=new Tm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ef(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:_,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const _=new Tm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ef(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,S=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),S=c.indexOf(d.doc.key)),{type:hz(d.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt(61501,{type:t})}}du._jsonSchemaVersion="firestore/querySnapshot/1.0",du._jsonSchema={type:Qn("string",du._jsonSchemaVersion),bundleSource:Qn("string","QuerySnapshot"),bundleName:Qn("string"),bundle:Qn("string")};function vs(t){t=Yi(t,On);const e=Yi(t.firestore,fo),n=xp(e);return q4(n,t._key).then((i=>kC(e,t,i)))}function Ws(t){t=Yi(t,Ta);const e=Yi(t.firestore,fo),n=xp(e),i=new Qv(e);return RC(t._query),Z4(n,t._query).then((a=>new du(e,i,t,a)))}function Np(t,e,n){t=Yi(t,On);const i=Yi(t.firestore,fo),a=NC(t.converter,e),l=Cp(i);return Pp(i,[wC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,gs.none())])}function Sa(t,e,n,...i){t=Yi(t,On);const a=Yi(t.firestore,fo),l=Cp(a);let c;return c=typeof(e=Jn(e))=="string"||e instanceof qv?rz(l,"updateDoc",t._key,e,n,i):iz(l,"updateDoc",t._key,e),Pp(a,[c.toMutation(t._key,gs.exists(!0))])}function kp(t){return Pp(Yi(t.firestore,fo),[new Tv(t._key,gs.none())])}function Xc(t,e){const n=Yi(t.firestore,fo),i=An(t),a=NC(t.converter,e),l=Cp(t.firestore);return Pp(n,[wC(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,gs.exists(!1))]).then((()=>i))}function ib(t,...e){t=Jn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||OT(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OT(e[i])){const y=e[i];e[i]=y.next?.bind(y),e[i+1]=y.error?.bind(y),e[i+2]=y.complete?.bind(y)}let l,c,d;if(t instanceof On)c=Yi(t.firestore,fo),d=pp(t._key.path),l={next:y=>{e[i]&&e[i](kC(c,t,y))},error:e[i+1],complete:e[i+2]};else{const y=Yi(t,Ta);c=Yi(y.firestore,fo),d=y._query;const S=new Qv(c);l={next:E=>{e[i]&&e[i](new du(c,S,y,E))},error:e[i+1],complete:e[i+2]},RC(t._query)}const _=xp(c);return $4(_,d,a,l)}function Pp(t,e){const n=xp(t);return G4(n,e)}function kC(t,e,n){const i=n.docs.get(e._key),a=new Qv(t);return new fu(t,a,e._key,i,new ef(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ZD(Zc),Lc(new pu("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new fo(new WD(i.getProvider("auth-internal")),new XD(c,i.getProvider("app-check-internal")),gM(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ul(PT,LT,e),ul(PT,LT,"esm2020")})();const zy={apiKey:"AIzaSyBfg-tcByksaPDyq5XzlA5y04EZFawBSxg",authDomain:"uprole-7dc7f.firebaseapp.com",projectId:"uprole-7dc7f",storageBucket:"uprole-7dc7f.firebasestorage.app",messagingSenderId:"643016841326",appId:"1:643016841326:web:abc8d44ea0d564afb26e7f"},Vy=!!(zy.apiKey&&zy.projectId);let W_=null,wu=null,ht=null;if(Vy)try{W_=_x(zy),wu=$D(W_),ht=X4(W_)}catch(t){console.error("Firebase initialization error:",t)}else console.warn(`Firebase is not configured. Please add your Firebase config to .env file.
Copy .env.example to .env and fill in your Firebase credentials.`);const xa=Fk((t,e)=>({user:null,profile:null,loading:Vy,error:null,initialize:()=>!Vy||!wu?(t({loading:!1}),()=>{}):PO(wu,async i=>{if(i){t({user:i,loading:!0});try{const{getUserProfile:a,createUserProfile:l}=await zk(async()=>{const{getUserProfile:d,createUserProfile:_}=await Promise.resolve().then(()=>pV);return{getUserProfile:d,createUserProfile:_}},[]);let c=await a(i.uid);c||(c=await l(i.uid,{displayName:i.displayName||"",email:i.email,photoURL:i.photoURL||"",bio:"",location:null,languages:[]})),t({profile:c,loading:!1,error:null})}catch(a){console.error("Error fetching profile:",a),t({error:a.message,loading:!1})}}else t({user:null,profile:null,loading:!1,error:null})}),setProfile:n=>t({profile:n}),updateProfile:n=>{const i=e().profile;t({profile:{...i,...n}})},clearError:()=>t({error:null})})),fz=new eo,dz=async(t,e,n)=>{const i=await AO(wu,t,e);return await IO(i.user,{displayName:n}),i.user},mz=async(t,e)=>(await CO(wu,t,e)).user,PC=async()=>(await JO(wu,fz)).user,pz=async()=>{await LO(wu)},rb="notifications",ku={FOLLOW:"follow",MESSAGE:"message",LIKE:"like",COMMENT:"comment",SHARE:"share",NEW_SKILL:"new_skill",NEW_VIDEO:"new_video"},Jc=async(t,e,n)=>{if(!(!t||!e))try{await Xc(ri(ht,rb),{recipientId:t,type:e,data:n,read:!1,createdAt:gi()})}catch(i){console.error("Error creating notification:",i)}},gz=(t,e)=>{if(!t)return()=>{};const n=ri(ht,rb),i=Sn(n,mi("recipientId","==",t),go(20));return ib(i,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));l.sort((c,d)=>(d.createdAt?.seconds||0)-(c.createdAt?.seconds||0)),e(l)})},_z=async t=>{if(!t)return;const e=An(ht,rb,t);await Sa(e,{read:!0})},Eu="conversations",sb="messages",yz=(t,e)=>{const n=[t,e].sort();return`${n[0]}_${n[1]}`},vz=async(t,e)=>{if(!t||!e||t===e)throw new Error("Invalid conversation request");const n=yz(t,e),i=An(ht,Eu,n),a=await vs(i);if(a.exists())return{id:a.id,...a.data()};const l={participants:[t,e],createdAt:gi(),updatedAt:gi(),lastMessage:null};return await Np(i,l),{id:n,...l}},bz=async(t,e,n)=>{if(!t||!e||!n.trim())throw new Error("Invalid message");const i=ri(ht,Eu,t,sb),a={senderId:e,text:n.trim(),createdAt:gi(),read:!1},l=await Xc(i,a),c=An(ht,Eu,t),d=await vs(c);if(d.exists()){const y=d.data().participants.find(E=>E!==e),S={lastMessage:{text:n.trim(),senderId:e,createdAt:gi()},updatedAt:gi()};y&&(S[`unreadCount_${y}`]=Af(1)),await Sa(c,S),y&&await Jc(y,ku.MESSAGE,{conversationId:t,senderId:e,text:n.trim().substring(0,50)+(n.length>50?"...":"")})}return{id:l.id,...a}},wz=(t,e)=>{if(!t)return console.error("No conversation ID provided"),()=>{};const n=ri(ht,Eu,t,sb),i=Sn(n,Nu("createdAt","asc"));return ib(i,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));e(l)})},LC=(t,e)=>{if(!t)return console.error("No user ID provided"),()=>{};const n=ri(ht,Eu),i=Sn(n,mi("participants","array-contains",t));return ib(i,async a=>{const l=a.docs.map(c=>{const d=c.data();return{id:c.id,...d,unreadCount:d[`unreadCount_${t}`]||0}});l.sort((c,d)=>(d.updatedAt?.seconds||0)-(c.updatedAt?.seconds||0)),e(l)})},Ez=async(t,e)=>{if(!t||!e)return;const n=An(ht,Eu,t),i={};i[`unreadCount_${e}`]=0,await Sa(n,i);const a=ri(ht,Eu,t,sb),l=Sn(a,mi("read","==",!1),mi("senderId","!=",e)),d=(await Ws(l)).docs.map(_=>Sa(_.ref,{read:!0}));await Promise.all(d)},Y_=(t,e)=>{U.useEffect(()=>{function n(i){t.current&&!t.current.contains(i.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t,e])},om=43200,jT=1440,zT=Symbol.for("constructDateFrom");function ab(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zT in t?t[zT](e):t instanceof Date?new t.constructor(e):new Date(e)}function yl(t,e){return ab(t,t)}let Sz={};function Tz(){return Sz}function VT(t){const e=yl(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ob(t,...e){const n=ab.bind(null,t||e.find(i=>typeof i=="object"));return e.map(n)}function xm(t,e){const n=+yl(t)-+yl(e);return n<0?-1:n>0?1:n}function xz(t){return ab(t,Date.now())}function Az(t,e,n){const[i,a]=ob(n?.in,t,e),l=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return l*12+c}function Cz(t){return e=>{const i=(t?Math[t]:Math.trunc)(e);return i===0?0:i}}function Rz(t,e){return+yl(t)-+yl(e)}function Iz(t,e){const n=yl(t);return n.setHours(23,59,59,999),n}function Nz(t,e){const n=yl(t),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function kz(t,e){const n=yl(t);return+Iz(n)==+Nz(n)}function Pz(t,e,n){const[i,a,l]=ob(n?.in,t,t,e),c=xm(a,l),d=Math.abs(Az(a,l));if(d<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-c*d);let _=xm(a,l)===-c;kz(i)&&d===1&&xm(i,l)===1&&(_=!1);const y=c*(d-+_);return y===0?0:y}function Lz(t,e,n){const i=Rz(t,e)/1e3;return Cz(n?.roundingMethod)(i)}const Oz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dz=(t,e,n)=>{let i;const a=Oz[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Q_(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Mz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vz={date:Q_({formats:Mz,defaultWidth:"full"}),time:Q_({formats:jz,defaultWidth:"full"}),dateTime:Q_({formats:zz,defaultWidth:"full"})},Uz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bz=(t,e,n,i)=>Uz[t];function Zh(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n?.width?String(n.width):c;a=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n?.width?String(n.width):t.defaultWidth;a=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const Fz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$z={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kz=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Wz={ordinalNumber:Kz,era:Zh({values:Fz,defaultWidth:"wide"}),quarter:Zh({values:Hz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zh({values:$z,defaultWidth:"wide"}),day:Zh({values:qz,defaultWidth:"wide"}),dayPeriod:Zh({values:Zz,defaultWidth:"wide",formattingValues:Gz,defaultFormattingWidth:"wide"})};function Gh(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],d=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],_=Array.isArray(d)?Qz(d,E=>E.test(c)):Yz(d,E=>E.test(c));let y;y=t.valueCallback?t.valueCallback(_):_,y=n.valueCallback?n.valueCallback(y):y;const S=e.slice(c.length);return{value:y,rest:S}}}function Yz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Qz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Xz(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}const Jz=/^(\d+)(th|st|nd|rd)?/i,eV=/\d+/i,tV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nV={any:[/^b/i,/^(a|c)/i]},iV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rV={any:[/1/i,/2/i,/3/i,/4/i]},sV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hV={ordinalNumber:Xz({matchPattern:Jz,parsePattern:eV,valueCallback:t=>parseInt(t,10)}),era:Gh({matchPatterns:tV,defaultMatchWidth:"wide",parsePatterns:nV,defaultParseWidth:"any"}),quarter:Gh({matchPatterns:iV,defaultMatchWidth:"wide",parsePatterns:rV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gh({matchPatterns:sV,defaultMatchWidth:"wide",parsePatterns:aV,defaultParseWidth:"any"}),day:Gh({matchPatterns:oV,defaultMatchWidth:"wide",parsePatterns:lV,defaultParseWidth:"any"}),dayPeriod:Gh({matchPatterns:uV,defaultMatchWidth:"any",parsePatterns:cV,defaultParseWidth:"any"})},fV={code:"en-US",formatDistance:Dz,formatLong:Vz,formatRelative:Bz,localize:Wz,match:hV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dV(t,e,n){const i=Tz(),a=n?.locale??i.locale??fV,l=2520,c=xm(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:c}),[_,y]=ob(n?.in,...c>0?[e,t]:[t,e]),S=Lz(y,_),E=(VT(y)-VT(_))/1e3,C=Math.round((S-E)/60);let I;if(C<2)return n?.includeSeconds?S<5?a.formatDistance("lessThanXSeconds",5,d):S<10?a.formatDistance("lessThanXSeconds",10,d):S<20?a.formatDistance("lessThanXSeconds",20,d):S<40?a.formatDistance("halfAMinute",0,d):S<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):C===0?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",C,d);if(C<45)return a.formatDistance("xMinutes",C,d);if(C<90)return a.formatDistance("aboutXHours",1,d);if(C<jT){const H=Math.round(C/60);return a.formatDistance("aboutXHours",H,d)}else{if(C<l)return a.formatDistance("xDays",1,d);if(C<om){const H=Math.round(C/jT);return a.formatDistance("xDays",H,d)}else if(C<om*2)return I=Math.round(C/om),a.formatDistance("aboutXMonths",I,d)}if(I=Pz(y,_),I<12){const H=Math.round(C/om);return a.formatDistance("xMonths",H,d)}else{const H=I%12,M=Math.trunc(I/12);return H<3?a.formatDistance("aboutXYears",M,d):H<9?a.formatDistance("overXYears",M,d):a.formatDistance("almostXYears",M+1,d)}}function $f(t,e){return dV(t,xz(t),e)}const eh="users",lb="usernames",OC=async(t,e)=>{const n=An(ht,eh,t),i={...e,createdAt:gi(),updatedAt:gi(),isPublic:!0};return await Np(n,i),i},Aa=async t=>{const e=An(ht,eh,t),n=await vs(e);return n.exists()?{id:n.id,...n.data()}:null},DC=async(t,e)=>{const n=An(ht,eh,t),i={...e,updatedAt:gi()};if(await Sa(n,i),e.username){const a=An(ht,lb,e.username.toLowerCase());await Np(a,{userId:t})}return i},MC=async t=>{if(!t)return!1;const e=An(ht,lb,t.toLowerCase());return!(await vs(e)).exists()},jC=async t=>{if(!t)return null;const e=An(ht,lb,t.toLowerCase()),n=await vs(e);if(!n.exists())return null;const{userId:i}=n.data();return Aa(i)},mV=async t=>{const e=An(ht,eh,t);await kp(e)},ub=async(t,e=50)=>{const n=ri(ht,eh),i=Sn(n,mi("isPublic","==",!0),go(e));return(await Ws(i)).docs.map(c=>({id:c.id,...c.data()})).sort((c,d)=>(c.displayName||"").localeCompare(d.displayName||""))},zC=async(t=6)=>{const e=ri(ht,eh),n=Sn(e,mi("isPublic","==",!0),go(20));return(await Ws(n)).docs.map(l=>({id:l.id,...l.data()})).sort((l,c)=>(c.createdAt?.seconds||0)-(l.createdAt?.seconds||0)).slice(0,t)},VC=async t=>{if(!t||t.length===0)return[];try{const n=[...new Set(t)].map(a=>Aa(a));return(await Promise.all(n)).filter(a=>a!==null)}catch(e){return console.error("Error fetching users by IDs:",e),[]}},pV=Object.freeze(Object.defineProperty({__proto__:null,createUserProfile:OC,deleteUserProfile:mV,getFeaturedUsers:zC,getUserByUsername:jC,getUserProfile:Aa,getUsersByIds:VC,isUsernameAvailable:MC,searchUsers:ub,updateUserProfile:DC},Symbol.toStringTag,{value:"Module"})),gV="_dropdown_i7rtc_1",_V="_header_i7rtc_18",yV="_list_i7rtc_29",vV="_empty_i7rtc_34",bV="_item_i7rtc_40",wV="_unread_i7rtc_59",EV="_avatar_i7rtc_63",SV="_initials_i7rtc_81",TV="_content_i7rtc_87",xV="_text_i7rtc_92",AV="_preview_i7rtc_102",CV="_time_i7rtc_111",RV="_dot_i7rtc_116",yr={dropdown:gV,header:_V,list:yV,empty:vV,item:bV,unread:wV,avatar:EV,initials:SV,content:TV,text:xV,preview:AV,time:CV,dot:RV},IV=({notifications:t,onClose:e})=>{const[n,i]=U.useState([]),[a,l]=U.useState(!0);U.useEffect(()=>{(async()=>{const _=await Promise.all(t.map(async y=>{const S=y.data?.userId||y.data?.followerId||y.data?.senderId;if(S)try{const E=await Aa(S);return{...y,sender:E}}catch(E){console.error("Error fetching sender profile:",E)}return y}));i(_),l(!1)})()},[t]);const c=async d=>{d.read||await _z(d.id),e()};return b.jsxs("div",{className:yr.dropdown,children:[b.jsx("div",{className:yr.header,children:b.jsx("h3",{children:"Notifications"})}),b.jsx("div",{className:yr.list,children:a?b.jsx("div",{className:yr.empty,children:"Loading..."}):n.length===0?b.jsx("div",{className:yr.empty,children:"No notifications yet"}):n.map(d=>b.jsxs(xt,{to:d.type==="follow"?`/@${d.sender?.username||""}`:d.type==="like"||d.type==="comment"||d.type==="share"?`/profile/${d.recipientId}`:d.type==="new_skill"||d.type==="new_video"?`/profile/${d.data?.userId||""}`:`/messages/${d.data?.conversationId||""}`,className:`${yr.item} ${d.read?"":yr.unread}`,onClick:()=>c(d),children:[b.jsx("div",{className:yr.avatar,children:d.sender?.photoURL?b.jsx("img",{src:d.sender.photoURL,alt:d.sender.displayName}):b.jsx("div",{className:yr.initials,children:d.sender?.displayName?.charAt(0)||"?"})}),b.jsxs("div",{className:yr.content,children:[b.jsxs("p",{className:yr.text,children:[b.jsx("strong",{children:d.sender?.displayName||"Someone"})," ",d.type==="follow"&&"followed you",d.type==="message"&&"sent you a message",d.type==="like"&&"liked your post",d.type==="comment"&&"commented on your post",d.type==="share"&&"shared your post",d.type==="new_skill"&&`added a new skill: ${d.data?.subcategory||d.data?.category||"a skill"}`,d.type==="new_video"&&`added ${d.data?.videoCount>1?`${d.data.videoCount} new videos`:"a new video"} to ${d.data?.subcategory||"their skill"}`]}),d.type==="message"&&d.data?.text&&b.jsx("p",{className:yr.preview,children:d.data.text}),b.jsx("span",{className:yr.time,children:d.createdAt?.toDate?$f(d.createdAt.toDate(),{addSuffix:!0}):"Just now"})]}),!d.read&&b.jsx("div",{className:yr.dot})]},d.id))})]})},NV="_dropdown_1ycfp_1",kV="_header_1ycfp_18",PV="_viewAll_1ycfp_32",LV="_list_1ycfp_43",OV="_empty_1ycfp_48",DV="_item_1ycfp_54",MV="_unread_1ycfp_73",jV="_avatar_1ycfp_77",zV="_initials_1ycfp_95",VV="_content_1ycfp_101",UV="_nameRow_1ycfp_106",BV="_name_1ycfp_106",FV="_time_1ycfp_121",HV="_lastMessage_1ycfp_127",$V="_dot_1ycfp_141",Di={dropdown:NV,header:kV,viewAll:PV,list:LV,empty:OV,item:DV,unread:MV,avatar:jV,initials:zV,content:VV,nameRow:UV,name:BV,time:FV,lastMessage:HV,dot:$V},qV=({conversations:t,currentUserId:e,onClose:n})=>{const[i,a]=U.useState([]),[l,c]=U.useState(!0);return U.useEffect(()=>{const d=async()=>{const _=await Promise.all(t.map(async y=>{const S=y.participants.find(E=>E!==e);try{const E=await Aa(S);return{...y,otherUser:E}}catch(E){return console.error("Error fetching other user profile:",E),y}}));a(_),c(!1)};e&&t.length>0?d():c(!1)},[t,e]),b.jsxs("div",{className:Di.dropdown,children:[b.jsxs("div",{className:Di.header,children:[b.jsx("h3",{children:"Messages"}),b.jsx(xt,{to:"/messages",className:Di.viewAll,onClick:n,children:"See all in Messenger"})]}),b.jsx("div",{className:Di.list,children:l?b.jsx("div",{className:Di.empty,children:"Loading..."}):i.length===0?b.jsx("div",{className:Di.empty,children:"No messages yet"}):i.map(d=>b.jsxs(xt,{to:`/messages/${d.id}`,className:`${Di.item} ${d.unreadCount>0?Di.unread:""}`,onClick:n,children:[b.jsx("div",{className:Di.avatar,children:d.otherUser?.photoURL?b.jsx("img",{src:d.otherUser.photoURL,alt:d.otherUser.displayName}):b.jsx("div",{className:Di.initials,children:d.otherUser?.displayName?.charAt(0)||"?"})}),b.jsxs("div",{className:Di.content,children:[b.jsxs("div",{className:Di.nameRow,children:[b.jsx("span",{className:Di.name,children:d.otherUser?.displayName}),b.jsx("span",{className:Di.time,children:d.updatedAt?$f(d.updatedAt.toDate(),{addSuffix:!0}):""})]}),b.jsxs("p",{className:Di.lastMessage,children:[d.lastMessage?.senderId===e?"You: ":"",d.lastMessage?.text]})]}),d.unreadCount>0&&b.jsx("div",{className:Di.dot})]},d.id))})]})},qf="follows",ZV=async(t,e)=>{if(!t||!e||t===e)throw new Error("Invalid follow request");const n=`${t}_${e}`,i=An(ht,qf,n);return await Np(i,{followerId:t,followingId:e,createdAt:gi()}),await Jc(e,ku.FOLLOW,{followerId:t,type:"follow"}),!0},GV=async(t,e)=>{if(!t||!e)throw new Error("Invalid unfollow request");const n=`${t}_${e}`,i=An(ht,qf,n);return await kp(i),!0},KV=async(t,e)=>{if(!t||!e)return!1;const n=`${t}_${e}`,i=An(ht,qf,n);return(await vs(i)).exists()},Uy=async(t,e=50)=>{if(!t)return[];const n=ri(ht,qf),i=Sn(n,mi("followerId","==",t),go(e));return(await Ws(i)).docs.map(l=>({id:l.id,...l.data()}))},By=async(t,e=50)=>{if(!t)return[];const n=ri(ht,qf),i=Sn(n,mi("followingId","==",t),go(e));return(await Ws(i)).docs.map(l=>({id:l.id,...l.data()}))},th="skills",UC=async(t,e,n)=>{try{const a=(await By(t,1e3)).map(l=>Jc(l.followerId,e,{...n,userId:t}));await Promise.all(a)}catch(i){console.error("Error notifying followers:",i)}},WV=async(t,e)=>{console.log("skillsService: addSkill called",{userId:t,skillData:e});try{const n=ri(ht,"users",t,th),a={...JSON.parse(JSON.stringify(e)),createdAt:gi(),updatedAt:gi()};console.log("skillsService: saving data",a);const l=await Xc(n,a);return console.log("skillsService: docRef id",l.id),await UC(t,ku.NEW_SKILL,{skillId:l.id,category:e.category,subcategory:e.subcategory}),{id:l.id,...a}}catch(n){throw console.error("skillsService: error in addSkill",n),n}},YV=async(t,e)=>{const n=An(ht,"users",t,th,e),i=await vs(n);return i.exists()?{id:i.id,...i.data()}:null},Fy=async t=>{const e=ri(ht,"users",t,th),n=Sn(e,Nu("createdAt","desc"));return(await Ws(n)).docs.map(a=>({id:a.id,...a.data()}))},QV=async(t,e,n)=>{const i=An(ht,"users",t,th,e),a=await vs(i),l=a.exists()?a.data():null,c={...n,updatedAt:gi()};if(await Sa(i,c),l&&n.youtubeLinks){const d=l.youtubeLinks||[],y=(n.youtubeLinks||[]).filter(S=>S&&!d.includes(S));y.length>0&&await UC(t,ku.NEW_VIDEO,{skillId:e,category:n.category||l.category,subcategory:n.subcategory||l.subcategory,videoCount:y.length})}return c},XV=async(t,e)=>{const n=An(ht,"users",t,th,e);await kp(n)},JV=async(t={},e=20)=>{const n=Q4(ht,th);let i=Sn(n);return t.category&&(Array.isArray(t.category)&&t.category.length>0?i=Sn(i,mi("category","in",t.category)):Array.isArray(t.category)||(i=Sn(i,mi("category","==",t.category)))),t.subcategory&&(Array.isArray(t.subcategory)&&t.subcategory.length>0?i=Sn(i,mi("subcategory","in",t.subcategory)):Array.isArray(t.subcategory)||(i=Sn(i,mi("subcategory","==",t.subcategory)))),t.experienceLevel&&(Array.isArray(t.experienceLevel)&&t.experienceLevel.length>0?i=Sn(i,mi("skillLevel","in",t.experienceLevel)):Array.isArray(t.experienceLevel)||(i=Sn(i,mi("skillLevel","==",t.experienceLevel)))),t.availability&&(Array.isArray(t.availability)&&t.availability.length>0?i=Sn(i,mi("availability","in",t.availability)):Array.isArray(t.availability)||(i=Sn(i,mi("availability","==",t.availability)))),i=Sn(i,Nu("createdAt","desc"),go(e)),(await Ws(i)).docs.map(l=>({id:l.id,userId:l.ref.parent.parent.id,...l.data()}))},pi={MUSIC:"Music",SPORTS:"Sports",ACTING:"Acting",DANCE:"Dance",CIRCUS:"Circus Arts",OTHER:"Other"},Km={[pi.MUSIC]:["Guitar","Piano","Vocals","Drums","Bass","Violin","Saxophone","Production","DJ","Other"],[pi.SPORTS]:["Football","Basketball","Tennis","Swimming","Athletics","Martial Arts","Yoga","Fitness","Other"],[pi.ACTING]:["Theatre","Film","Voice Acting","Improv","Stunt","Commercial","Other"],[pi.DANCE]:["Ballet","Contemporary","Hip Hop","Jazz","Tap","Ballroom","Latin","Folk","Other"],[pi.CIRCUS]:["Acrobatics","Juggling","Aerial","Clowning","Contortion","Balance","Fire","Magic","Other"],[pi.OTHER]:["Other"]},e3={[pi.MUSIC]:["Rock","Pop","Latin","Funk","Classical","Jazz","Metal"],[pi.ACTING]:["Comedy","Drama","Still","Expressive","Improv","Method"],[pi.SPORTS]:["Street","Vert","Freestyle","Competitive","Recreational"],[pi.DANCE]:["Ballet","Contemporary","Hip Hop","Jazz","Tap","Ballroom"],[pi.CIRCUS]:["Acrobatics","Juggling","Aerial","Clowning"]},t3=["Education","Self-taught"],n3=["Every day","Every second day","Once a week","Once in a while"],BC=["Beginner","Experienced","Advanced","Pro"],i3=["available","maybe","busy"],r3=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],FC=new Date().getFullYear(),s3=Array.from({length:80},(t,e)=>FC-e),a3=async t=>{if(!t||t.length<2)return[];const e=t.toLowerCase(),n=[];Object.values(pi).forEach(i=>{i.toLowerCase().includes(e)&&n.push({type:"category",label:i,value:i})}),Object.entries(Km).forEach(([i,a])=>{a.forEach(l=>{l.toLowerCase().includes(e)&&n.push({type:"subcategory",label:l,value:l,category:i})})});try{(await ub(t,5)).forEach(a=>{n.push({type:"user",label:a.displayName,value:a.username||a.id,id:a.id,image:a.photoURL,subtext:a.username?`@${a.username}`:""})})}catch(i){console.error("Error fetching user suggestions",i)}try{const i=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&limit=3&featuretype=city`);i.ok&&(await i.json()).forEach(l=>{const c=l.display_name.split(", "),d=c.length>2?`${c[0]}, ${c[c.length-1]}`:l.display_name;n.push({type:"location",label:d,value:d,lat:l.lat,lon:l.lon})})}catch(i){console.error("Error fetching location suggestions",i)}return n},o3="_wrapper_fsveq_1",l3="_inputWrapper_fsveq_7",u3="_searchIcon_fsveq_24",c3="_input_fsveq_7",h3="_clearBtn_fsveq_40",f3="_dropdown_fsveq_56",d3="_group_fsveq_70",m3="_groupTitle_fsveq_79",p3="_item_fsveq_88",g3="_icon_fsveq_101",_3="_avatar_fsveq_105",y3="_avatarPlaceholder_fsveq_112",v3="_label_fsveq_125",b3="_subtext_fsveq_130",en={wrapper:o3,inputWrapper:l3,searchIcon:u3,input:c3,clearBtn:h3,dropdown:f3,group:d3,groupTitle:m3,item:p3,icon:g3,avatar:_3,avatarPlaceholder:y3,label:v3,subtext:b3},HC=({initialValue:t="",onSearch:e,placeholder:n})=>{const{t:i}=xi(),a=Ks(),[l,c]=U.useState(t),[d,_]=U.useState([]),[y,S]=U.useState(!1),[E,C]=U.useState(!1),I=U.useRef(null);U.useEffect(()=>{c(t)},[t]),U.useEffect(()=>{const K=ne=>{I.current&&!I.current.contains(ne.target)&&S(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]),U.useEffect(()=>{const ne=setTimeout(async()=>{if(l.trim().length<2){_([]);return}C(!0);try{const le=await a3(l);_(le),S(H(le))}catch(le){console.error("Error fetching suggestions:",le)}finally{C(!1)}},300);return()=>clearTimeout(ne)},[l]);const H=K=>K.length>0,M=K=>{c(K.target.value),!y&&K.target.value.length>=2&&S(!0)},W=K=>{c(K.label),S(!1),K.type==="user"?a(K.value.startsWith("@")?`/${K.value}`:`/profile/${K.id}`):e?e(K.value,K.type):a(`/search?q=${encodeURIComponent(K.value)}&type=${K.type}`)},ue=K=>{K.preventDefault(),S(!1),e?e(l):a(`/search?q=${encodeURIComponent(l)}`)},re=((K,ne)=>K.reduce((le,P)=>((le[P[ne]]=le[P[ne]]||[]).push(P),le),{}))(d,"type");return b.jsxs("div",{className:en.wrapper,ref:I,children:[b.jsx("form",{onSubmit:ue,className:en.form,children:b.jsxs("div",{className:en.inputWrapper,children:[b.jsxs("svg",{className:en.searchIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("circle",{cx:"11",cy:"11",r:"8"}),b.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),b.jsx("input",{type:"text",className:en.input,placeholder:n||i("search.placeholder"),value:l,onChange:M,onFocus:()=>{d.length>0&&S(!0)}}),l&&b.jsx("button",{type:"button",className:en.clearBtn,onClick:()=>{c(""),_([]),S(!1)},children:""})]})}),y&&d.length>0&&b.jsxs("div",{className:en.dropdown,children:[re.category&&b.jsxs("div",{className:en.group,children:[b.jsx("div",{className:en.groupTitle,children:i("common.categories")||"Categories"}),re.category.map((K,ne)=>b.jsxs("div",{className:en.item,onClick:()=>W(K),children:[b.jsx("span",{className:en.icon,children:""}),K.label]},`cat-${ne}`))]}),re.subcategory&&b.jsxs("div",{className:en.group,children:[b.jsx("div",{className:en.groupTitle,children:i("common.skills")||"Skills"}),re.subcategory.map((K,ne)=>b.jsxs("div",{className:en.item,onClick:()=>W(K),children:[b.jsx("span",{className:en.icon,children:""}),b.jsxs("div",{children:[b.jsx("div",{className:en.label,children:K.label}),b.jsx("div",{className:en.subtext,children:K.category})]})]},`sub-${ne}`))]}),re.user&&b.jsxs("div",{className:en.group,children:[b.jsx("div",{className:en.groupTitle,children:i("common.people")||"People"}),re.user.map((K,ne)=>b.jsxs("div",{className:en.item,onClick:()=>W(K),children:[K.image?b.jsx("img",{src:K.image,alt:"",className:en.avatar}):b.jsx("div",{className:en.avatarPlaceholder,children:K.label[0]}),b.jsxs("div",{children:[b.jsx("div",{className:en.label,children:K.label}),K.subtext&&b.jsx("div",{className:en.subtext,children:K.subtext})]})]},`user-${ne}`))]}),re.location&&b.jsxs("div",{className:en.group,children:[b.jsx("div",{className:en.groupTitle,children:i("common.locations")||"Locations"}),re.location.map((K,ne)=>b.jsxs("div",{className:en.item,onClick:()=>W(K),children:[b.jsx("span",{className:en.icon,children:""}),K.label]},`loc-${ne}`))]})]})]})},w3="_header_fkhw9_1",E3="_headerContent_fkhw9_10",S3="_logo_fkhw9_20",T3="_logoIcon_fkhw9_30",x3="_active_fkhw9_67",A3="_navActions_fkhw9_72",C3="_searchForm_fkhw9_78",R3="_searchWrapper_fkhw9_84",I3="_langSwitcher_fkhw9_118",N3="_langBtn_fkhw9_125",k3="_authActions_fkhw9_139",P3="_iconActions_fkhw9_145",L3="_iconWrapper_fkhw9_151",O3="_navIconBtn_fkhw9_157",D3="_badge_fkhw9_181",M3="_authButtons_fkhw9_199",j3="_loginBtn_fkhw9_205",z3="_userAvatar_fkhw9_210",V3="_dropdown_fkhw9_231",U3="_open_fkhw9_247",B3="_dropdownItem_fkhw9_253",zt={header:w3,headerContent:E3,logo:S3,logoIcon:T3,active:x3,navActions:A3,searchForm:C3,searchWrapper:R3,langSwitcher:I3,langBtn:N3,authActions:k3,iconActions:P3,iconWrapper:L3,navIconBtn:O3,badge:D3,authButtons:M3,loginBtn:j3,userAvatar:z3,dropdown:V3,open:U3,dropdownItem:B3},F3=()=>{const{t,i18n:e}=xi(),n=Ks(),{user:i,profile:a}=xa(),[l,c]=U.useState(!1),[d,_]=U.useState(!1),[y,S]=U.useState(!1),[E,C]=U.useState(""),[I,H]=U.useState([]),[M,W]=U.useState([]),ue=U.useRef(null),X=U.useRef(null),re=U.useRef(null);Y_(ue,()=>S(!1)),Y_(X,()=>_(!1)),Y_(re,()=>c(!1)),U.useEffect(()=>{if(!i){H([]),W([]);return}const V=gz(i.uid,H),F=LC(i.uid,W);return()=>{V(),F()}},[i]);const K=I.filter(V=>!V.read).length,ne=M.reduce((V,F)=>V+(F.unreadCount||0),0),le=V=>{e.changeLanguage(V)},P=async()=>{try{await pz(),c(!1)}catch(V){console.error("Logout error:",V)}},O=V=>V?V.split(" ").map(F=>F[0]).join("").toUpperCase().slice(0,2):"?",z=()=>a?.username?`/@${a.username}`:"/profile/edit";return b.jsx("header",{className:zt.header,children:b.jsxs("div",{className:zt.headerContent,children:[b.jsxs(xt,{to:"/",className:zt.logo,children:[b.jsx("div",{className:zt.logoIcon,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}),b.jsx("path",{d:"M2 12h20"})]})}),"UpRole"]}),b.jsx("div",{className:zt.searchForm,children:b.jsx("div",{className:zt.searchWrapper,children:b.jsx(HC,{initialValue:E,onSearch:(V,F)=>{n(`/search?q=${encodeURIComponent(V)}${F?`&type=${F}`:""}`),C("")},placeholder:t("search.placeholder")})})}),b.jsxs("div",{className:zt.navActions,children:[b.jsxs("div",{className:zt.langSwitcher,children:[b.jsx("button",{className:`${zt.langBtn} ${e.language==="en"?zt.active:""}`,onClick:()=>le("en"),children:"EN"}),b.jsx("button",{className:`${zt.langBtn} ${e.language==="cs"?zt.active:""}`,onClick:()=>le("cs"),children:"CS"})]}),i?b.jsxs("div",{className:zt.authActions,children:[b.jsxs("div",{className:zt.iconActions,children:[b.jsxs("div",{className:zt.iconWrapper,ref:ue,children:[b.jsxs("button",{className:`${zt.navIconBtn} ${y?zt.active:""}`,onClick:()=>{S(!y),_(!1),c(!1)},"aria-label":"Messages",children:[b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),ne>0&&b.jsx("span",{className:zt.badge,children:ne})]}),y&&b.jsx(qV,{conversations:M,currentUserId:i.uid,onClose:()=>S(!1)})]}),b.jsxs("div",{className:zt.iconWrapper,ref:X,children:[b.jsxs("button",{className:`${zt.navIconBtn} ${d?zt.active:""}`,onClick:()=>{_(!d),S(!1),c(!1)},"aria-label":"Notifications",children:[b.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),b.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),K>0&&b.jsx("span",{className:zt.badge,children:K})]}),d&&b.jsx(IV,{notifications:I,onClose:()=>_(!1)})]})]}),b.jsxs("div",{className:zt.userMenu,ref:re,children:[b.jsx("button",{className:`${zt.userAvatar} ${l?zt.active:""}`,onClick:()=>{c(!l),S(!1),_(!1)},"aria-label":"User menu",children:a?.photoURL?b.jsx("img",{src:a.photoURL,alt:a.displayName}):O(a?.displayName||i.email)}),b.jsxs("div",{className:`${zt.dropdown} ${l?zt.open:""}`,children:[b.jsxs(xt,{to:"/messages",className:zt.dropdownItem,onClick:()=>c(!1),children:[b.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),t("nav.messages")||"Messages"]}),b.jsxs(xt,{to:z(),className:zt.dropdownItem,onClick:()=>c(!1),children:[b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),b.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t("nav.profile")]}),b.jsx("div",{className:zt.dropdownDivider}),b.jsxs("button",{className:zt.dropdownItem,onClick:P,children:[b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),b.jsx("polyline",{points:"16 17 21 12 16 7"}),b.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),t("nav.logout")]})]})]})]}):b.jsxs("div",{className:zt.authButtons,children:[b.jsx(xt,{to:"/login",className:`btn ${zt.loginBtn}`,children:t("nav.login")}),b.jsx(xt,{to:"/register",className:"btn btn-primary",children:t("nav.register")})]})]})]})})},H3="_footer_94as5_1",$3="_footerContent_94as5_8",q3="_footerBrand_94as5_17",Z3="_logo_94as5_23",G3="_logoIcon_94as5_33",K3="_tagline_94as5_49",W3="_footerColumn_94as5_54",Y3="_footerLink_94as5_69",Q3="_footerBottom_94as5_78",X3="_copyright_94as5_88",J3="_socialLinks_94as5_93",eU="_socialLink_94as5_93",jn={footer:H3,footerContent:$3,footerBrand:q3,logo:Z3,logoIcon:G3,tagline:K3,footerColumn:W3,footerLink:Y3,footerBottom:Q3,copyright:X3,socialLinks:J3,socialLink:eU},tU=()=>{const{t}=xi(),e=new Date().getFullYear();return b.jsxs("footer",{className:jn.footer,children:[b.jsxs("div",{className:jn.footerContent,children:[b.jsxs("div",{className:jn.footerBrand,children:[b.jsxs(xt,{to:"/",className:jn.logo,children:[b.jsx("div",{className:jn.logoIcon,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}),b.jsx("path",{d:"M2 12h20"})]})}),"UpRole"]}),b.jsx("p",{className:jn.tagline,children:t("footer.tagline")})]}),b.jsxs("div",{className:jn.footerColumn,children:[b.jsx("h4",{children:"Platform"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx(xt,{to:"/search",className:jn.footerLink,children:t("nav.search")})}),b.jsx("li",{children:b.jsx(xt,{to:"/categories",className:jn.footerLink,children:"Categories"})})]})]}),b.jsxs("div",{className:jn.footerColumn,children:[b.jsx("h4",{children:"Company"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx(xt,{to:"/about",className:jn.footerLink,children:t("footer.about")})}),b.jsx("li",{children:b.jsx(xt,{to:"/contact",className:jn.footerLink,children:t("footer.contact")})})]})]}),b.jsxs("div",{className:jn.footerColumn,children:[b.jsx("h4",{children:"Legal"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx(xt,{to:"/privacy",className:jn.footerLink,children:t("footer.privacy")})}),b.jsx("li",{children:b.jsx(xt,{to:"/terms",className:jn.footerLink,children:t("footer.terms")})})]})]})]}),b.jsxs("div",{className:jn.footerBottom,children:[b.jsx("p",{className:jn.copyright,children:t("footer.copyright",{year:e})}),b.jsxs("div",{className:jn.socialLinks,children:[b.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:jn.socialLink,"aria-label":"Twitter",children:b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),b.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:jn.socialLink,"aria-label":"Instagram",children:b.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),b.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),b.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),b.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:jn.socialLink,"aria-label":"LinkedIn",children:b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]})]})},nU="_layout_ft0na_1",iU="_main_ft0na_7",UT={layout:nU,main:iU},rU=()=>b.jsxs("div",{className:UT.layout,children:[b.jsx(F3,{}),b.jsx("main",{className:UT.main,children:b.jsx(h2,{})}),b.jsx(tU,{})]}),Zs="posts",$C="comments",sU=async(t,e,n=[],i=null)=>{if(!t||!e.trim())throw new Error("Invalid post data");const a={authorId:t,content:e.trim(),media:n,linkPreview:i,likes:[],likeCount:0,commentCount:0,shareCount:0,createdAt:gi(),updatedAt:gi()};return{id:(await Xc(ri(ht,Zs),a)).id,...a}},aU=async t=>{const e=An(ht,Zs,t);await kp(e)},oU=async(t,e=20)=>{const n=ri(ht,Zs),i=Sn(n,mi("authorId","==",t),Nu("createdAt","desc"),go(e));return(await Ws(i)).docs.map(l=>({id:l.id,...l.data()}))},lU=async(t,e,n)=>{const i=An(ht,Zs,t);if(n)await Sa(i,{likes:uz(e),likeCount:Af(-1)});else{await Sa(i,{likes:lz(e),likeCount:Af(1)});const a=await vs(i);if(a.exists()){const l=a.data();l.authorId!==e&&await Jc(l.authorId,ku.LIKE,{postId:t,userId:e,type:"like"})}}},uU=async(t,e,n)=>{if(!n.trim())throw new Error("Comment cannot be empty");const i={postId:t,authorId:e,text:n.trim(),createdAt:gi()},a=await Xc(ri(ht,Zs,t,$C),i),l=An(ht,Zs,t);await Sa(l,{commentCount:Af(1)});const c=await vs(l);if(c.exists()){const d=c.data();d.authorId!==e&&await Jc(d.authorId,ku.COMMENT,{postId:t,userId:e,commentId:a.id,text:n.trim().substring(0,50)})}return{id:a.id,...i}},cU=async t=>{const e=ri(ht,Zs,t,$C),n=Sn(e,Nu("createdAt","asc"));return(await Ws(n)).docs.map(a=>({id:a.id,...a.data()}))},hU=async(t,e,n="")=>{const i=An(ht,Zs,e),a=await vs(i);if(!a.exists())throw new Error("Original post not found");const l=a.data(),c={authorId:t,content:n.trim(),sharedPostId:e,originalAuthorId:l.authorId,createdAt:gi(),updatedAt:gi(),likes:[],likeCount:0,commentCount:0,shareCount:0},d=await Xc(ri(ht,Zs),c);return await Sa(i,{shareCount:Af(1)}),l.authorId!==t&&await Jc(l.authorId,ku.SHARE,{postId:e,userId:t,newPostId:d.id}),{id:d.id,...c}},fU=async(t,e=20)=>{if(!t||t.length===0)return[];const n=ri(ht,Zs),i=t.slice(0,30),a=Sn(n,mi("authorId","in",i),Nu("createdAt","desc"),go(e));return(await Ws(a)).docs.map(c=>({id:c.id,...c.data()}))},dU=async(t=20)=>{const e=ri(ht,Zs),n=Sn(e,Nu("createdAt","desc"),go(t));return(await Ws(n)).docs.map(a=>({id:a.id,...a.data()}))},X_="https://my-proxy-worker.tomasthevrana.workers.dev",J_="https://pub-6c0706a805a8416facee086eb5e0aec5.r2.dev",mU=async(t,e,n)=>new Promise((i,a)=>{const l=new XMLHttpRequest;l.upload.addEventListener("progress",d=>{if(d.lengthComputable&&n){const _=d.loaded/d.total*100;n(_)}}),l.addEventListener("load",()=>{l.status>=200&&l.status<300?i():a(new Error(`Upload failed with status ${l.status}`))}),l.addEventListener("error",()=>a(new Error("Network error during upload"))),l.addEventListener("abort",()=>a(new Error("Upload aborted")));const c=X_.endsWith("/")?X_:`${X_}/`;l.open("PUT",`${c}${encodeURIComponent(e)}`),l.setRequestHeader("Content-Type",t.type),l.send(t)}),pU=t=>t?typeof t=="string"&&(t.startsWith("http://")||t.startsWith("https://"))?t:`${J_.endsWith("/")?J_:`${J_}/`}${t}`:"",qC=async(t,e,n)=>{const i=`${e}/${Date.now()}_${t.name.replace(/\s+/g,"_")}`;try{return await mU(t,i,n),pU(i)}catch(a){throw console.error("R2 Upload Error:",a),a}},gU=(t,e={})=>{const{maxSizeMB:n=10,allowedTypes:i=["image/jpeg","image/png","image/webp","video/mp4","video/webm"]}=e,a=n*1024*1024;return t.size>a?{valid:!1,error:`File size must be less than ${n}MB`}:i.includes(t.type)?{valid:!0}:{valid:!1,error:"File type not allowed"}},BT={youtube:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/i,vimeo:/(?:vimeo\.com\/)(?:channels\/(?:[^\/]+\/)?|groups\/(?:[^\/]+\/)?|album\/(?:[^\/]+\/)?|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i},_U=t=>t&&t.split(/\s+/).find(i=>i.startsWith("http://")||i.startsWith("https://"))||null,yU=t=>t?BT.youtube.test(t)?"youtube":BT.vimeo.test(t)?"vimeo":null:null,vU=async t=>{const e=yU(t);if(!e)return null;let n="";e==="youtube"?n=`https://www.youtube.com/oembed?url=${encodeURIComponent(t)}&format=json`:e==="vimeo"&&(n=`https://vimeo.com/api/oembed.json?url=${encodeURIComponent(t)}`);try{const i=await fetch(n);if(!i.ok)throw new Error("Failed to fetch preview");const a=await i.json();return{url:t,title:a.title,description:a.description||"",thumbnail:a.thumbnail_url,siteName:a.provider_name,type:a.type,html:a.html}}catch(i){return console.error("Error fetching link preview:",i),null}},bU="_container_10iww_1",wU="_uploadArea_10iww_8",EU="_hiddenInput_10iww_25",SU="_uploadPlaceholder_10iww_29",TU="_previews_10iww_42",xU="_previewItem_10iww_48",AU="_previewImage_10iww_57",CU="_removeBtn_10iww_63",tl={container:bU,uploadArea:wU,hiddenInput:EU,uploadPlaceholder:SU,previews:TU,previewItem:xU,previewImage:AU,removeBtn:CU},ZC=({onFilesSelected:t,maxFiles:e=1,allowedTypes:n,multiple:i=!1,currentFiles:a=[]})=>{const{t:l}=xi(),c=U.useRef(null),[d,_]=U.useState(a.map(E=>typeof E=="string"?E:URL.createObjectURL(E))),y=E=>{const C=Array.from(E.target.files);if(C.length+a.length>e){alert(l("common.errorMaxFiles")||`Max ${e} files allowed`);return}const I=[];for(const H of C){const M=gU(H,{allowedTypes:n});M.valid?I.push(H):alert(M.error)}if(I.length>0){const H=I.map(M=>URL.createObjectURL(M));_(M=>i?[...M,...H]:H),t(i?[...a,...I]:I)}},S=E=>{const C=[...d];C.splice(E,1),_(C);const I=[...a];I.splice(E,1),t(I)};return b.jsxs("div",{className:tl.container,children:[b.jsx("div",{className:tl.previews,children:d.map((E,C)=>b.jsxs("div",{className:tl.previewItem,children:[b.jsx("img",{src:E,alt:"Preview",className:tl.previewImage}),b.jsx("button",{type:"button",className:tl.removeBtn,onClick:()=>S(C),children:""})]},C))}),d.length<e&&b.jsxs("div",{className:tl.uploadArea,onClick:()=>c.current?.click(),children:[b.jsx("input",{type:"file",ref:c,onChange:y,multiple:i,accept:n?.join(","),className:tl.hiddenInput}),b.jsxs("div",{className:tl.uploadPlaceholder,children:[b.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),b.jsx("polyline",{points:"17 8 12 3 7 8"}),b.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),b.jsx("span",{children:l("common.addMedia")||"Add Media"})]})]})]})},RU="_previewContainer_n6h9a_1",IU="_closeBtn_n6h9a_16",NU="_previewContent_n6h9a_38",kU="_thumbnailContainer_n6h9a_43",PU="_thumbnail_n6h9a_43",LU="_playIcon_n6h9a_61",OU="_meta_n6h9a_77",DU="_siteName_n6h9a_82",MU="_title_n6h9a_90",Xa={previewContainer:RU,closeBtn:IU,previewContent:NU,thumbnailContainer:kU,thumbnail:PU,playIcon:LU,meta:OU,siteName:DU,title:MU},GC=({preview:t,onClose:e,editable:n=!1})=>{if(!t)return null;const i=a=>{n||(a.stopPropagation(),window.open(t.url,"_blank","noopener,noreferrer"))};return b.jsxs("div",{className:Xa.previewContainer,onClick:i,children:[e&&b.jsx("button",{className:Xa.closeBtn,onClick:a=>{a.stopPropagation(),e()},type:"button","aria-label":"Remove preview",children:b.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),b.jsxs("div",{className:Xa.previewContent,children:[b.jsxs("div",{className:Xa.thumbnailContainer,children:[t.thumbnail&&b.jsx("img",{src:t.thumbnail,alt:t.title,className:Xa.thumbnail}),!n&&b.jsx("div",{className:Xa.playIcon,children:b.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:b.jsx("path",{d:"M8 5v14l11-7z"})})})]}),b.jsxs("div",{className:Xa.meta,children:[b.jsx("div",{className:Xa.siteName,children:t.siteName}),b.jsx("div",{className:Xa.title,children:t.title})]})]})]})},jU="_postFormContainer_l9qa0_1",zU="_formHeader_l9qa0_10",VU="_avatar_l9qa0_17",UU="_userName_l9qa0_37",BU="_form_l9qa0_10",FU="_textarea_l9qa0_48",HU="_mediaSection_l9qa0_70",$U="_progressContainer_l9qa0_74",qU="_progressBar_l9qa0_83",ZU="_error_l9qa0_89",GU="_formActions_l9qa0_95",zs={postFormContainer:jU,formHeader:zU,avatar:VU,userName:UU,form:BU,textarea:FU,mediaSection:HU,progressContainer:$U,progressBar:qU,error:ZU,formActions:GU},KC=({onPostCreated:t})=>{const{t:e}=xi(),{user:n,profile:i}=xa(),[a,l]=U.useState(""),[c,d]=U.useState(!1),[_,y]=U.useState(null),[S,E]=U.useState([]),[C,I]=U.useState(0),[H,M]=U.useState(null),[W,ue]=U.useState(!1);U.useEffect(()=>{const K=setTimeout(async()=>{const ne=_U(a);if(!ne||H&&H.url===ne)return;ue(!0);const le=await vU(ne);le&&M(le),ue(!1)},1e3);return()=>clearTimeout(K)},[a,H]);const X=async K=>{if(K.preventDefault(),!(!a.trim()||!n)){d(!0),y(null);try{let ne=[];if(S.length>0){const le=S.map(P=>qC(P,`posts/${n.uid}`,O=>{I(O)}));ne=await Promise.all(le)}await sU(n.uid,a,ne,H),l(""),E([]),M(null),I(0),t&&t()}catch(ne){console.error("Error creating post:",ne),y("Failed to create post. Please try again.")}finally{d(!1)}}},re=K=>K?K.split(" ").map(ne=>ne[0]).join("").toUpperCase().slice(0,2):"?";return b.jsxs("div",{className:zs.postFormContainer,children:[b.jsxs("div",{className:zs.formHeader,children:[b.jsx("div",{className:zs.avatar,children:i?.photoURL?b.jsx("img",{src:i.photoURL,alt:i.displayName}):re(i?.displayName||n?.email)}),b.jsx("span",{className:zs.userName,children:i?.displayName||"User"})]}),b.jsxs("form",{onSubmit:X,className:zs.form,children:[b.jsx("textarea",{value:a,onChange:K=>l(K.target.value),placeholder:e("posts.placeholder")||"What's on your mind?",className:zs.textarea,disabled:c}),H&&b.jsx("div",{style:{marginBottom:"1rem"},children:b.jsx(GC,{preview:H,onClose:()=>M(null),editable:!0})}),b.jsx("div",{className:zs.mediaSection,children:b.jsx(ZC,{onFilesSelected:E,currentFiles:S,maxFiles:4,multiple:!0,allowedTypes:["image/jpeg","image/png","image/webp","video/mp4"]})}),c&&C>0&&C<100&&b.jsx("div",{className:zs.progressContainer,children:b.jsx("div",{className:zs.progressBar,style:{width:`${C}%`}})}),_&&b.jsx("div",{className:zs.error,children:_}),b.jsx("div",{className:zs.formActions,children:b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c||!a.trim(),children:c?"Posting...":"Post"})})]})]})},KU="_postContainer_1cnpp_1",WU="_header_1cnpp_10",YU="_authorInfo_1cnpp_17",QU="_avatar_1cnpp_24",XU="_meta_1cnpp_44",JU="_userName_1cnpp_49",e6="_time_1cnpp_55",t6="_menuContainer_1cnpp_60",n6="_menuBtn_1cnpp_64",i6="_dropdown_1cnpp_79",r6="_deleteBtn_1cnpp_92",s6="_content_1cnpp_108",a6="_mediaContainer_1cnpp_115",o6="_actions_1cnpp_125",l6="_actionBtn_1cnpp_131",u6="_liked_1cnpp_153",c6="_commentsSection_1cnpp_162",h6="_commentList_1cnpp_168",f6="_commentItem_1cnpp_175",d6="_commentAvatar_1cnpp_180",m6="_commentContent_1cnpp_201",p6="_commentBubble_1cnpp_208",g6="_commentAuthor_1cnpp_215",_6="_commentTime_1cnpp_222",y6="_commentForm_1cnpp_228",v6="_commentInput_1cnpp_234",b6="_commentSubmitBtn_1cnpp_250",w6="_loading_1cnpp_265",E6="_noComments_1cnpp_266",S6="_sharedPostContainer_1cnpp_274",T6="_sharedPostHeader_1cnpp_282",x6="_sharedPostAvatar_1cnpp_289",A6="_sharedPostMeta_1cnpp_310",C6="_sharedPostAuthor_1cnpp_315",R6="_sharedPostTime_1cnpp_321",I6="_sharedPostContent_1cnpp_326",N6="_sharedMedia_1cnpp_331",k6="_sharedPostPlaceholder_1cnpp_343",at={postContainer:KU,header:WU,authorInfo:YU,avatar:QU,meta:XU,userName:JU,time:e6,menuContainer:t6,menuBtn:n6,dropdown:i6,deleteBtn:r6,content:s6,mediaContainer:a6,actions:o6,actionBtn:l6,liked:u6,commentsSection:c6,commentList:h6,commentItem:f6,commentAvatar:d6,commentContent:m6,commentBubble:p6,commentAuthor:g6,commentTime:_6,commentForm:y6,commentInput:v6,commentSubmitBtn:b6,loading:w6,noComments:E6,sharedPostContainer:S6,sharedPostHeader:T6,sharedPostAvatar:x6,sharedPostMeta:A6,sharedPostAuthor:C6,sharedPostTime:R6,sharedPostContent:I6,sharedMedia:N6,sharedPostPlaceholder:k6},WC=({post:t,onPostDeleted:e,onPostUpdated:n})=>{const{t:i}=xi(),{user:a}=xa(),[l,c]=U.useState(null),[d,_]=U.useState(!1),[y,S]=U.useState(!1),[E,C]=U.useState(t.likeCount||0),[I,H]=U.useState(!1),[M,W]=U.useState([]),[ue,X]=U.useState(""),[re,K]=U.useState(!1),[ne,le]=U.useState(t.commentCount||0),[P,O]=U.useState(t.shareCount||0),z=a?.uid===t.authorId;U.useEffect(()=>{(async()=>{try{const ve=await Aa(t.authorId);c(ve)}catch(ve){console.error("Error fetching post author:",ve)}})(),a&&t.likes&&_(t.likes.includes(a.uid))},[t.authorId,t.likes,a]);const V=async()=>{if(a)try{await lU(t.id,a.uid,d),_(!d),C(de=>d?de-1:de+1)}catch(de){console.error("Error toggling like:",de)}},F=async()=>{if(window.confirm(i("common.confirmDelete")||"Are you sure you want to delete this post?"))try{await aU(t.id),e&&e(t.id)}catch(de){console.error("Error deleting post:",de),alert(i("common.error")||"Failed to delete post")}},B=async()=>{if(!I&&M.length===0){K(!0);try{const de=await cU(t.id);W(de)}catch(de){console.error("Error fetching comments:",de)}finally{K(!1)}}H(!I)},j=async de=>{if(de.preventDefault(),!(!ue.trim()||!a))try{const ve=await uU(t.id,a.uid,ue);W(Ze=>[...Ze,ve]),X(""),le(Ze=>Ze+1)}catch(ve){console.error("Error adding comment:",ve)}},Ae=de=>de?de.split(" ").map(ve=>ve[0]).join("").toUpperCase().slice(0,2):"?",qe=l?.username?`/@${l.username}`:`/profile/${t.authorId}`,te=async()=>{if(a&&window.confirm("Share this post to your wall?"))try{await hU(a.uid,t.id),O(de=>de+1),alert("Post shared successfully!")}catch(de){console.error("Error sharing post:",de)}};return b.jsxs("div",{className:at.postContainer,children:[b.jsxs("div",{className:at.header,children:[b.jsxs(xt,{to:qe,className:at.authorInfo,children:[b.jsx("div",{className:at.avatar,children:l?.photoURL?b.jsx("img",{src:l.photoURL,alt:l.displayName}):Ae(l?.displayName)}),b.jsxs("div",{className:at.meta,children:[b.jsx("span",{className:at.userName,children:l?.displayName||"Loading..."}),b.jsx("span",{className:at.time,children:t.createdAt?$f(t.createdAt.toDate(),{addSuffix:!0}):"Just now"})]})]}),z&&b.jsxs("div",{className:at.menuContainer,children:[b.jsx("button",{className:at.menuBtn,onClick:()=>S(!y),children:b.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("circle",{cx:"12",cy:"12",r:"1"}),b.jsx("circle",{cx:"12",cy:"5",r:"1"}),b.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}),y&&b.jsx("div",{className:at.dropdown,children:b.jsx("button",{onClick:F,className:at.deleteBtn,children:"Delete Post"})})]})]}),b.jsxs("div",{className:at.postBody,children:[b.jsx("p",{className:at.content,children:t.content}),t.media&&t.media.filter(de=>!!de).length>0&&b.jsx("div",{className:at.mediaContainer,children:t.media.filter(de=>!!de).map((de,ve)=>{const Ze=de.toLowerCase().match(/\.(mp4|webm|ogg)$/)||de.includes("/videos/");return b.jsx("div",{className:at.mediaItem,children:Ze?b.jsx("video",{src:de,controls:!0,className:at.media}):b.jsx("img",{src:de,alt:`Post attachment ${ve+1}`,className:at.media})},ve)})}),t.linkPreview&&!t.sharedPostId&&b.jsx("div",{style:{marginBottom:"1rem"},children:b.jsx(GC,{preview:t.linkPreview})}),t.sharedPostId&&b.jsx(L6,{postId:t.sharedPostId})]}),b.jsxs("div",{className:at.actions,children:[b.jsxs("button",{className:`${at.actionBtn} ${d?at.liked:""}`,onClick:V,children:[b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:d?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l8.84-8.84 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),b.jsxs("span",{children:[E>0?E:""," ",i("posts.like")||"Like"]})]}),b.jsxs("button",{className:at.actionBtn,onClick:B,children:[b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),b.jsxs("span",{children:[ne>0?ne:""," ",i("posts.comment")||"Comment"]})]}),b.jsxs("button",{className:at.actionBtn,onClick:te,children:[b.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("circle",{cx:"18",cy:"5",r:"3"}),b.jsx("circle",{cx:"6",cy:"12",r:"3"}),b.jsx("circle",{cx:"18",cy:"19",r:"3"}),b.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),b.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),b.jsxs("span",{children:[P>0?P:""," ",i("posts.share")||"Share"]})]})]}),I&&b.jsxs("div",{className:at.commentsSection,children:[b.jsx("div",{className:at.commentList,children:re?b.jsx("div",{className:at.loading,children:"Loading comments..."}):M.length>0?M.map(de=>b.jsx(P6,{comment:de},de.id)):b.jsx("div",{className:at.noComments,children:"No comments yet."})}),a&&b.jsxs("form",{className:at.commentForm,onSubmit:j,children:[b.jsx("input",{type:"text",value:ue,onChange:de=>X(de.target.value),placeholder:"Write a comment...",className:at.commentInput}),b.jsx("button",{type:"submit",className:at.commentSubmitBtn,disabled:!ue.trim(),children:"Post"})]})]})]})},P6=({comment:t})=>{const[e,n]=U.useState(null);U.useEffect(()=>{(async()=>{try{const l=await Aa(t.authorId);n(l)}catch(l){console.error("Error fetching comment author:",l)}})()},[t.authorId]);const i=a=>a?a.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2):"?";return b.jsxs("div",{className:at.commentItem,children:[b.jsx("div",{className:at.commentAvatar,children:e?.photoURL?b.jsx("img",{src:e.photoURL,alt:e.displayName}):i(e?.displayName)}),b.jsxs("div",{className:at.commentContent,children:[b.jsxs("div",{className:at.commentBubble,children:[b.jsx("span",{className:at.commentAuthor,children:e?.displayName||"Loading..."}),b.jsx("p",{children:t.text})]}),b.jsx("span",{className:at.commentTime,children:t.createdAt?.toDate?$f(t.createdAt.toDate(),{addSuffix:!0}):"Just now"})]})]})},L6=({postId:t})=>{const[e,n]=U.useState(null),[i,a]=U.useState(null),[l,c]=U.useState(!0);if(U.useEffect(()=>{(async()=>{try{const y=An(ht,"posts",t),S=await vs(y);if(S.exists()){const E=S.data();n({id:S.id,...E});const C=await Aa(E.authorId);a(C)}}catch(y){console.error("Error fetching shared post:",y)}finally{c(!1)}})()},[t]),l)return b.jsx("div",{className:at.sharedPostPlaceholder,children:"Loading shared post..."});if(!e)return b.jsx("div",{className:at.sharedPostPlaceholder,children:"Original post was deleted."});const d=_=>_?_.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2):"?";return b.jsxs("div",{className:at.sharedPostContainer,children:[b.jsxs("div",{className:at.sharedPostHeader,children:[b.jsx("div",{className:at.sharedPostAvatar,children:i?.photoURL?b.jsx("img",{src:i.photoURL,alt:i.displayName}):d(i?.displayName)}),b.jsxs("div",{className:at.sharedPostMeta,children:[b.jsx("span",{className:at.sharedPostAuthor,children:i?.displayName||"Unknown"}),b.jsx("span",{className:at.sharedPostTime,children:e.createdAt?$f(e.createdAt.toDate(),{addSuffix:!0}):""})]})]}),b.jsxs("div",{className:at.sharedPostContent,children:[b.jsx("p",{children:e.content}),e.media&&e.media.length>0&&b.jsx("div",{className:at.sharedMedia,children:b.jsx("img",{src:e.media[0],alt:"Shared content"})})]})]})},O6="_feedContainer_o8fnd_1",D6="_loading_o8fnd_7",M6="_error_o8fnd_8",j6="_emptyFeed_o8fnd_18",lm={feedContainer:O6,loading:D6,error:M6,emptyFeed:j6},z6=({userId:t,type:e="followed"})=>{const{t:n}=xi(),[i,a]=U.useState([]),[l,c]=U.useState(!0),[d,_]=U.useState(null),y=async()=>{c(!0);try{let S=[];if(e==="followed"&&t){const C=(await Uy(t)).map(H=>H.followingId),I=[t,...C];S=await fU(I)}else S=await dU();a(S)}catch(S){console.error("Error fetching feed:",S),_("Failed to load feed.")}finally{c(!1)}};return U.useEffect(()=>{y()},[t,e]),l?b.jsx("div",{className:lm.loading,children:n("common.loading")}):d?b.jsx("div",{className:lm.error,children:d}):b.jsx("div",{className:lm.feedContainer,children:i.length>0?i.map(S=>b.jsx(WC,{post:S,onPostDeleted:E=>a(C=>C.filter(I=>I.id!==E))},S.id)):b.jsx("div",{className:lm.emptyFeed,children:b.jsx("p",{children:e==="followed"?n("posts.emptyFollowedFeed")||"No posts from people you follow yet. Start following people to see their posts here!":"No posts yet."})})})},V6="_homePage_aoim1_1",U6="_authenticatedContent_aoim1_6",B6="_sidebar_aoim1_15",F6="_sidebarSection_aoim1_21",H6="_categoryList_aoim1_37",$6="_categoryItem_aoim1_43",q6="_miniTalentGrid_aoim1_59",Z6="_miniTalentCard_aoim1_65",G6="_miniAvatar_aoim1_77",K6="_mainFeed_aoim1_97",W6="_hero_aoim1_103",Y6="_heroContent_aoim1_109",Q6="_heroTitle_aoim1_114",X6="_heroSubtitle_aoim1_123",J6="_heroCta_aoim1_129",e9="_categories_aoim1_135",t9="_sectionTitle_aoim1_140",n9="_categoryGrid_aoim1_147",i9="_categoryCard_aoim1_156",r9="_categoryIcon_aoim1_171",s9="_categoryName_aoim1_176",a9="_featured_aoim1_182",o9="_featuredGrid_aoim1_186",l9="_talentCard_aoim1_195",u9="_talentHeader_aoim1_202",c9="_talentAvatar_aoim1_209",h9="_talentInfo_aoim1_222",f9="_viewProfile_aoim1_249",d9="_stats_aoim1_254",m9="_statsGrid_aoim1_259",p9="_statItem_aoim1_268",g9="_statNumber_aoim1_273",_9="_statLabel_aoim1_280",rt={homePage:V6,authenticatedContent:U6,sidebar:B6,sidebarSection:F6,categoryList:H6,categoryItem:$6,miniTalentGrid:q6,miniTalentCard:Z6,miniAvatar:G6,mainFeed:K6,hero:W6,heroContent:Y6,heroTitle:Q6,heroSubtitle:X6,heroCta:J6,categories:e9,sectionTitle:t9,categoryGrid:n9,categoryCard:i9,categoryIcon:r9,categoryName:s9,featured:a9,featuredGrid:o9,talentCard:l9,talentHeader:u9,talentAvatar:c9,talentInfo:h9,viewProfile:f9,stats:d9,statsGrid:m9,statItem:p9,statNumber:g9,statLabel:_9},FT=[{id:"music",icon:""},{id:"sports",icon:""},{id:"acting",icon:""},{id:"dance",icon:""},{id:"circus",icon:""},{id:"other",icon:""}],y9=()=>{const{t}=xi(),{user:e}=xa(),[n,i]=U.useState([]),[a,l]=U.useState(!0),[c,d]=U.useState(0);U.useEffect(()=>{(async()=>{try{const C=await zC(6);i(C)}catch(C){console.error("Error fetching featured users:",C)}finally{l(!1)}})()},[]);const _=()=>{d(E=>E+1)},y=E=>E?E.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2):"?",S=E=>{if(!E)return null;const C=[E.city,E.country].filter(Boolean);return C.length>0?C.join(", "):null};return b.jsxs("div",{className:rt.homePage,children:[e?b.jsxs("div",{className:rt.authenticatedContent,children:[b.jsxs("aside",{className:rt.sidebar,children:[b.jsxs("section",{className:rt.sidebarSection,children:[b.jsx("h3",{children:t("home.categories.title")}),b.jsx("div",{className:rt.categoryList,children:FT.map(E=>b.jsxs(xt,{to:`/search?category=${E.id}`,className:rt.categoryItem,children:[b.jsx("span",{children:E.icon}),t(`home.categories.${E.id}`)]},E.id))})]}),b.jsxs("section",{className:rt.sidebarSection,children:[b.jsx("h3",{children:t("home.featured.title")}),b.jsx("div",{className:rt.miniTalentGrid,children:n.slice(0,3).map(E=>b.jsxs(xt,{to:E.username?`/@${E.username}`:`/profile/${E.id}`,className:rt.miniTalentCard,children:[b.jsx("div",{className:rt.miniAvatar,children:E.photoURL?b.jsx("img",{src:E.photoURL,alt:E.displayName}):y(E.displayName)}),b.jsx("span",{children:E.displayName})]},E.id))})]})]}),b.jsxs("main",{className:rt.mainFeed,children:[b.jsx(KC,{onPostCreated:_}),b.jsx(z6,{userId:e.uid,type:"followed"},c)]})]}):b.jsxs(b.Fragment,{children:[b.jsx("section",{className:rt.hero,children:b.jsxs("div",{className:rt.heroContent,children:[b.jsx("h1",{className:rt.heroTitle,children:t("home.hero.title")}),b.jsx("p",{className:rt.heroSubtitle,children:t("home.hero.subtitle")}),b.jsxs("div",{className:rt.heroCta,children:[b.jsx(xt,{to:"/search",className:"btn btn-primary btn-lg",children:t("home.hero.cta")}),b.jsx(xt,{to:"/register",className:"btn btn-secondary btn-lg",children:t("nav.register")})]})]})}),b.jsxs("section",{className:rt.categories,children:[b.jsx("h2",{className:rt.sectionTitle,children:t("home.categories.title")}),b.jsx("div",{className:rt.categoryGrid,children:FT.map(E=>b.jsxs(xt,{to:`/search?category=${E.id}`,className:rt.categoryCard,children:[b.jsx("div",{className:rt.categoryIcon,children:E.icon}),b.jsx("span",{className:rt.categoryName,children:t(`home.categories.${E.id}`)})]},E.id))})]}),b.jsxs("section",{className:rt.featured,children:[b.jsx("h2",{className:rt.sectionTitle,children:t("home.featured.title")}),a?b.jsx("div",{className:rt.loadingState,children:t("common.loading")}):n.length>0?b.jsx("div",{className:rt.featuredGrid,children:n.map(E=>b.jsxs("div",{className:rt.talentCard,children:[b.jsxs("div",{className:rt.talentHeader,children:[b.jsx("div",{className:rt.talentAvatar,children:E.photoURL?b.jsx("img",{src:E.photoURL,alt:E.displayName}):y(E.displayName)}),b.jsxs("div",{className:rt.talentInfo,children:[b.jsx("h3",{children:E.displayName||"Anonymous"}),S(E.location)&&b.jsx("p",{children:S(E.location)})]})]}),E.bio&&b.jsx("p",{className:rt.talentBio,children:E.bio.length>100?E.bio.slice(0,100)+"...":E.bio}),b.jsx(xt,{to:E.username?`/@${E.username}`:`/profile/${E.id}`,className:`btn btn-secondary ${rt.viewProfile}`,children:t("home.featured.viewProfile")})]},E.id))}):b.jsxs("div",{className:rt.emptyState,children:[b.jsx("p",{children:"No featured talent yet. Be the first to join!"}),b.jsx(xt,{to:"/register",className:"btn btn-primary",children:t("nav.register")})]})]})]}),b.jsx("section",{className:rt.stats,children:b.jsxs("div",{className:rt.statsGrid,children:[b.jsxs("div",{className:rt.statItem,children:[b.jsx("div",{className:rt.statNumber,children:n.length||"0"}),b.jsx("div",{className:rt.statLabel,children:"Performers"})]}),b.jsxs("div",{className:rt.statItem,children:[b.jsx("div",{className:rt.statNumber,children:"6"}),b.jsx("div",{className:rt.statLabel,children:"Skill Categories"})]}),b.jsxs("div",{className:rt.statItem,children:[b.jsx("div",{className:rt.statNumber,children:"--"}),b.jsx("div",{className:rt.statLabel,children:"Countries"})]}),b.jsxs("div",{className:rt.statItem,children:[b.jsx("div",{className:rt.statNumber,children:"--"}),b.jsx("div",{className:rt.statLabel,children:"Connections Made"})]})]})})]})};function YC(t,e){const n=U.useRef(e);U.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const v9=1;function b9(t){return Object.freeze({__version:v9,map:t})}function w9(t,e){return Object.freeze({...t,...e})}const cb=U.createContext(null);function hb(){const t=U.use(cb);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function E9(t){function e(n,i){const{instance:a,context:l}=t(n).current;U.useImperativeHandle(i,()=>a);const{children:c}=n;return c==null?null:Je.createElement(cb,{value:l},c)}return U.forwardRef(e)}function S9(t){function e(n,i){const[a,l]=U.useState(!1),{instance:c}=t(n,l).current;U.useImperativeHandle(i,()=>c),U.useEffect(function(){a&&c.update()},[c,a,n.children]);const d=c._contentNode;return d?W2.createPortal(n.children,d):null}return U.forwardRef(e)}function T9(t){function e(n,i){const{instance:a}=t(n).current;return U.useImperativeHandle(i,()=>a),null}return U.forwardRef(e)}function QC(t,e){const n=U.useRef(void 0);U.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function fb(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function x9(t,e){return function(i,a){const l=hb(),c=t(fb(i,l),l);return YC(l.map,i.attribution),QC(c.current,i.eventHandlers),e(c.current,l,i,a),c}}var tf={exports:{}};var A9=tf.exports,HT;function C9(){return HT||(HT=1,(function(t,e){(function(n,i){i(e)})(A9,(function(n){var i="1.9.4";function a(o){var h,p,w,x;for(p=1,w=arguments.length;p<w;p++){x=arguments[p];for(h in x)o[h]=x[h]}return o}var l=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function c(o,h){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var w=p.call(arguments,2);return function(){return o.apply(h,w.length?w.concat(p.call(arguments)):arguments)}}var d=0;function _(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function y(o,h,p){var w,x,N,q;return q=function(){w=!1,x&&(N.apply(p,x),x=!1)},N=function(){w?x=arguments:(o.apply(p,arguments),setTimeout(q,h),w=!0)},N}function S(o,h,p){var w=h[1],x=h[0],N=w-x;return o===w&&p?o:((o-x)%N+N)%N+x}function E(){return!1}function C(o,h){if(h===!1)return o;var p=Math.pow(10,h===void 0?6:h);return Math.round(o*p)/p}function I(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function H(o){return I(o).split(/\s+/)}function M(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var p in h)o.options[p]=h[p];return o.options}function W(o,h,p){var w=[];for(var x in o)w.push(encodeURIComponent(p?x.toUpperCase():x)+"="+encodeURIComponent(o[x]));return(!h||h.indexOf("?")===-1?"?":"&")+w.join("&")}var ue=/\{ *([\w_ -]+) *\}/g;function X(o,h){return o.replace(ue,function(p,w){var x=h[w];if(x===void 0)throw new Error("No value provided for variable "+p);return typeof x=="function"&&(x=x(h)),x})}var re=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function K(o,h){for(var p=0;p<o.length;p++)if(o[p]===h)return p;return-1}var ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function le(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var P=0;function O(o){var h=+new Date,p=Math.max(0,16-(h-P));return P=h+p,window.setTimeout(o,p)}var z=window.requestAnimationFrame||le("RequestAnimationFrame")||O,V=window.cancelAnimationFrame||le("CancelAnimationFrame")||le("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function F(o,h,p){if(p&&z===O)o.call(h);else return z.call(window,c(o,h))}function B(o){o&&V.call(window,o)}var j={__proto__:null,extend:a,create:l,bind:c,get lastId(){return d},stamp:_,throttle:y,wrapNum:S,falseFn:E,formatNum:C,trim:I,splitWords:H,setOptions:M,getParamString:W,template:X,isArray:re,indexOf:K,emptyImageUrl:ne,requestFn:z,cancelFn:V,requestAnimFrame:F,cancelAnimFrame:B};function Ae(){}Ae.extend=function(o){var h=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=h.__super__=this.prototype,w=l(p);w.constructor=h,h.prototype=w;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(h[x]=this[x]);return o.statics&&a(h,o.statics),o.includes&&(qe(o.includes),a.apply(null,[w].concat(o.includes))),a(w,o),delete w.statics,delete w.includes,w.options&&(w.options=p.options?l(p.options):{},a(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,q=w._initHooks.length;N<q;N++)w._initHooks[N].call(this)}},h},Ae.include=function(o){var h=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},Ae.mergeOptions=function(o){return a(this.prototype.options,o),this},Ae.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function qe(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=re(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(o,h,p){if(typeof o=="object")for(var w in o)this._on(w,o[w],h);else{o=H(o);for(var x=0,N=o.length;x<N;x++)this._on(o[x],h,p)}return this},off:function(o,h,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],h);else{o=H(o);for(var x=arguments.length===1,N=0,q=o.length;N<q;N++)x?this._off(o[N]):this._off(o[N],h,p)}return this},_on:function(o,h,p,w){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,p)===!1){p===this&&(p=void 0);var x={fn:h,ctx:p};w&&(x.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(x)}},_off:function(o,h,p){var w,x,N;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(x=0,N=w.length;x<N;x++)w[x].fn=E;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var q=this._listens(o,h,p);if(q!==!1){var ee=w[q];this._firingCount&&(ee.fn=E,this._events[o]=w=w.slice()),w.splice(q,1)}}},fire:function(o,h,p){if(!this.listens(o,p))return this;var w=a({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var x=this._events[o];if(x){this._firingCount=this._firingCount+1||1;for(var N=0,q=x.length;N<q;N++){var ee=x[N],ce=ee.fn;ee.once&&this.off(o,ce,ee.ctx),ce.call(ee.ctx||this,w)}this._firingCount--}}return p&&this._propagateEvent(w),this},listens:function(o,h,p,w){typeof o!="string"&&console.warn('"string" type argument expected');var x=h;typeof h!="function"&&(w=!!h,x=void 0,p=void 0);var N=this._events&&this._events[o];if(N&&N.length&&this._listens(o,x,p)!==!1)return!0;if(w){for(var q in this._eventParents)if(this._eventParents[q].listens(o,h,p,w))return!0}return!1},_listens:function(o,h,p){if(!this._events)return!1;var w=this._events[o]||[];if(!h)return!!w.length;p===this&&(p=void 0);for(var x=0,N=w.length;x<N;x++)if(w[x].fn===h&&w[x].ctx===p)return x;return!1},once:function(o,h,p){if(typeof o=="object")for(var w in o)this._on(w,o[w],h,!0);else{o=H(o);for(var x=0,N=o.length;x<N;x++)this._on(o[x],h,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[_(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[_(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var de=Ae.extend(te);function ve(o,h,p){this.x=p?Math.round(o):o,this.y=p?Math.round(h):h}var Ze=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ve.prototype={clone:function(){return new ve(this.x,this.y)},add:function(o){return this.clone()._add(ke(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ke(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ve(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ve(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ze(this.x),this.y=Ze(this.y),this},distanceTo:function(o){o=ke(o);var h=o.x-this.x,p=o.y-this.y;return Math.sqrt(h*h+p*p)},equals:function(o){return o=ke(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ke(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function ke(o,h,p){return o instanceof ve?o:re(o)?new ve(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ve(o.x,o.y):new ve(o,h,p)}function $(o,h){if(o)for(var p=h?[o,h]:o,w=0,x=p.length;w<x;w++)this.extend(p[w])}$.prototype={extend:function(o){var h,p;if(!o)return this;if(o instanceof ve||typeof o[0]=="number"||"x"in o)h=p=ke(o);else if(o=Y(o),h=o.min,p=o.max,!h||!p)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=p.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return ke((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ke(this.min.x,this.max.y)},getTopRight:function(){return ke(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,p;return typeof o[0]=="number"||o instanceof ve?o=ke(o):o=Y(o),o instanceof $?(h=o.min,p=o.max):h=p=o,h.x>=this.min.x&&p.x<=this.max.x&&h.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=Y(o);var h=this.min,p=this.max,w=o.min,x=o.max,N=x.x>=h.x&&w.x<=p.x,q=x.y>=h.y&&w.y<=p.y;return N&&q},overlaps:function(o){o=Y(o);var h=this.min,p=this.max,w=o.min,x=o.max,N=x.x>h.x&&w.x<p.x,q=x.y>h.y&&w.y<p.y;return N&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,p=this.max,w=Math.abs(h.x-p.x)*o,x=Math.abs(h.y-p.y)*o;return Y(ke(h.x-w,h.y-x),ke(p.x+w,p.y+x))},equals:function(o){return o?(o=Y(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Y(o,h){return!o||o instanceof $?o:new $(o,h)}function ge(o,h){if(o)for(var p=h?[o,h]:o,w=0,x=p.length;w<x;w++)this.extend(p[w])}ge.prototype={extend:function(o){var h=this._southWest,p=this._northEast,w,x;if(o instanceof Ie)w=o,x=o;else if(o instanceof ge){if(w=o._southWest,x=o._northEast,!w||!x)return this}else return o?this.extend(Le(o)||_e(o)):this;return!h&&!p?(this._southWest=new Ie(w.lat,w.lng),this._northEast=new Ie(x.lat,x.lng)):(h.lat=Math.min(w.lat,h.lat),h.lng=Math.min(w.lng,h.lng),p.lat=Math.max(x.lat,p.lat),p.lng=Math.max(x.lng,p.lng)),this},pad:function(o){var h=this._southWest,p=this._northEast,w=Math.abs(h.lat-p.lat)*o,x=Math.abs(h.lng-p.lng)*o;return new ge(new Ie(h.lat-w,h.lng-x),new Ie(p.lat+w,p.lng+x))},getCenter:function(){return new Ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ie||"lat"in o?o=Le(o):o=_e(o);var h=this._southWest,p=this._northEast,w,x;return o instanceof ge?(w=o.getSouthWest(),x=o.getNorthEast()):w=x=o,w.lat>=h.lat&&x.lat<=p.lat&&w.lng>=h.lng&&x.lng<=p.lng},intersects:function(o){o=_e(o);var h=this._southWest,p=this._northEast,w=o.getSouthWest(),x=o.getNorthEast(),N=x.lat>=h.lat&&w.lat<=p.lat,q=x.lng>=h.lng&&w.lng<=p.lng;return N&&q},overlaps:function(o){o=_e(o);var h=this._southWest,p=this._northEast,w=o.getSouthWest(),x=o.getNorthEast(),N=x.lat>h.lat&&w.lat<p.lat,q=x.lng>h.lng&&w.lng<p.lng;return N&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=_e(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(o,h){return o instanceof ge?o:new ge(o,h)}function Ie(o,h,p){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,p!==void 0&&(this.alt=+p)}Ie.prototype={equals:function(o,h){if(!o)return!1;o=Le(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+C(this.lat,o)+", "+C(this.lng,o)+")"},distanceTo:function(o){return nt.distance(this,Le(o))},wrap:function(){return nt.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,p=h/Math.cos(Math.PI/180*this.lat);return _e([this.lat-h,this.lng-p],[this.lat+h,this.lng+p])},clone:function(){return new Ie(this.lat,this.lng,this.alt)}};function Le(o,h,p){return o instanceof Ie?o:re(o)&&typeof o[0]!="object"?o.length===3?new Ie(o[0],o[1],o[2]):o.length===2?new Ie(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ie(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new Ie(o,h,p)}var Qe={latLngToPoint:function(o,h){var p=this.projection.project(o),w=this.scale(h);return this.transformation._transform(p,w)},pointToLatLng:function(o,h){var p=this.scale(h),w=this.transformation.untransform(o,p);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,p=this.scale(o),w=this.transformation.transform(h.min,p),x=this.transformation.transform(h.max,p);return new $(w,x)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?S(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?S(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Ie(p,h,w)},wrapLatLngBounds:function(o){var h=o.getCenter(),p=this.wrapLatLng(h),w=h.lat-p.lat,x=h.lng-p.lng;if(w===0&&x===0)return o;var N=o.getSouthWest(),q=o.getNorthEast(),ee=new Ie(N.lat-w,N.lng-x),ce=new Ie(q.lat-w,q.lng-x);return new ge(ee,ce)}},nt=a({},Qe,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var p=Math.PI/180,w=o.lat*p,x=h.lat*p,N=Math.sin((h.lat-o.lat)*p/2),q=Math.sin((h.lng-o.lng)*p/2),ee=N*N+Math.cos(w)*Math.cos(x)*q*q,ce=2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee));return this.R*ce}}),Pt=6378137,Rn={R:Pt,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,p=this.MAX_LATITUDE,w=Math.max(Math.min(p,o.lat),-p),x=Math.sin(w*h);return new ve(this.R*o.lng*h,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(o){var h=180/Math.PI;return new Ie((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=Pt*Math.PI;return new $([-o,-o],[o,o])})()};function Xi(o,h,p,w){if(re(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=p,this._d=w}Xi.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new ve((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Ji(o,h,p,w){return new Xi(o,h,p,w)}var Sr=a({},nt,{code:"EPSG:3857",projection:Rn,transformation:(function(){var o=.5/(Math.PI*Rn.R);return Ji(o,.5,-o,.5)})()}),er=a({},Sr,{code:"EPSG:900913"});function ws(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Tr(o,h){var p="",w,x,N,q,ee,ce;for(w=0,N=o.length;w<N;w++){for(ee=o[w],x=0,q=ee.length;x<q;x++)ce=ee[x],p+=(x?"L":"M")+ce.x+" "+ce.y;p+=h?Ue.svg?"z":"x":""}return p||"M0 0"}var Es=document.documentElement.style,Wr="ActiveXObject"in window,yn=Wr&&!document.addEventListener,on="msLaunchUri"in navigator&&!("documentMode"in document),G=si("webkit"),se=si("android"),pe=si("android 2")||si("android 3"),Ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Re=se&&si("Google")&&Ne<537&&!("AudioNode"in window),Ce=!!window.opera,Fe=!on&&si("chrome"),dt=si("gecko")&&!G&&!Ce&&!Wr,Lt=!Fe&&si("safari"),vn=si("phantom"),Vi="OTransition"in Es,Ui=navigator.platform.indexOf("Win")===0,Ai=Wr&&"transition"in Es,ln="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pe,ei="MozPerspective"in Es,un=!window.L_DISABLE_3D&&(Ai||ln||ei)&&!Vi&&!vn,xr=typeof orientation<"u"||si("mobile"),Ys=xr&&G,Ca=xr&&ln,Ar=!window.PointerEvent&&window.MSPointerEvent,Qs=!!(window.PointerEvent||Ar),bn="ontouchstart"in window||!!window.TouchEvent,Yr=!window.L_NO_TOUCH&&(bn||Qs),Qr=xr&&Ce,Cr=xr&&dt,ih=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Lu=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",E,h),window.removeEventListener("testPassiveEventSupport",E,h)}catch{}return o})(),Xr=(function(){return!!document.createElement("canvas").getContext})(),Ss=!!(document.createElementNS&&ws("svg").createSVGRect),rh=!!Ss&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ra=!Ss&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Al=navigator.platform.indexOf("Mac")===0,Cl=navigator.platform.indexOf("Linux")===0;function si(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ue={ie:Wr,ielt9:yn,edge:on,webkit:G,android:se,android23:pe,androidStock:Re,opera:Ce,chrome:Fe,gecko:dt,safari:Lt,phantom:vn,opera12:Vi,win:Ui,ie3d:Ai,webkit3d:ln,gecko3d:ei,any3d:un,mobile:xr,mobileWebkit:Ys,mobileWebkit3d:Ca,msPointer:Ar,pointer:Qs,touch:Yr,touchNative:bn,mobileOpera:Qr,mobileGecko:Cr,retina:ih,passiveEvents:Lu,canvas:Xr,svg:Ss,vml:Ra,inlineSvg:rh,mac:Al,linux:Cl},Rl=Ue.msPointer?"MSPointerDown":"pointerdown",tr=Ue.msPointer?"MSPointerMove":"pointermove",nr=Ue.msPointer?"MSPointerUp":"pointerup",wn=Ue.msPointer?"MSPointerCancel":"pointercancel",In={touchstart:Rl,touchmove:tr,touchend:nr,touchcancel:wn},Rr={touchstart:es,touchmove:ai,touchend:ai,touchcancel:ai},Ir={},Ou=!1;function Du(o,h,p){return h==="touchstart"&&ir(),Rr[h]?(p=Rr[h].bind(this,p),o.addEventListener(In[h],p,!1),p):(console.warn("wrong event specified:",h),E)}function Mu(o,h,p){if(!In[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(In[h],p,!1)}function Jr(o){Ir[o.pointerId]=o}function _o(o){Ir[o.pointerId]&&(Ir[o.pointerId]=o)}function Nr(o){delete Ir[o.pointerId]}function ir(){Ou||(document.addEventListener(Rl,Jr,!0),document.addEventListener(tr,_o,!0),document.addEventListener(nr,Nr,!0),document.addEventListener(wn,Nr,!0),Ou=!0)}function ai(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var p in Ir)h.touches.push(Ir[p]);h.changedTouches=[h],o(h)}}function es(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&fn(h),ai(o,h)}function Nn(o){var h={},p,w;for(w in o)p=o[w],h[w]=p&&p.bind?p.bind(o):p;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Il=200;function Nl(o,h){o.addEventListener("dblclick",h);var p=0,w;function x(N){if(N.detail!==1){w=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var q=na(N);if(!(q.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!q.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var ee=Date.now();ee-p<=Il?(w++,w===2&&h(Nn(N))):w=1,p=ee}}}return o.addEventListener("click",x),{dblclick:h,simDblclick:x}}function ts(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var rr=Na(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ts=Na(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yo=Ts==="webkitTransition"||Ts==="OTransition"?Ts+"End":"transitionend";function vo(o){return typeof o=="string"?document.getElementById(o):o}function Xs(o,h){var p=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!p||p==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);p=w?w[h]:null}return p==="auto"?null:p}function vt(o,h,p){var w=document.createElement(o);return w.className=h||"",p&&p.appendChild(w),w}function bt(o){var h=o.parentNode;h&&h.removeChild(o)}function cn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function hn(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function Bi(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Ia(o,h){if(o.classList!==void 0)return o.classList.contains(h);var p=ns(o);return p.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(p)}function ze(o,h){if(o.classList!==void 0)for(var p=H(h),w=0,x=p.length;w<x;w++)o.classList.add(p[w]);else if(!Ia(o,h)){var N=ns(o);sr(o,(N?N+" ":"")+h)}}function qt(o,h){o.classList!==void 0?o.classList.remove(h):sr(o,I((" "+ns(o)+" ").replace(" "+h+" "," ")))}function sr(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function ns(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function tn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&bo(o,h)}function bo(o,h){var p=!1,w="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(w)}catch{if(h===1)return}h=Math.round(h*100),p?(p.Enabled=h!==100,p.Opacity=h):o.style.filter+=" progid:"+w+"(opacity="+h+")"}function Na(o){for(var h=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in h)return o[p];return!1}function kr(o,h,p){var w=h||new ve(0,0);o.style[rr]=(Ue.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(p?" scale("+p+")":"")}function Zt(o,h){o._leaflet_pos=h,Ue.any3d?kr(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function is(o){return o._leaflet_pos||new ve(0,0)}var ar,Bn,wo;if("onselectstart"in document)ar=function(){Ye(window,"selectstart",fn)},Bn=function(){jt(window,"selectstart",fn)};else{var xs=Na(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ar=function(){if(xs){var o=document.documentElement.style;wo=o[xs],o[xs]="none"}},Bn=function(){xs&&(document.documentElement.style[xs]=wo,wo=void 0)}}function ka(){Ye(window,"dragstart",fn)}function Js(){jt(window,"dragstart",fn)}var Pa,rs;function ea(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ci(),Pa=o,rs=o.style.outlineStyle,o.style.outlineStyle="none",Ye(window,"keydown",Ci))}function Ci(){Pa&&(Pa.style.outlineStyle=rs,Pa=void 0,rs=void 0,jt(window,"keydown",Ci))}function Eo(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ri(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var ta={__proto__:null,TRANSFORM:rr,TRANSITION:Ts,TRANSITION_END:yo,get:vo,getStyle:Xs,create:vt,remove:bt,empty:cn,toFront:hn,toBack:Bi,hasClass:Ia,addClass:ze,removeClass:qt,setClass:sr,getClass:ns,setOpacity:tn,testProp:Na,setTransform:kr,setPosition:Zt,getPosition:is,get disableTextSelection(){return ar},get enableTextSelection(){return Bn},disableImageDrag:ka,enableImageDrag:Js,preventOutline:ea,restoreOutline:Ci,getSizedParentNode:Eo,getScale:Ri};function Ye(o,h,p,w){if(h&&typeof h=="object")for(var x in h)Ii(o,x,h[x],p);else{h=H(h);for(var N=0,q=h.length;N<q;N++)Ii(o,h[N],p,w)}return this}var oi="_leaflet_events";function jt(o,h,p,w){if(arguments.length===1)As(o),delete o[oi];else if(h&&typeof h=="object")for(var x in h)Cs(o,x,h[x],p);else if(h=H(h),arguments.length===2)As(o,function(ee){return K(h,ee)!==-1});else for(var N=0,q=h.length;N<q;N++)Cs(o,h[N],p,w);return this}function As(o,h){for(var p in o[oi]){var w=p.split(/\d/)[0];(!h||h(w))&&Cs(o,w,null,null,p)}}var Fi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ii(o,h,p,w){var x=h+_(p)+(w?"_"+_(w):"");if(o[oi]&&o[oi][x])return this;var N=function(ee){return p.call(w||o,ee||window.event)},q=N;!Ue.touchNative&&Ue.pointer&&h.indexOf("touch")===0?N=Du(o,h,N):Ue.touch&&h==="dblclick"?N=Nl(o,N):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Fi[h]||h,N,Ue.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(N=function(ee){ee=ee||window.event,Or(o,ee)&&q(ee)},o.addEventListener(Fi[h],N,!1)):o.addEventListener(h,q,!1):o.attachEvent("on"+h,N),o[oi]=o[oi]||{},o[oi][x]=N}function Cs(o,h,p,w,x){x=x||h+_(p)+(w?"_"+_(w):"");var N=o[oi]&&o[oi][x];if(!N)return this;!Ue.touchNative&&Ue.pointer&&h.indexOf("touch")===0?Mu(o,h,N):Ue.touch&&h==="dblclick"?ts(o,N):"removeEventListener"in o?o.removeEventListener(Fi[h]||h,N,!1):o.detachEvent("on"+h,N),o[oi][x]=null}function At(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function or(o){return Ii(o,"wheel",At),this}function Rs(o){return Ye(o,"mousedown touchstart dblclick contextmenu",At),o._leaflet_disable_click=!0,this}function fn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Pr(o){return fn(o),At(o),this}function na(o){if(o.composedPath)return o.composedPath();for(var h=[],p=o.target;p;)h.push(p),p=p.parentNode;return h}function ss(o,h){if(!h)return new ve(o.clientX,o.clientY);var p=Ri(h),w=p.boundingClientRect;return new ve((o.clientX-w.left)/p.x-h.clientLeft,(o.clientY-w.top)/p.y-h.clientTop)}var Lr=Ue.linux&&Ue.chrome?window.devicePixelRatio:Ue.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fn(o){return Ue.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Lr:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Or(o,h){var p=h.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var as={__proto__:null,on:Ye,off:jt,stopPropagation:At,disableScrollPropagation:or,disableClickPropagation:Rs,preventDefault:fn,stop:Pr,getPropagationPath:na,getMousePosition:ss,getWheelDelta:Fn,isExternalTarget:Or,addListener:Ye,removeListener:jt},Is=de.extend({run:function(o,h,p,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=is(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,p=this._duration*1e3;h<p?this._runFrame(this._easeOut(h/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var p=this._startPos.add(this._offset.multiplyBy(o));h&&p._round(),Zt(this._el,p),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),yt=de.extend({options:{crs:Sr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=M(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Le(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ts&&Ue.any3d&&!Ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ye(this._proxy,yo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,p){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Le(o),h,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=a({animate:p.animate},p.zoom),p.pan=a({animate:p.animate,duration:p.duration},p.pan));var w=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,p.zoom):this._tryAnimatedPan(o,p.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Ue.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,p){var w=this.getZoomScale(h),x=this.getSize().divideBy(2),N=o instanceof ve?o:this.latLngToContainerPoint(o),q=N.subtract(x).multiplyBy(1-1/w),ee=this.containerPointToLatLng(x.add(q));return this.setView(ee,h,{zoom:p})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():_e(o);var p=ke(h.paddingTopLeft||h.padding||[0,0]),w=ke(h.paddingBottomRight||h.padding||[0,0]),x=this.getBoundsZoom(o,!1,p.add(w));if(x=typeof h.maxZoom=="number"?Math.min(h.maxZoom,x):x,x===1/0)return{center:o.getCenter(),zoom:x};var N=w.subtract(p).divideBy(2),q=this.project(o.getSouthWest(),x),ee=this.project(o.getNorthEast(),x),ce=this.unproject(q.add(ee).divideBy(2).add(N),x);return{center:ce,zoom:x}},fitBounds:function(o,h){if(o=_e(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,h);return this.setView(p.center,p.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=ke(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Is,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){ze(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,p){if(p=p||{},p.animate===!1||!Ue.any3d)return this.setView(o,h,p);this._stop();var w=this.project(this.getCenter()),x=this.project(o),N=this.getSize(),q=this._zoom;o=Le(o),h=h===void 0?q:h;var ee=Math.max(N.x,N.y),ce=ee*this.getZoomScale(q,h),Ee=x.distanceTo(w)||1,Oe=1.42,$e=Oe*Oe;function mt(En){var Os=En?-1:1,Va=En?ce:ee,ch=ce*ce-ee*ee+Os*$e*$e*Ee*Ee,Yl=2*Va*$e*Ee,Ql=ch/Yl,fa=Math.sqrt(Ql*Ql+1)-Ql,Ds=fa<1e-9?-18:Math.log(fa);return Ds}function ti(En){return(Math.exp(En)-Math.exp(-En))/2}function kn(En){return(Math.exp(En)+Math.exp(-En))/2}function qi(En){return ti(En)/kn(En)}var Vt=mt(0);function Ut(En){return ee*(kn(Vt)/kn(Vt+Oe*En))}function wt(En){return ee*(kn(Vt)*qi(Vt+Oe*En)-ti(Vt))/$e}function ca(En){return 1-Math.pow(1-En,1.5)}var fr=Date.now(),Wu=(mt(1)-Vt)/Oe,ha=p.duration?1e3*p.duration:1e3*Wu*.8;function uh(){var En=(Date.now()-fr)/ha,Os=ca(En)*Wu;En<=1?(this._flyToFrame=F(uh,this),this._move(this.unproject(w.add(x.subtract(w).multiplyBy(wt(Os)/Ee)),q),this.getScaleZoom(ee/Ut(Os),q),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),uh.call(this),this},flyToBounds:function(o,h){var p=this._getBoundsCenterZoom(o,h);return this.flyTo(p.center,p.zoom,h)},setMaxBounds:function(o){return o=_e(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var p=this.getCenter(),w=this._limitCenter(p,this._zoom,_e(o));return p.equals(w)||this.panTo(w,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var p=ke(h.paddingTopLeft||h.padding||[0,0]),w=ke(h.paddingBottomRight||h.padding||[0,0]),x=this.project(this.getCenter()),N=this.project(o),q=this.getPixelBounds(),ee=Y([q.min.add(p),q.max.subtract(w)]),ce=ee.getSize();if(!ee.contains(N)){this._enforcingBounds=!0;var Ee=N.subtract(ee.getCenter()),Oe=ee.extend(N).getSize().subtract(ce);x.x+=Ee.x<0?-Oe.x:Oe.x,x.y+=Ee.y<0?-Oe.y:Oe.y,this.panTo(this.unproject(x),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),w=h.divideBy(2).round(),x=p.divideBy(2).round(),N=w.subtract(x);return!N.x&&!N.y?this:(o.animate&&o.pan?this.panBy(N):(o.pan&&this._rawPanBy(N),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),p=c(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,p,o):navigator.geolocation.getCurrentPosition(h,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,p=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,p=o.coords.longitude,w=new Ie(h,p),x=w.toBounds(o.coords.accuracy*2),N=this._locateOptions;if(N.setView){var q=this.getBoundsZoom(x);this.setView(w,N.maxZoom?Math.min(q,N.maxZoom):q)}var ee={latlng:w,bounds:x,timestamp:o.timestamp};for(var ce in o.coords)typeof o.coords[ce]=="number"&&(ee[ce]=o.coords[ce]);this.fire("locationfound",ee)}},addHandler:function(o,h){if(!h)return this;var p=this[o]=new h(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)bt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=vt("div",p,h||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new ge(h,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,p){o=_e(o),p=ke(p||[0,0]);var w=this.getZoom()||0,x=this.getMinZoom(),N=this.getMaxZoom(),q=o.getNorthWest(),ee=o.getSouthEast(),ce=this.getSize().subtract(p),Ee=Y(this.project(ee,w),this.project(q,w)).getSize(),Oe=Ue.any3d?this.options.zoomSnap:1,$e=ce.x/Ee.x,mt=ce.y/Ee.y,ti=h?Math.max($e,mt):Math.min($e,mt);return w=this.getScaleZoom(ti,w),Oe&&(w=Math.round(w/(Oe/100))*(Oe/100),w=h?Math.ceil(w/Oe)*Oe:Math.floor(w/Oe)*Oe),Math.max(x,Math.min(N,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ve(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var p=this._getTopLeftPoint(o,h);return new $(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var p=this.options.crs;return h=h===void 0?this._zoom:h,p.scale(o)/p.scale(h)},getScaleZoom:function(o,h){var p=this.options.crs;h=h===void 0?this._zoom:h;var w=p.zoom(o*p.scale(h));return isNaN(w)?1/0:w},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Le(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(ke(o),h)},layerPointToLatLng:function(o){var h=ke(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Le(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Le(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(_e(o))},distance:function(o,h){return this.options.crs.distance(Le(o),Le(h))},containerPointToLayerPoint:function(o){return ke(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ke(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(ke(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(o)))},mouseEventToContainerPoint:function(o){return ss(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=vo(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ye(h,"scroll",this._onScroll,this),this._containerId=_(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ue.any3d,ze(o,"leaflet-container"+(Ue.touch?" leaflet-touch":"")+(Ue.retina?" leaflet-retina":"")+(Ue.ielt9?" leaflet-oldie":"")+(Ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Xs(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Zt(this._mapPane,new ve(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ze(o.markerPane,"leaflet-zoom-hide"),ze(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,p){Zt(this._mapPane,new ve(0,0));var w=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var x=this._zoom!==h;this._moveStart(x,p)._move(o,h)._moveEnd(x),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,p,w){h===void 0&&(h=this._zoom);var x=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?p&&p.pinch&&this.fire("zoom",p):((x||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Zt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[_(this._container)]=this;var h=o?jt:Ye;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Ue.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var p=[],w,x=h==="mouseout"||h==="mouseover",N=o.target||o.srcElement,q=!1;N;){if(w=this._targets[_(N)],w&&(h==="click"||h==="preclick")&&this._draggableMoved(w)){q=!0;break}if(w&&w.listens(h,!0)&&(x&&!Or(N,o)||(p.push(w),x))||N===this._container)break;N=N.parentNode}return!p.length&&!q&&!x&&this.listens(h,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var p=o.type;p==="mousedown"&&ea(h),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,p){if(o.type==="click"){var w=a({},o);w.type="preclick",this._fireDOMEvent(w,w.type,p)}var x=this._findEventTargets(o,h);if(p){for(var N=[],q=0;q<p.length;q++)p[q].listens(h,!0)&&N.push(p[q]);x=N.concat(x)}if(x.length){h==="contextmenu"&&fn(o);var ee=x[0],ce={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Ee=ee.getLatLng&&(!ee._radius||ee._radius<=10);ce.containerPoint=Ee?this.latLngToContainerPoint(ee.getLatLng()):this.mouseEventToContainerPoint(o),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=Ee?ee.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(q=0;q<x.length;q++)if(x[q].fire(h,ce,!0),ce.originalEvent._stopped||x[q].options.bubblingMouseEvents===!1&&K(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return is(this._mapPane)||new ve(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var p=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var p=this.getSize()._divideBy(2);return this.project(o,h)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,p){var w=this._getNewPixelOrigin(p,h);return this.project(o,h)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,h,p){var w=this._getNewPixelOrigin(p,h);return Y([this.project(o.getSouthWest(),h)._subtract(w),this.project(o.getNorthWest(),h)._subtract(w),this.project(o.getSouthEast(),h)._subtract(w),this.project(o.getNorthEast(),h)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,p){if(!p)return o;var w=this.project(o,h),x=this.getSize().divideBy(2),N=new $(w.subtract(x),w.add(x)),q=this._getBoundsOffset(N,p,h);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?o:this.unproject(w.add(q),h)},_limitOffset:function(o,h){if(!h)return o;var p=this.getPixelBounds(),w=new $(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(w,h))},_getBoundsOffset:function(o,h,p){var w=Y(this.project(h.getNorthEast(),p),this.project(h.getSouthWest(),p)),x=w.min.subtract(o.min),N=w.max.subtract(o.max),q=this._rebound(x.x,-N.x),ee=this._rebound(x.y,-N.y);return new ve(q,ee)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),p=this.getMaxZoom(),w=Ue.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(h,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var p=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,h),!0)},_createAnimProxy:function(){var o=this._proxy=vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var p=rr,w=this._proxy.style[p];kr(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),w===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();kr(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(h),x=this._getCenterOffset(o)._divideBy(1-1/w);return p.animate!==!0&&!this.getSize().contains(x)?!1:(F(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,p,w){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ia(o,h){return new yt(o,h)}var li=Ae.extend({options:{position:"topright"},initialize:function(o){M(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),p=this.getPosition(),w=o._controlCorners[p];return ze(h,"leaflet-control"),p.indexOf("bottom")!==-1?w.insertBefore(h,w.firstChild):w.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Ni=function(o){return new li(o)};yt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",p=this._controlContainer=vt("div",h+"control-container",this._container);function w(x,N){var q=h+x+" "+h+N;o[x+N]=vt("div",q,p)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)bt(this._controlCorners[o]);bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var La=li.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,p,w){return p<w?-1:w<p?1:0}},initialize:function(o,h,p){M(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in h)this._addLayer(h[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return li.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(_(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=vt("div",o),p=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Rs(h),or(h);var w=this._section=vt("section",o+"-list");p&&(this._map.on("click",this.collapse,this),Ye(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=vt("a",o+"-toggle",h);x.href="#",x.title="Layers",x.setAttribute("role","button"),Ye(x,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){fn(N),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=vt("div",o+"-base",w),this._separator=vt("div",o+"-separator",w),this._overlaysList=vt("div",o+"-overlays",w),h.appendChild(w)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&_(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:p}),this.options.sortLayers&&this._layers.sort(c(function(w,x){return this.options.sortFunction(w.layer,x.layer,w.name,x.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cn(this._baseLayersList),cn(this._overlaysList),this._layerControlInputs=[];var o,h,p,w,x=0;for(p=0;p<this._layers.length;p++)w=this._layers[p],this._addItem(w),h=h||w.overlay,o=o||!w.overlay,x+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&x>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(_(o.target)),p=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,h)},_createRadioElement:function(o,h){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=p,w.firstChild},_addItem:function(o){var h=document.createElement("label"),p=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=p):w=this._createRadioElement("leaflet-base-layers_"+_(this),p),this._layerControlInputs.push(w),w.layerId=_(o.layer),Ye(w,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+o.name;var N=document.createElement("span");h.appendChild(N),N.appendChild(w),N.appendChild(x);var q=o.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,p,w=[],x=[];this._handlingClick=!0;for(var N=o.length-1;N>=0;N--)h=o[N],p=this._getLayer(h.layerId).layer,h.checked?w.push(p):h.checked||x.push(p);for(N=0;N<x.length;N++)this._map.hasLayer(x[N])&&this._map.removeLayer(x[N]);for(N=0;N<w.length;N++)this._map.hasLayer(w[N])||this._map.addLayer(w[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,p,w=this._map.getZoom(),x=o.length-1;x>=0;x--)h=o[x],p=this._getLayer(h.layerId).layer,h.disabled=p.options.minZoom!==void 0&&w<p.options.minZoom||p.options.maxZoom!==void 0&&w>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ye(o,"click",fn),this.expand();var h=this;setTimeout(function(){jt(o,"click",fn),h._preventClick=!1})}}),kl=function(o,h,p){return new La(o,h,p)},Ns=li.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",p=vt("div",h+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,h+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,h+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,p,w,x){var N=vt("a",p,w);return N.innerHTML=o,N.href="#",N.title=h,N.setAttribute("role","button"),N.setAttribute("aria-label",h),Rs(N),Ye(N,"click",Pr),Ye(N,"click",x,this),Ye(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";qt(this._zoomInButton,h),qt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ze(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ze(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});yt.mergeOptions({zoomControl:!0}),yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ns,this.addControl(this.zoomControl))});var ju=function(o){return new Ns(o)},Pl=li.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",p=vt("div",h),w=this.options;return this._addScales(w,h+"-line",p),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,p){o.metric&&(this._mScale=vt("div",h,p)),o.imperial&&(this._iScale=vt("div",h,p))},_update:function(){var o=this._map,h=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),p=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,p,h/o)},_updateImperial:function(o){var h=o*3.2808399,p,w,x;h>5280?(p=h/5280,w=this._getRoundNum(p),this._updateScale(this._iScale,w+" mi",w/p)):(x=this._getRoundNum(h),this._updateScale(this._iScale,x+" ft",x/h))},_updateScale:function(o,h,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),p=o/h;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,h*p}}),Oa=function(o){return new Pl(o)},Ll='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',So=li.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ue.inlineSvg?Ll+" ":"")+"Leaflet</a>"},initialize:function(o){M(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=vt("div","leaflet-control-attribution"),Rs(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});yt.mergeOptions({attributionControl:!0}),yt.addInitHook(function(){this.options.attributionControl&&new So().addTo(this)});var To=function(o){return new So(o)};li.Layers=La,li.Zoom=Ns,li.Scale=Pl,li.Attribution=So,Ni.layers=kl,Ni.zoom=ju,Ni.scale=Oa,Ni.attribution=To;var Hi=Ae.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hi.addTo=function(o,h){return o.addHandler(h,this),this};var zu={Events:te},Dr=Ue.touch?"touchstart mousedown":"mousedown",Mr=de.extend({options:{clickTolerance:3},initialize:function(o,h,p,w){M(this,w),this._element=o,this._dragStartTarget=h||o,this._preventOutline=p},enable:function(){this._enabled||(Ye(this._dragStartTarget,Dr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mr._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,Dr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ia(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Mr._dragging===this&&this.finishDrag();return}if(!(Mr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Mr._dragging=this,this._preventOutline&&ea(this._element),ka(),ar(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,p=Eo(this._element);this._startPoint=new ve(h.clientX,h.clientY),this._startPos=is(this._element),this._parentScale=Ri(p);var w=o.type==="mousedown";Ye(document,w?"mousemove":"touchmove",this._onMove,this),Ye(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,p=new ve(h.clientX,h.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,fn(o),this._moved||(this.fire("dragstart"),this._moved=!0,ze(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Zt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){qt(document.body,"leaflet-dragging"),this._lastTarget&&(qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),Js(),Bn();var h=this._moved&&this._moving;this._moving=!1,Mr._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ol(o,h,p){var w,x=[1,4,2,8],N,q,ee,ce,Ee,Oe,$e,mt;for(N=0,Oe=o.length;N<Oe;N++)o[N]._code=fe(o[N],h);for(ee=0;ee<4;ee++){for($e=x[ee],w=[],N=0,Oe=o.length,q=Oe-1;N<Oe;q=N++)ce=o[N],Ee=o[q],ce._code&$e?Ee._code&$e||(mt=ie(Ee,ce,$e,h,p),mt._code=fe(mt,h),w.push(mt)):(Ee._code&$e&&(mt=ie(Ee,ce,$e,h,p),mt._code=fe(mt,h),w.push(mt)),w.push(ce));o=w}return o}function Dl(o,h){var p,w,x,N,q,ee,ce,Ee,Oe;if(!o||o.length===0)throw new Error("latlngs not passed");Ot(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var $e=Le([0,0]),mt=_e(o),ti=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());ti<1700&&($e=xo(o));var kn=o.length,qi=[];for(p=0;p<kn;p++){var Vt=Le(o[p]);qi.push(h.project(Le([Vt.lat-$e.lat,Vt.lng-$e.lng])))}for(ee=ce=Ee=0,p=0,w=kn-1;p<kn;w=p++)x=qi[p],N=qi[w],q=x.y*N.x-N.y*x.x,ce+=(x.x+N.x)*q,Ee+=(x.y+N.y)*q,ee+=q*3;ee===0?Oe=qi[0]:Oe=[ce/ee,Ee/ee];var Ut=h.unproject(ke(Oe));return Le([Ut.lat+$e.lat,Ut.lng+$e.lng])}function xo(o){for(var h=0,p=0,w=0,x=0;x<o.length;x++){var N=Le(o[x]);h+=N.lat,p+=N.lng,w++}return Le([h/w,p/w])}var ra={__proto__:null,clipPolygon:Ol,polygonCenter:Dl,centroid:xo};function ui(o,h){if(!h||!o.length)return o.slice();var p=h*h;return o=T(o,p),o=ks(o,p),o}function Ml(o,h,p){return Math.sqrt(it(o,h,p,!0))}function Vu(o,h,p){return it(o,h,p)}function ks(o,h){var p=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,x=new w(p);x[0]=x[p-1]=1,m(o,x,h,0,p-1);var N,q=[];for(N=0;N<p;N++)x[N]&&q.push(o[N]);return q}function m(o,h,p,w,x){var N=0,q,ee,ce;for(ee=w+1;ee<=x-1;ee++)ce=it(o[ee],o[w],o[x],!0),ce>N&&(q=ee,N=ce);N>p&&(h[q]=1,m(o,h,p,w,q),m(o,h,p,q,x))}function T(o,h){for(var p=[o[0]],w=1,x=0,N=o.length;w<N;w++)Pe(o[w],o[x])>h&&(p.push(o[w]),x=w);return x<N-1&&p.push(o[N-1]),p}var R;function D(o,h,p,w,x){var N=w?R:fe(o,p),q=fe(h,p),ee,ce,Ee;for(R=q;;){if(!(N|q))return[o,h];if(N&q)return!1;ee=N||q,ce=ie(o,h,ee,p,x),Ee=fe(ce,p),ee===N?(o=ce,N=Ee):(h=ce,q=Ee)}}function ie(o,h,p,w,x){var N=h.x-o.x,q=h.y-o.y,ee=w.min,ce=w.max,Ee,Oe;return p&8?(Ee=o.x+N*(ce.y-o.y)/q,Oe=ce.y):p&4?(Ee=o.x+N*(ee.y-o.y)/q,Oe=ee.y):p&2?(Ee=ce.x,Oe=o.y+q*(ce.x-o.x)/N):p&1&&(Ee=ee.x,Oe=o.y+q*(ee.x-o.x)/N),new ve(Ee,Oe,x)}function fe(o,h){var p=0;return o.x<h.min.x?p|=1:o.x>h.max.x&&(p|=2),o.y<h.min.y?p|=4:o.y>h.max.y&&(p|=8),p}function Pe(o,h){var p=h.x-o.x,w=h.y-o.y;return p*p+w*w}function it(o,h,p,w){var x=h.x,N=h.y,q=p.x-x,ee=p.y-N,ce=q*q+ee*ee,Ee;return ce>0&&(Ee=((o.x-x)*q+(o.y-N)*ee)/ce,Ee>1?(x=p.x,N=p.y):Ee>0&&(x+=q*Ee,N+=ee*Ee)),q=o.x-x,ee=o.y-N,w?q*q+ee*ee:new ve(x,N)}function Ot(o){return!re(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Dt(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ot(o)}function nn(o,h){var p,w,x,N,q,ee,ce,Ee;if(!o||o.length===0)throw new Error("latlngs not passed");Ot(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Oe=Le([0,0]),$e=_e(o),mt=$e.getNorthWest().distanceTo($e.getSouthWest())*$e.getNorthEast().distanceTo($e.getNorthWest());mt<1700&&(Oe=xo(o));var ti=o.length,kn=[];for(p=0;p<ti;p++){var qi=Le(o[p]);kn.push(h.project(Le([qi.lat-Oe.lat,qi.lng-Oe.lng])))}for(p=0,w=0;p<ti-1;p++)w+=kn[p].distanceTo(kn[p+1])/2;if(w===0)Ee=kn[0];else for(p=0,N=0;p<ti-1;p++)if(q=kn[p],ee=kn[p+1],x=q.distanceTo(ee),N+=x,N>w){ce=(N-w)/x,Ee=[ee.x-ce*(ee.x-q.x),ee.y-ce*(ee.y-q.y)];break}var Vt=h.unproject(ke(Ee));return Le([Vt.lat+Oe.lat,Vt.lng+Oe.lng])}var lr={__proto__:null,simplify:ui,pointToSegmentDistance:Ml,closestPointOnSegment:Vu,clipSegment:D,_getEdgeIntersection:ie,_getBitCode:fe,_sqClosestPointOnSegment:it,isFlat:Ot,_flat:Dt,polylineCenter:nn},ur={project:function(o){return new ve(o.lng,o.lat)},unproject:function(o){return new Ie(o.y,o.x)},bounds:new $([-180,-90],[180,90])},$i={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,p=this.R,w=o.lat*h,x=this.R_MINOR/p,N=Math.sqrt(1-x*x),q=N*Math.sin(w),ee=Math.tan(Math.PI/4-w/2)/Math.pow((1-q)/(1+q),N/2);return w=-p*Math.log(Math.max(ee,1e-10)),new ve(o.lng*h*p,w)},unproject:function(o){for(var h=180/Math.PI,p=this.R,w=this.R_MINOR/p,x=Math.sqrt(1-w*w),N=Math.exp(-o.y/p),q=Math.PI/2-2*Math.atan(N),ee=0,ce=.1,Ee;ee<15&&Math.abs(ce)>1e-7;ee++)Ee=x*Math.sin(q),Ee=Math.pow((1-Ee)/(1+Ee),x/2),ce=Math.PI/2-2*Math.atan(N*Ee)-q,q+=ce;return new Ie(q*h,o.x*h/p)}},jr={__proto__:null,LonLat:ur,Mercator:$i,SphericalMercator:Rn},Da=a({},nt,{code:"EPSG:3395",projection:$i,transformation:(function(){var o=.5/(Math.PI*$i.R);return Ji(o,.5,-o,.5)})()}),Ma=a({},nt,{code:"EPSG:4326",projection:ur,transformation:Ji(1/180,1,-1/180,.5)}),Ao=a({},Qe,{projection:ur,transformation:Ji(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var p=h.lng-o.lng,w=h.lat-o.lat;return Math.sqrt(p*p+w*w)},infinite:!0});Qe.Earth=nt,Qe.EPSG3395=Da,Qe.EPSG3857=Sr,Qe.EPSG900913=er,Qe.EPSG4326=Ma,Qe.Simple=Ao;var zr=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[_(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[_(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var p=this.getEvents();h.on(p,this),this.once("remove",function(){h.off(p,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});yt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=_(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=_(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return _(o)in this._layers},eachLayer:function(o,h){for(var p in this._layers)o.call(h,this._layers[p]);return this},_addLayers:function(o){o=o?re(o)?o:[o]:[];for(var h=0,p=o.length;h<p;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[_(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=_(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,p=this._getZoomSpan();for(var w in this._zoomBoundLayers){var x=this._zoomBoundLayers[w].options;o=x.minZoom===void 0?o:Math.min(o,x.minZoom),h=x.maxZoom===void 0?h:Math.max(h,x.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Co=zr.extend({initialize:function(o,h){M(this,h),this._layers={};var p,w;if(o)for(p=0,w=o.length;p<w;p++)this.addLayer(o[p])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),p,w;for(p in this._layers)w=this._layers[p],w[o]&&w[o].apply(w,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var p in this._layers)o.call(h,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return _(o)}}),Bp=function(o,h){return new Co(o,h)},os=Co.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Co.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Co.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ge;for(var h in this._layers){var p=this._layers[h];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),Kf=function(o,h){return new os(o,h)},ls=Ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){M(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(p,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,h){var p=this.options,w=p[h+"Size"];typeof w=="number"&&(w=[w,w]);var x=ke(w),N=ke(h==="shadow"&&p.shadowAnchor||p.iconAnchor||x&&x.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(p.className||""),N&&(o.style.marginLeft=-N.x+"px",o.style.marginTop=-N.y+"px"),x&&(o.style.width=x.x+"px",o.style.height=x.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Ue.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function jl(o){return new ls(o)}var zl=ls.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof zl.imagePath!="string"&&(zl.imagePath=this._detectIconPath()),(this.options.imagePath||zl.imagePath)+ls.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(p,w,x){var N=w.exec(p);return N&&N[x]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=vt("div","leaflet-default-icon-path",document.body),h=Xs(o,"background-image")||Xs(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Vl=Hi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Mr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ze(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,p=h._map,w=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,N=is(h._icon),q=p.getPixelBounds(),ee=p.getPixelOrigin(),ce=Y(q.min._subtract(ee).add(x),q.max._subtract(ee).subtract(x));if(!ce.contains(N)){var Ee=ke((Math.max(ce.max.x,N.x)-ce.max.x)/(q.max.x-ce.max.x)-(Math.min(ce.min.x,N.x)-ce.min.x)/(q.min.x-ce.min.x),(Math.max(ce.max.y,N.y)-ce.max.y)/(q.max.y-ce.max.y)-(Math.min(ce.min.y,N.y)-ce.min.y)/(q.min.y-ce.min.y)).multiplyBy(w);p.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),Zt(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=F(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,p=h._shadow,w=is(h._icon),x=h._map.layerPointToLatLng(w);p&&Zt(p,w),h._latlng=x,o.latlng=x,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ul=zr.extend({options:{icon:new zl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){M(this,h),this._latlng=Le(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Le(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),w=!1;p!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),ze(p,h),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ye(p,"focus",this._panOnFocus,this);var x=o.icon.createShadow(this._shadow),N=!1;x!==this._shadow&&(this._removeShadow(),N=!0),x&&(ze(x,h),x.alt=""),this._shadow=x,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&N&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Zt(this._icon,o),this._shadow&&Zt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&tn(this._icon,o),this._shadow&&tn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,p=h.iconSize?ke(h.iconSize):ke(0,0),w=h.iconAnchor?ke(h.iconAnchor):ke(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:p.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wf(o,h){return new Ul(o,h)}var us=zr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return M(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ro=us.extend({options:{fill:!0,radius:10},initialize:function(o,h){M(this,h),this._latlng=Le(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Le(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return us.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,p=this._clickTolerance(),w=[o+p,h+p];this._pxBounds=new $(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Yf(o,h){return new Ro(o,h)}var Uu=Ro.extend({initialize:function(o,h,p){if(typeof h=="number"&&(h=a({},p,{radius:h})),M(this,h),this._latlng=Le(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ge(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:us.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,p=this._map,w=p.options.crs;if(w.distance===nt.distance){var x=Math.PI/180,N=this._mRadius/nt.R/x,q=p.project([h+N,o]),ee=p.project([h-N,o]),ce=q.add(ee).divideBy(2),Ee=p.unproject(ce).lat,Oe=Math.acos((Math.cos(N*x)-Math.sin(h*x)*Math.sin(Ee*x))/(Math.cos(h*x)*Math.cos(Ee*x)))/x;(isNaN(Oe)||Oe===0)&&(Oe=N/Math.cos(Math.PI/180*h)),this._point=ce.subtract(p.getPixelOrigin()),this._radius=isNaN(Oe)?0:ce.x-p.project([Ee,o-Oe]).x,this._radiusY=ce.y-q.y}else{var $e=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint($e).x}this._updateBounds()}});function Qf(o,h,p){return new Uu(o,h,p)}var Ps=us.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){M(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,p=null,w=it,x,N,q=0,ee=this._parts.length;q<ee;q++)for(var ce=this._parts[q],Ee=1,Oe=ce.length;Ee<Oe;Ee++){x=ce[Ee-1],N=ce[Ee];var $e=w(o,x,N,!0);$e<h&&(h=$e,p=w(o,x,N))}return p&&(p.distance=Math.sqrt(h)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Le(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ge,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],p=Ot(o),w=0,x=o.length;w<x;w++)p?(h[w]=Le(o[w]),this._bounds.extend(h[w])):h[w]=this._convertLatLngs(o[w]);return h},_project:function(){var o=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new ve(o,o);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,p){var w=o[0]instanceof Ie,x=o.length,N,q;if(w){for(q=[],N=0;N<x;N++)q[N]=this._map.latLngToLayerPoint(o[N]),p.extend(q[N]);h.push(q)}else for(N=0;N<x;N++)this._projectLatlngs(o[N],h,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,p,w,x,N,q,ee,ce;for(p=0,x=0,N=this._rings.length;p<N;p++)for(ce=this._rings[p],w=0,q=ce.length;w<q-1;w++)ee=D(ce[w],ce[w+1],o,w,!0),ee&&(h[x]=h[x]||[],h[x].push(ee[0]),(ee[1]!==ce[w+1]||w===q-2)&&(h[x].push(ee[1]),x++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,p=0,w=o.length;p<w;p++)o[p]=ui(o[p],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var p,w,x,N,q,ee,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,N=this._parts.length;p<N;p++)for(ee=this._parts[p],w=0,q=ee.length,x=q-1;w<q;x=w++)if(!(!h&&w===0)&&Ml(o,ee[x],ee[w])<=ce)return!0;return!1}});function Fp(o,h){return new Ps(o,h)}Ps._flat=Dt;var Io=Ps.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Ps.prototype._convertLatLngs.call(this,o),p=h.length;return p>=2&&h[0]instanceof Ie&&h[0].equals(h[p-1])&&h.pop(),h},_setLatLngs:function(o){Ps.prototype._setLatLngs.call(this,o),Ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,p=new ve(h,h);if(o=new $(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,x=this._rings.length,N;w<x;w++)N=Ol(this._rings[w],o,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,p,w,x,N,q,ee,ce,Ee;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(N=0,ce=this._parts.length;N<ce;N++)for(p=this._parts[N],q=0,Ee=p.length,ee=Ee-1;q<Ee;ee=q++)w=p[q],x=p[ee],w.y>o.y!=x.y>o.y&&o.x<(x.x-w.x)*(o.y-w.y)/(x.y-w.y)+w.x&&(h=!h);return h||Ps.prototype._containsPoint.call(this,o,!0)}});function Hp(o,h){return new Io(o,h)}var Ls=os.extend({initialize:function(o,h){M(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=re(o)?o:o.features,p,w,x;if(h){for(p=0,w=h.length;p<w;p++)x=h[p],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var N=this.options;if(N.filter&&!N.filter(o))return this;var q=ci(o,N);return q?(q.feature=Hu(o),q.defaultOptions=q.options,this.resetStyle(q),N.onEachFeature&&N.onEachFeature(o,q),this.addLayer(q)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function ci(o,h){var p=o.type==="Feature"?o.geometry:o,w=p?p.coordinates:null,x=[],N=h&&h.pointToLayer,q=h&&h.coordsToLatLng||Bu,ee,ce,Ee,Oe;if(!w&&!p)return null;switch(p.type){case"Point":return ee=q(w),No(N,o,ee,h);case"MultiPoint":for(Ee=0,Oe=w.length;Ee<Oe;Ee++)ee=q(w[Ee]),x.push(No(N,o,ee,h));return new os(x);case"LineString":case"MultiLineString":return ce=Bl(w,p.type==="LineString"?0:1,q),new Ps(ce,h);case"Polygon":case"MultiPolygon":return ce=Bl(w,p.type==="Polygon"?1:2,q),new Io(ce,h);case"GeometryCollection":for(Ee=0,Oe=p.geometries.length;Ee<Oe;Ee++){var $e=ci({geometry:p.geometries[Ee],type:"Feature",properties:o.properties},h);$e&&x.push($e)}return new os(x);case"FeatureCollection":for(Ee=0,Oe=p.features.length;Ee<Oe;Ee++){var mt=ci(p.features[Ee],h);mt&&x.push(mt)}return new os(x);default:throw new Error("Invalid GeoJSON object.")}}function No(o,h,p,w){return o?o(h,p):new Ul(p,w&&w.markersInheritOptions&&w)}function Bu(o){return new Ie(o[1],o[0],o[2])}function Bl(o,h,p){for(var w=[],x=0,N=o.length,q;x<N;x++)q=h?Bl(o[x],h-1,p):(p||Bu)(o[x]),w.push(q);return w}function Fu(o,h){return o=Le(o),o.alt!==void 0?[C(o.lng,h),C(o.lat,h),C(o.alt,h)]:[C(o.lng,h),C(o.lat,h)]}function Fl(o,h,p,w){for(var x=[],N=0,q=o.length;N<q;N++)x.push(h?Fl(o[N],Ot(o[N])?0:h-1,p,w):Fu(o[N],w));return!h&&p&&x.length>0&&x.push(x[0].slice()),x}function sa(o,h){return o.feature?a({},o.feature,{geometry:h}):Hu(h)}function Hu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var aa={toGeoJSON:function(o){return sa(this,{type:"Point",coordinates:Fu(this.getLatLng(),o)})}};Ul.include(aa),Uu.include(aa),Ro.include(aa),Ps.include({toGeoJSON:function(o){var h=!Ot(this._latlngs),p=Fl(this._latlngs,h?1:0,!1,o);return sa(this,{type:(h?"Multi":"")+"LineString",coordinates:p})}}),Io.include({toGeoJSON:function(o){var h=!Ot(this._latlngs),p=h&&!Ot(this._latlngs[0]),w=Fl(this._latlngs,p?2:h?1:0,!0,o);return h||(w=[w]),sa(this,{type:(p?"Multi":"")+"Polygon",coordinates:w})}}),Co.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(p){h.push(p.toGeoJSON(o).geometry.coordinates)}),sa(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var p=h==="GeometryCollection",w=[];return this.eachLayer(function(x){if(x.toGeoJSON){var N=x.toGeoJSON(o);if(p)w.push(N.geometry);else{var q=Hu(N);q.type==="FeatureCollection"?w.push.apply(w,q.features):w.push(q)}}}),p?sa(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function $u(o,h){return new Ls(o,h)}var Hl=$u,ko=zr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,p){this._url=o,this._bounds=_e(h),M(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&hn(this._image),this},bringToBack:function(){return this._map&&Bi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=_e(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:vt("img");if(ze(h,"leaflet-image-layer"),this._zoomAnimated&&ze(h,"leaflet-zoom-animated"),this.options.className&&ze(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;kr(this._image,p,h)},_reset:function(){var o=this._image,h=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=h.getSize();Zt(o,h.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Xf=function(o,h,p){return new ko(o,h,p)},oa=ko.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:vt("video");if(ze(h,"leaflet-image-layer"),this._zoomAnimated&&ze(h,"leaflet-zoom-animated"),this.options.className&&ze(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onloadeddata=c(this.fire,this,"load"),o){for(var p=h.getElementsByTagName("source"),w=[],x=0;x<p.length;x++)w.push(p[x].src);this._url=p.length>0?w:[h.src];return}re(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var q=vt("source");q.src=this._url[N],h.appendChild(q)}}});function Po(o,h,p){return new oa(o,h,p)}var qu=ko.extend({_initImage:function(){var o=this._image=this._url;ze(o,"leaflet-image-layer"),this._zoomAnimated&&ze(o,"leaflet-zoom-animated"),this.options.className&&ze(o,this.options.className),o.onselectstart=E,o.onmousemove=E}});function Jf(o,h,p){return new qu(o,h,p)}var hi=zr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof Ie||re(o))?(this._latlng=Le(o),M(this,h)):(M(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&tn(this._container,1),this.bringToFront(),this.options.interactive&&(ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(tn(this._container,0),this._removeTimeout=setTimeout(c(bt,void 0,this._container),200)):bt(this._container),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Le(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hn(this._container),this},bringToBack:function(){return this._map&&Bi(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof os){h=null;var p=this._source._layers;for(var w in p)if(p[w]._map){h=p[w];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=ke(this.options.offset),p=this._getAnchor();this._zoomAnimated?Zt(this._container,o.add(p)):h=h.add(o).add(p);var w=this._containerBottom=-h.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=w+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});yt.include({_initOverlay:function(o,h,p,w){var x=h;return x instanceof o||(x=new o(w).setContent(h)),p&&x.setLatLng(p),x}}),zr.include({_initOverlay:function(o,h,p,w){var x=p;return x instanceof o?(M(x,w),x._source=this):(x=h&&!w?h:new o(w,this),x.setContent(p)),x}});var $l=hi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,hi.prototype.openOn.call(this,o)},onAdd:function(o){hi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof us||this._source.on("preclick",At))},onRemove:function(o){hi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof us||this._source.off("preclick",At))},getEvents:function(){var o=hi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=vt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=vt("div",o+"-content-wrapper",h);if(this._contentNode=vt("div",o+"-content",p),Rs(h),or(this._contentNode),Ye(h,"contextmenu",At),this._tipContainer=vt("div",o+"-tip-container",h),this._tip=vt("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=vt("a",o+"-close-button",h);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Ye(w,"click",function(x){fn(x),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),h.width=p+1+"px",h.whiteSpace="",h.height="";var w=o.offsetHeight,x=this.options.maxHeight,N="leaflet-popup-scrolled";x&&w>x?(h.height=x+"px",ze(o,N)):qt(o,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();Zt(this._container,h.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(Xs(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+h,w=this._containerWidth,x=new ve(this._containerLeft,-p-this._containerBottom);x._add(is(this._container));var N=o.layerPointToContainerPoint(x),q=ke(this.options.autoPanPadding),ee=ke(this.options.autoPanPaddingTopLeft||q),ce=ke(this.options.autoPanPaddingBottomRight||q),Ee=o.getSize(),Oe=0,$e=0;N.x+w+ce.x>Ee.x&&(Oe=N.x+w-Ee.x+ce.x),N.x-Oe-ee.x<0&&(Oe=N.x-ee.x),N.y+p+ce.y>Ee.y&&($e=N.y+p-Ee.y+ce.y),N.y-$e-ee.y<0&&($e=N.y-ee.y),(Oe||$e)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Oe,$e]))}},_getAnchor:function(){return ke(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ed=function(o,h){return new $l(o,h)};yt.mergeOptions({closePopupOnClick:!0}),yt.include({openPopup:function(o,h,p){return this._initOverlay($l,o,h,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),zr.include({bindPopup:function(o,h){return this._popup=this._initOverlay($l,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof os||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Pr(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof us)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var ql=hi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){hi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){hi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=hi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=vt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,p,w=this._map,x=this._container,N=w.latLngToContainerPoint(w.getCenter()),q=w.layerPointToContainerPoint(o),ee=this.options.direction,ce=x.offsetWidth,Ee=x.offsetHeight,Oe=ke(this.options.offset),$e=this._getAnchor();ee==="top"?(h=ce/2,p=Ee):ee==="bottom"?(h=ce/2,p=0):ee==="center"?(h=ce/2,p=Ee/2):ee==="right"?(h=0,p=Ee/2):ee==="left"?(h=ce,p=Ee/2):q.x<N.x?(ee="right",h=0,p=Ee/2):(ee="left",h=ce+(Oe.x+$e.x)*2,p=Ee/2),o=o.subtract(ke(h,p,!0)).add(Oe).add($e),qt(x,"leaflet-tooltip-right"),qt(x,"leaflet-tooltip-left"),qt(x,"leaflet-tooltip-top"),qt(x,"leaflet-tooltip-bottom"),ze(x,"leaflet-tooltip-"+ee),Zt(x,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&tn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return ke(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$p=function(o,h){return new ql(o,h)};yt.include({openTooltip:function(o,h,p){return this._initOverlay(ql,o,h,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),zr.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ql,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[h](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof os||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Ye(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ye(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,p,w;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(p),h=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(h)}});var td=ls.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(cn(h),h.appendChild(p.html)):h.innerHTML=p.html!==!1?p.html:"",p.bgPos){var w=ke(p.bgPos);h.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function qp(o){return new td(o)}ls.Default=zl;var Lo=zr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){M(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),bt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ve?o:new ve(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,p=-o(-1/0,1/0),w=0,x=h.length,N;w<x;w++)N=h[w].style.zIndex,h[w]!==this._container&&N&&(p=o(p,+N));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ue.ielt9){tn(this._container,this.options.opacity);var o=+new Date,h=!1,p=!1;for(var w in this._tiles){var x=this._tiles[w];if(!(!x.current||!x.loaded)){var N=Math.min(1,(o-x.loaded)/200);tn(x.el,N),N<1?h=!0:(x.active?p=!0:this._onOpaqueTile(x),x.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),h&&(B(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=h-Math.abs(o-p),this._onUpdateLevel(p)):(bt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var w=this._levels[o],x=this._map;return w||(w=this._levels[o]={},w.el=vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=h,w.origin=x.project(x.unproject(x.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,x.getCenter(),x.getZoom()),E(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var o,h,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var w=h.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)bt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,p,w){var x=Math.floor(o/2),N=Math.floor(h/2),q=p-1,ee=new ve(+x,+N);ee.z=+q;var ce=this._tileCoordsToKey(ee),Ee=this._tiles[ce];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),q>w?this._retainParent(x,N,q,w):!1)},_retainChildren:function(o,h,p,w){for(var x=2*o;x<2*o+2;x++)for(var N=2*h;N<2*h+2;N++){var q=new ve(x,N);q.z=p+1;var ee=this._tileCoordsToKey(q),ce=this._tiles[ee];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);p+1<w&&this._retainChildren(x,N,p+1,w)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,p,w){var x=Math.round(h);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var N=this.options.updateWhenZooming&&x!==this._tileZoom;(!w||N)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,h)},_setZoomTransform:function(o,h,p){var w=this._map.getZoomScale(p,o.zoom),x=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(h,p)).round();Ue.any3d?kr(o.el,x,w):Zt(o.el,x)},_resetGrid:function(){var o=this._map,h=o.options.crs,p=this._tileSize=this.getTileSize(),w=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],w).x/p.x),Math.ceil(o.project([0,h.wrapLng[1]],w).x/p.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],w).y/p.x),Math.ceil(o.project([h.wrapLat[1],0],w).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,p=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),w=h.getZoomScale(p,this._tileZoom),x=h.project(o,this._tileZoom).floor(),N=h.getSize().divideBy(w*2);return new $(x.subtract(N),x.add(N))},_update:function(o){var h=this._map;if(h){var p=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),x=this._pxBoundsToTileRange(w),N=x.getCenter(),q=[],ee=this.options.keepBuffer,ce=new $(x.getBottomLeft().subtract([ee,-ee]),x.getTopRight().add([ee,-ee]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Oe=this._tiles[Ee].coords;(Oe.z!==this._tileZoom||!ce.contains(new ve(Oe.x,Oe.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var $e=x.min.y;$e<=x.max.y;$e++)for(var mt=x.min.x;mt<=x.max.x;mt++){var ti=new ve(mt,$e);if(ti.z=this._tileZoom,!!this._isValidTile(ti)){var kn=this._tiles[this._tileCoordsToKey(ti)];kn?kn.current=!0:q.push(ti)}}if(q.sort(function(Vt,Ut){return Vt.distanceTo(N)-Ut.distanceTo(N)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qi=document.createDocumentFragment();for(mt=0;mt<q.length;mt++)this._addTile(q[mt],qi);this._level.el.appendChild(qi)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var p=this._globalTileRange;if(!h.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!h.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return _e(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,p=this.getTileSize(),w=o.scaleBy(p),x=w.add(p),N=h.unproject(w,o.z),q=h.unproject(x,o.z);return[N,q]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),p=new ge(h[0],h[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),p=new ve(+h[0],+h[1]);return p.z=+h[2],p},_removeTile:function(o){var h=this._tiles[o];h&&(bt(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ze(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=E,o.onmousemove=E,Ue.ielt9&&this.options.opacity<1&&tn(o,this.options.opacity)},_addTile:function(o,h){var p=this._getTilePos(o),w=this._tileCoordsToKey(o),x=this.createTile(this._wrapCoords(o),c(this._tileReady,this,o));this._initTile(x),this.createTile.length<2&&F(c(this._tileReady,this,o,null,x)),Zt(x,p),this._tiles[w]={el:x,coords:o,current:!0},h.appendChild(x),this.fire("tileloadstart",{tile:x,coords:o})},_tileReady:function(o,h,p){h&&this.fire("tileerror",{error:h,tile:p,coords:o});var w=this._tileCoordsToKey(o);p=this._tiles[w],p&&(p.loaded=+new Date,this._map._fadeAnimated?(tn(p.el,0),B(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),h||(ze(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ue.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new ve(this._wrapX?S(o.x,this._wrapX):o.x,this._wrapY?S(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new $(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function nd(o){return new Lo(o)}var la=Lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=M(this,h),h.detectRetina&&Ue.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var p=document.createElement("img");return Ye(p,"load",c(this._tileOnLoad,this,h,p)),Ye(p,"error",c(this._tileOnError,this,h,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var h={r:Ue.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=p),h["-y"]=p}return X(this._url,a(h,this.options))},_tileOnLoad:function(o,h){Ue.ielt9?setTimeout(c(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,p){var w=this.options.errorTileUrl;w&&h.getAttribute("src")!==w&&(h.src=w),o(p,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,p=this.options.zoomReverse,w=this.options.zoomOffset;return p&&(o=h-o),o+w},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=E,h.onerror=E,!h.complete)){h.src=ne;var p=this._tiles[o].coords;bt(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:p})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",ne),Lo.prototype._removeTile.call(this,o)},_tileReady:function(o,h,p){if(!(!this._map||p&&p.getAttribute("src")===ne))return Lo.prototype._tileReady.call(this,o,h,p)}});function cr(o,h){return new la(o,h)}var Zl=la.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var p=a({},this.defaultWmsParams);for(var w in h)w in this.options||(p[w]=h[w]);h=M(this,h);var x=h.detectRetina&&Ue.retina?2:1,N=this.getTileSize();p.width=N.x*x,p.height=N.y*x,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,la.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),p=this._crs,w=Y(p.project(h[0]),p.project(h[1])),x=w.min,N=w.max,q=(this._wmsVersion>=1.3&&this._crs===Ma?[x.y,x.x,N.y,N.x]:[x.x,x.y,N.x,N.y]).join(","),ee=la.prototype.getTileUrl.call(this,o);return ee+W(this.wmsParams,ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(o,h){return a(this.wmsParams,o),h||this.redraw(),this}});function hr(o,h){return new Zl(o,h)}la.WMS=Zl,cr.wms=hr;var ki=zr.extend({options:{padding:.1},initialize:function(o){M(this,o),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var p=this._map.getZoomScale(h,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,h),N=w.multiplyBy(-p).add(x).subtract(this._map._getNewPixelOrigin(o,h));Ue.any3d?kr(this._container,N,p):Zt(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),p=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new $(p,p.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zu=ki.extend({options:{tolerance:0},getEvents:function(){var o=ki.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ye(o,"mousemove",this._onMouseMove,this),Ye(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ye(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,bt(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var o=this._bounds,h=this._container,p=o.getSize(),w=Ue.retina?2:1;Zt(h,o.min),h.width=w*p.x,h.height=w*p.y,h.style.width=p.x+"px",h.style.height=p.y+"px",Ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[_(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,p=h.next,w=h.prev;p?p.prev=w:this._drawLast=w,w?w.next=p:this._drawFirst=p,delete o._order,delete this._layers[_(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),p=[],w,x;for(x=0;x<h.length;x++){if(w=Number(h[x]),isNaN(w))return;p.push(w)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var p=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var p,w,x,N,q=o._parts,ee=q.length,ce=this._ctx;if(ee){for(ce.beginPath(),p=0;p<ee;p++){for(w=0,x=q[p].length;w<x;w++)N=q[p][w],ce[w?"lineTo":"moveTo"](N.x,N.y);h&&ce.closePath()}this._fillStroke(ce,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,p=this._ctx,w=Math.max(Math.round(o._radius),1),x=(Math.max(Math.round(o._radiusY),1)||w)/w;x!==1&&(p.save(),p.scale(1,x)),p.beginPath(),p.arc(h.x,h.y/x,w,0,Math.PI*2,!1),x!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,h){var p=h.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),p,w,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(w=p);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(qt(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var p,w,x=this._drawFirst;x;x=x.next)p=x.layer,p.options.interactive&&p._containsPoint(h)&&(w=p);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(ze(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,p){this._map._fireDOMEvent(h,p||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var p=h.next,w=h.prev;if(p)p.prev=w;else return;w?w.next=p:p&&(this._drawFirst=p),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var p=h.next,w=h.prev;if(w)w.next=p;else return;p?p.prev=w:w&&(this._drawLast=w),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Gl(o){return Ue.canvas?new Zu(o):null}var ua=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),sh={_initContainer:function(){this._container=vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=ua("shape");ze(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=ua("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[_(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;bt(h),o.removeInteractiveTarget(h),delete this._layers[_(o)]},_updateStyle:function(o){var h=o._stroke,p=o._fill,w=o.options,x=o._container;x.stroked=!!w.stroke,x.filled=!!w.fill,w.stroke?(h||(h=o._stroke=ua("stroke")),x.appendChild(h),h.weight=w.weight+"px",h.color=w.color,h.opacity=w.opacity,w.dashArray?h.dashStyle=re(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=w.lineCap.replace("butt","flat"),h.joinstyle=w.lineJoin):h&&(x.removeChild(h),o._stroke=null),w.fill?(p||(p=o._fill=ua("fill")),x.appendChild(p),p.color=w.fillColor||w.color,p.opacity=w.fillOpacity):p&&(x.removeChild(p),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),p=Math.round(o._radius),w=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+p+","+w+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){hn(o._container)},_bringToBack:function(o){Bi(o._container)}},cs=Ue.vml?ua:ws,Oo=ki.extend({_initContainer:function(){this._container=cs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bt(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var o=this._bounds,h=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,p.setAttribute("width",h.x),p.setAttribute("height",h.y)),Zt(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=cs("path");o.options.className&&ze(h,o.options.className),o.options.interactive&&ze(h,"leaflet-interactive"),this._updateStyle(o),this._layers[_(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){bt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[_(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,p=o.options;h&&(p.stroke?(h.setAttribute("stroke",p.color),h.setAttribute("stroke-opacity",p.opacity),h.setAttribute("stroke-width",p.weight),h.setAttribute("stroke-linecap",p.lineCap),h.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?h.setAttribute("stroke-dasharray",p.dashArray):h.removeAttribute("stroke-dasharray"),p.dashOffset?h.setAttribute("stroke-dashoffset",p.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),p.fill?(h.setAttribute("fill",p.fillColor||p.color),h.setAttribute("fill-opacity",p.fillOpacity),h.setAttribute("fill-rule",p.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,Tr(o._parts,h))},_updateCircle:function(o){var h=o._point,p=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||p,x="a"+p+","+w+" 0 1,0 ",N=o._empty()?"M0 0":"M"+(h.x-p)+","+h.y+x+p*2+",0 "+x+-p*2+",0 ";this._setPath(o,N)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){hn(o._path)},_bringToBack:function(o){Bi(o._path)}});Ue.vml&&Oo.include(sh);function Kl(o){return Ue.svg||Ue.vml?new Oo(o):null}yt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Gl(o)||Kl(o)}});var ja=Io.extend({initialize:function(o,h){Io.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=_e(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Zp(o,h){return new ja(o,h)}Oo.create=cs,Oo.pointsToPath=Tr,Ls.geometryToLayer=ci,Ls.coordsToLatLng=Bu,Ls.coordsToLatLngs=Bl,Ls.latLngToCoords=Fu,Ls.latLngsToCoords=Fl,Ls.getFeature=sa,Ls.asFeature=Hu,yt.mergeOptions({boxZoom:!0});var Pi=Hi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ar(),ka(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ye(document,{contextmenu:Pr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=vt("div","leaflet-zoom-box",this._container),ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new $(this._point,this._startPoint),p=h.getSize();Zt(this._box,h.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(bt(this._box),qt(this._container,"leaflet-crosshair")),Bn(),Js(),jt(document,{contextmenu:Pr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new ge(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yt.addInitHook("addHandler","boxZoom",Pi),yt.mergeOptions({doubleClickZoom:!0});var Gu=Hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,p=h.getZoom(),w=h.options.zoomDelta,x=o.originalEvent.shiftKey?p-w:p+w;h.options.doubleClickZoom==="center"?h.setZoom(x):h.setZoomAround(o.containerPoint,x)}});yt.addInitHook("addHandler","doubleClickZoom",Gu),yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hs=Hi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Mr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qt(this._map._container,"leaflet-grab"),qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=_e(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),p=this._initialWorldOffset,w=this._draggable._newPos.x,x=(w-h+p)%o+h-p,N=(w+h+p)%o-h-p,q=Math.abs(x+p)<Math.abs(N+p)?x:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(o){var h=this._map,p=h.options,w=!p.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),w)h.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,q=p.easeLinearity,ee=x.multiplyBy(q/N),ce=ee.distanceTo([0,0]),Ee=Math.min(p.inertiaMaxSpeed,ce),Oe=ee.multiplyBy(Ee/ce),$e=Ee/(p.inertiaDeceleration*q),mt=Oe.multiplyBy(-$e/2).round();!mt.x&&!mt.y?h.fire("moveend"):(mt=h._limitOffset(mt,h.options.maxBounds),F(function(){h.panBy(mt,{duration:$e,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});yt.addInitHook("addHandler","dragging",hs),yt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ah=Hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ye(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,p=o.scrollTop||h.scrollTop,w=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(w,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},p=this.keyCodes,w,x;for(w=0,x=p.left.length;w<x;w++)h[p.left[w]]=[-1*o,0];for(w=0,x=p.right.length;w<x;w++)h[p.right[w]]=[o,0];for(w=0,x=p.down.length;w<x;w++)h[p.down[w]]=[0,o];for(w=0,x=p.up.length;w<x;w++)h[p.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},p=this.keyCodes,w,x;for(w=0,x=p.zoomIn.length;w<x;w++)h[p.zoomIn[w]]=o;for(w=0,x=p.zoomOut.length;w<x;w++)h[p.zoomOut[w]]=-o},_addHooks:function(){Ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,p=this._map,w;if(h in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(w=this._panKeys[h],o.shiftKey&&(w=ke(w).multiplyBy(3)),p.options.maxBounds&&(w=p._limitOffset(ke(w),p.options.maxBounds)),p.options.worldCopyJump){var x=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(w)));p.panTo(x)}else p.panBy(w)}else if(h in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Pr(o)}}});yt.addInitHook("addHandler","keyboard",ah),yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wl=Hi.extend({addHooks:function(){Ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=Fn(o),p=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),w),Pr(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,N=p?Math.ceil(x/p)*p:x,q=o._limitZoom(h+(this._delta>0?N:-N))-h;this._delta=0,this._startTime=null,q&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+q):o.setZoomAround(this._lastMousePos,h+q))}});yt.addInitHook("addHandler","scrollWheelZoom",Wl);var za=600;yt.mergeOptions({tapHold:Ue.touchNative&&Ue.safari&&Ue.mobile,tapTolerance:15});var Ku=Hi.extend({addHooks:function(){Ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new ve(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ye(document,"touchend",fn),Ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),za),Ye(document,"touchend touchcancel contextmenu",this._cancel,this),Ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){jt(document,"touchend",fn),jt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new ve(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});p._simulated=!0,h.target.dispatchEvent(p)}});yt.addInitHook("addHandler","tapHold",Ku),yt.mergeOptions({touchZoom:Ue.touch,bounceAtZoomLimits:!0});var oh=Hi.extend({addHooks:function(){ze(this._map._container,"leaflet-touch-zoom"),Ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var p=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(p.add(w)._divideBy(2))),this._startDist=p.distanceTo(w),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ye(document,"touchmove",this._onTouchMove,this),Ye(document,"touchend touchcancel",this._onTouchEnd,this),fn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,p=h.mouseEventToContainerPoint(o.touches[0]),w=h.mouseEventToContainerPoint(o.touches[1]),x=p.distanceTo(w)/this._startDist;if(this._zoom=h.getScaleZoom(x,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&x<1||this._zoom>h.getMaxZoom()&&x>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var N=p._add(w)._divideBy(2)._subtract(this._centerPoint);if(x===1&&N.x===0&&N.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var q=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(q,this,!0),fn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yt.addInitHook("addHandler","touchZoom",oh),yt.BoxZoom=Pi,yt.DoubleClickZoom=Gu,yt.Drag=hs,yt.Keyboard=ah,yt.ScrollWheelZoom=Wl,yt.TapHold=Ku,yt.TouchZoom=oh,n.Bounds=$,n.Browser=Ue,n.CRS=Qe,n.Canvas=Zu,n.Circle=Uu,n.CircleMarker=Ro,n.Class=Ae,n.Control=li,n.DivIcon=td,n.DivOverlay=hi,n.DomEvent=as,n.DomUtil=ta,n.Draggable=Mr,n.Evented=de,n.FeatureGroup=os,n.GeoJSON=Ls,n.GridLayer=Lo,n.Handler=Hi,n.Icon=ls,n.ImageOverlay=ko,n.LatLng=Ie,n.LatLngBounds=ge,n.Layer=zr,n.LayerGroup=Co,n.LineUtil=lr,n.Map=yt,n.Marker=Ul,n.Mixin=zu,n.Path=us,n.Point=ve,n.PolyUtil=ra,n.Polygon=Io,n.Polyline=Ps,n.Popup=$l,n.PosAnimation=Is,n.Projection=jr,n.Rectangle=ja,n.Renderer=ki,n.SVG=Oo,n.SVGOverlay=qu,n.TileLayer=la,n.Tooltip=ql,n.Transformation=Xi,n.Util=j,n.VideoOverlay=oa,n.bind=c,n.bounds=Y,n.canvas=Gl,n.circle=Qf,n.circleMarker=Yf,n.control=Ni,n.divIcon=qp,n.extend=a,n.featureGroup=Kf,n.geoJSON=$u,n.geoJson=Hl,n.gridLayer=nd,n.icon=jl,n.imageOverlay=Xf,n.latLng=Le,n.latLngBounds=_e,n.layerGroup=Bp,n.map=ia,n.marker=Wf,n.point=ke,n.polygon=Hp,n.polyline=Fp,n.popup=ed,n.rectangle=Zp,n.setOptions=M,n.stamp=_,n.svg=Kl,n.svgOverlay=Jf,n.tileLayer=cr,n.tooltip=$p,n.transformation=Ji,n.version=i,n.videoOverlay=Po;var lh=window.L;n.noConflict=function(){return window.L=lh,this},window.L=n}))})(tf,tf.exports)),tf.exports}var Zf=C9();const XC=O1(Zf);function db(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function mb(t,e){return e==null?function(i,a){const l=U.useRef(void 0);return l.current||(l.current=t(i,a)),l}:function(i,a){const l=U.useRef(void 0);l.current||(l.current=t(i,a));const c=U.useRef(i),{instance:d}=l.current;return U.useEffect(function(){c.current!==i&&(e(d,i,c.current),c.current=i)},[d,i,e]),l}}function R9(t,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function JC(t){return function(n){const i=hb(),a=t(fb(n,i),i);return YC(i.map,n.attribution),QC(a.current,n.eventHandlers),R9(a.current,i),a}}function I9(t,e){const n=mb(t,e),i=JC(n);return E9(i)}function N9(t,e){const n=mb(t),i=x9(n,e);return S9(i)}function k9(t,e){const n=mb(t,e),i=JC(n);return T9(i)}function P9(t,e,n){const{opacity:i,zIndex:a}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function L9(){return hb().map}function O9({bounds:t,boundsOptions:e,center:n,children:i,className:a,id:l,placeholder:c,style:d,whenReady:_,zoom:y,...S},E){const[C]=U.useState({className:a,id:l,style:d}),[I,H]=U.useState(null),M=U.useRef(void 0);U.useImperativeHandle(E,()=>I?.map??null,[I]);const W=U.useCallback(X=>{if(X!==null&&!M.current){const re=new Zf.Map(X,S);M.current=re,n!=null&&y!=null?re.setView(n,y):t!=null&&re.fitBounds(t,e),_!=null&&re.whenReady(_),H(b9(re))}},[]);U.useEffect(()=>()=>{I?.map.remove()},[I]);const ue=I?Je.createElement(cb,{value:I},i):c??null;return Je.createElement("div",{...C,ref:W},ue)}const D9=U.forwardRef(O9),M9=I9(function({position:e,...n},i){const a=new Zf.Marker(e,n);return db(a,w9(i,{overlayContainer:a}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),j9=N9(function(e,n){const i=new Zf.Popup(e,n.overlayContainer);return db(i,n)},function(e,n,{position:i},a){U.useEffect(function(){const{instance:c}=e;function d(y){y.popup===c&&(c.update(),a(!0))}function _(y){y.popup===c&&a(!1)}return n.map.on({popupopen:d,popupclose:_}),n.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){n.map.off({popupopen:d,popupclose:_}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(c)}},[e,n,a,i])}),z9=k9(function({url:e,...n},i){const a=new Zf.TileLayer(e,fb(n,i));return db(a,i)},function(e,n,i){P9(e,n,i);const{url:a}=n;a!=null&&a!==i.url&&e.setUrl(a)}),V9="_mapWrapper_44rlw_1",U9="_popupContent_44rlw_9",B9="_popupHeader_44rlw_13",F9="_popupAvatar_44rlw_20",H9="_popupInfo_44rlw_27",$9="_popupMeta_44rlw_32",q9="_popupLink_44rlw_37",ou={mapWrapper:V9,popupContent:U9,popupHeader:B9,popupAvatar:F9,popupInfo:H9,popupMeta:$9,popupLink:q9};delete XC.Icon.Default.prototype._getIconUrl;XC.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Z9=({center:t})=>{const e=L9();return U.useEffect(()=>{t&&e.setView(t,e.getZoom())},[t,e]),null},G9=({users:t,center:e=[51.505,-.09]})=>b.jsx("div",{className:ou.mapWrapper,children:b.jsxs(D9,{center:e,zoom:4,style:{height:"100%",width:"100%"},children:[b.jsx(z9,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),b.jsx(Z9,{center:e}),t.map((n,i)=>{if(!n.location?.lat||!n.location?.lng)return null;const a=[n.location.lat,n.location.lng];return b.jsx(M9,{position:a,children:b.jsx(j9,{children:b.jsxs("div",{className:ou.popupContent,children:[b.jsxs("div",{className:ou.popupHeader,children:[n.photoURL&&b.jsx("img",{src:n.photoURL,alt:"",className:ou.popupAvatar}),b.jsxs("div",{className:ou.popupInfo,children:[b.jsx("strong",{children:n.displayName}),b.jsx("div",{className:ou.popupMeta,children:n.category||"User"})]})]}),b.jsx(xt,{to:`/profile/${n.id}`,className:ou.popupLink,children:"View Profile"})]})})},n.id||i)})]})}),K9="_searchPage_15tcl_1",W9="_searchHeader_15tcl_12",Y9="_searchBarWrapper_15tcl_17",Q9="_filtersBar_15tcl_22",X9="_filterGroup_15tcl_29",J9="_filterLabel_15tcl_36",e5="_checkboxList_15tcl_43",t5="_checkboxLabel_15tcl_55",n5="_contentArea_15tcl_73",i5="_resultsColumn_15tcl_82",r5="_resultsMeta_15tcl_91",s5="_resultsList_15tcl_98",a5="_resultCard_15tcl_108",o5="_cardHeader_15tcl_121",l5="_avatar_15tcl_128",u5="_initials_15tcl_143",c5="_userInfo_15tcl_154",h5="_subtext_15tcl_160",f5="_badge_15tcl_166",d5="_available_15tcl_175",m5="_maybe_15tcl_180",p5="_busy_15tcl_185",g5="_viewProfileBtn_15tcl_190",_5="_emptyState_15tcl_210",y5="_mapColumn_15tcl_219",v5="_skillsPreview_15tcl_230",b5="_skillEntry_15tcl_237",w5="_skillTag_15tcl_243",E5="_skillMeta_15tcl_257",S5="_lvl_15tcl_266",T5="_avail_15tcl_175",x5="_stylesList_15tcl_294",gt={searchPage:K9,searchHeader:W9,searchBarWrapper:Y9,filtersBar:Q9,filterGroup:X9,filterLabel:J9,checkboxList:e5,checkboxLabel:t5,contentArea:n5,resultsColumn:i5,resultsMeta:r5,resultsList:s5,resultCard:a5,cardHeader:o5,avatar:l5,initials:u5,userInfo:c5,subtext:h5,badge:f5,available:d5,maybe:m5,busy:p5,viewProfileBtn:g5,emptyState:_5,mapColumn:y5,skillsPreview:v5,skillEntry:b5,skillTag:w5,skillMeta:E5,lvl:S5,avail:T5,stylesList:x5},A5={music:"",sports:"",acting:"",dance:"",circus:"",other:"",technical:"",languages:""},C5=()=>{const{t}=xi(),[e,n]=H2(),[i,a]=U.useState(!1),[l,c]=U.useState([]),d=le=>{const P=e.get(le);return P?P.split(","):[]},[_,y]=U.useState(e.get("q")||""),[S,E]=U.useState(d("category")),[C,I]=U.useState(d("subcategory")),[H,M]=U.useState(d("skillLevel")),[W,ue]=U.useState(d("availability")),[X,re]=U.useState([51.505,-.09]);U.useEffect(()=>{y(e.get("q")||""),E(d("category")),I(d("subcategory")),M(d("skillLevel")),ue(d("availability"))},[e]),U.useEffect(()=>{(async()=>{a(!0);try{let P=[];const O=e.get("type");if(S.length>0||C.length>0||H.length>0||W.length>0||O==="subcategory"||O==="category"){const B={category:S,subcategory:C,experienceLevel:H,availability:W};O==="subcategory"&&(B.subcategory=_),O==="category"&&(B.category=_);const j=await JV(B,50),Ae=[...new Set(j.map(qe=>qe.userId))];if(Ae.length>0){if(P=await VC(Ae),_&&O!=="subcategory"&&O!=="category"&&S.length===0&&C.length===0){const qe=_.toLowerCase();P=P.filter(te=>te.displayName?.toLowerCase().includes(qe)||te.location?.city?.toLowerCase().includes(qe))}}else P=[]}else P=await ub(_,50);const V=await Promise.all(P.map(async B=>{try{const j=await Fy(B.id);return{...B,skills:j||[]}}catch(j){return console.error(`Error fetching skills for user ${B.id}:`,j),{...B,skills:[]}}}));c(V),P.length>0&&P[0].location?.lat&&re([P[0].location.lat,P[0].location.lng]);const F=P.filter(B=>B.location?.city&&(!B.location.lat||!B.location.lng));F.length>0&&[...new Set(F.map(j=>`${j.location.city}, ${j.location.country||""}`))].slice(0,3).forEach(async j=>{try{const Ae=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j)}&limit=1`);if(Ae.ok){const qe=await Ae.json();qe&&qe.length>0&&c(te=>te.map(de=>`${de.location?.city}, ${de.location?.country||""}`===j?{...de,location:{...de.location,lat:parseFloat(qe[0].lat),lng:parseFloat(qe[0].lon)}}:de))}}catch(Ae){console.error("Auto-geocode error:",Ae)}})}catch(P){console.error("Search error:",P)}finally{a(!1)}})()},[_,S,C,H,W,e]);const K=(le,P)=>{const O=new URLSearchParams(e);le?O.set("q",le):O.delete("q"),P?O.set("type",P):O.delete("type"),P==="category"&&(O.set("category",le),O.delete("subcategory"),O.delete("q")),n(O)},ne=(le,P)=>{const O=new URLSearchParams(e),z=O.get(le);let V=z?z.split(","):[];V.includes(P)?V=V.filter(F=>F!==P):V.push(P),V.length>0?O.set(le,V.join(",")):O.delete(le),n(O)};return b.jsxs("div",{className:gt.searchPage,children:[b.jsxs("div",{className:gt.searchHeader,children:[b.jsx("div",{className:gt.searchBarWrapper,children:b.jsx(HC,{initialValue:_,onSearch:K,placeholder:t("search.placeholder")})}),b.jsxs("div",{className:gt.filtersBar,children:[b.jsxs("div",{className:gt.filterGroup,children:[b.jsx("label",{className:gt.filterLabel,children:t("skill.category")||"Categories"}),b.jsx("div",{className:gt.checkboxList,children:Object.values(pi).map(le=>b.jsxs("label",{className:gt.checkboxLabel,children:[b.jsx("input",{type:"checkbox",checked:S.includes(le),onChange:()=>ne("category",le)}),b.jsx("span",{children:le})]},le))})]}),S.length>0&&b.jsxs("div",{className:gt.filterGroup,children:[b.jsx("label",{className:gt.filterLabel,children:t("skill.subcategory")||"Subcategories"}),b.jsx("div",{className:gt.checkboxList,children:S.map(le=>Km[le]?.map(P=>b.jsxs("label",{className:gt.checkboxLabel,children:[b.jsx("input",{type:"checkbox",checked:C.includes(P),onChange:()=>ne("subcategory",P)}),b.jsx("span",{children:P})]},P)))})]}),b.jsxs("div",{className:gt.filterGroup,children:[b.jsx("label",{className:gt.filterLabel,children:t("skill.experienceLevel")||"Levels"}),b.jsx("div",{className:gt.checkboxList,children:BC.map(le=>b.jsxs("label",{className:gt.checkboxLabel,children:[b.jsx("input",{type:"checkbox",checked:H.includes(le),onChange:()=>ne("skillLevel",le)}),b.jsx("span",{children:le})]},le))})]}),b.jsxs("div",{className:gt.filterGroup,children:[b.jsx("label",{className:gt.filterLabel,children:t("skill.availability")||"Availability"}),b.jsx("div",{className:gt.checkboxList,children:i3.map(le=>b.jsxs("label",{className:gt.checkboxLabel,children:[b.jsx("input",{type:"checkbox",checked:W.includes(le),onChange:()=>ne("availability",le)}),b.jsx("span",{children:t(`profile.availabilityOptions.${le}`)||le})]},le))})]})]})]}),b.jsxs("div",{className:gt.contentArea,children:[b.jsxs("div",{className:gt.resultsColumn,children:[b.jsx("div",{className:gt.resultsMeta,children:i?"Searching...":`${l.length} results found`}),b.jsxs("div",{className:gt.resultsList,children:[l.map(le=>b.jsxs("div",{className:gt.resultCard,children:[b.jsxs("div",{className:gt.cardHeader,children:[b.jsx("div",{className:gt.avatar,children:le.photoURL?b.jsx("img",{src:le.photoURL,alt:le.displayName}):b.jsx("div",{className:gt.initials,children:(le.displayName||"?")[0]})}),b.jsxs("div",{className:gt.userInfo,children:[b.jsx("h4",{children:le.displayName}),b.jsx("div",{className:gt.subtext,children:le.location?`${le.location.city}, ${le.location.country}`:"No location"})]}),le.availability&&b.jsx("div",{className:`${gt.badge} ${gt[le.availability]}`,children:le.availability})]}),le.skills?.length>0&&b.jsx("div",{className:gt.skillsPreview,children:le.skills.map(P=>b.jsxs("div",{className:gt.skillEntry,children:[b.jsxs("span",{className:gt.skillTag,children:[A5[P.category?.toLowerCase()]||""," ",P.subcategory]}),b.jsxs("span",{className:gt.skillMeta,children:[P.skillLevel&&b.jsx("span",{className:gt.lvl,children:P.skillLevel}),P.styles?.length>0&&b.jsxs("span",{className:gt.stylesList,children:[" ",P.styles.join(", ")]})]})]},P.id))}),b.jsx(xt,{to:`/profile/${le.id}`,className:gt.viewProfileBtn,children:"View Profile"})]},le.id)),!i&&l.length===0&&b.jsx("div",{className:gt.emptyState,children:"No results found. Try adjusting filters."})]})]}),b.jsx("div",{className:gt.mapColumn,children:b.jsx(G9,{users:l,center:X})})]})]})},R5="_profilePage_14jbm_1",I5="_profileLayout_14jbm_7",N5="_leftColumn_14jbm_14",k5="_rightColumn_14jbm_15",P5="_profileHeader_14jbm_21",L5="_avatar_14jbm_31",O5="_profileInfo_14jbm_52",D5="_profileName_14jbm_56",M5="_profileUsername_14jbm_62",j5="_availabilityBadge_14jbm_69",z5="_available_14jbm_80",V5="_maybe_14jbm_85",U5="_busy_14jbm_90",B5="_profileLocation_14jbm_95",F5="_profileBio_14jbm_104",H5="_profileMeta_14jbm_111",$5="_metaItem_14jbm_118",q5="_skillsSection_14jbm_124",Z5="_sectionHeader_14jbm_128",G5="_sectionTitle_14jbm_135",K5="_skillsGrid_14jbm_140",W5="_skillCard_14jbm_146",Y5="_skillCardHeader_14jbm_153",Q5="_skillCategory_14jbm_160",X5="_skillLevel_14jbm_167",J5="_skillTitle_14jbm_173",eB="_skillSubtitle_14jbm_179",tB="_skillDescription_14jbm_185",nB="_skillApproach_14jbm_191",iB="_approachTag_14jbm_198",rB="_skillFooter_14jbm_206",sB="_skillExperience_14jbm_214",aB="_skillAvailability_14jbm_219",oB="_emptyState_14jbm_225",lB="_skillExperienceTime_14jbm_252",uB="_skillTags_14jbm_258",cB="_skillTag_14jbm_258",hB="_skillDetails_14jbm_274",fB="_skillDetail_14jbm_274",dB="_detailLabel_14jbm_284",mB="_skillExtras_14jbm_289",pB="_extraBadge_14jbm_296",gB="_skillActions_14jbm_304",_B="_skillActionBtn_14jbm_311",yB="_deleteBtn_14jbm_327",vB="_skillColumns_14jbm_336",bB="_skillColumnLeft_14jbm_343",wB="_skillColumnRight_14jbm_344",EB="_skillVideos_14jbm_358",SB="_videosTitle_14jbm_364",TB="_videosGrid_14jbm_371",xB="_videoWrapper_14jbm_377",AB="_videoIframe_14jbm_388",CB="_viewMoreBtn_14jbm_398",je={profilePage:R5,profileLayout:I5,leftColumn:N5,rightColumn:k5,profileHeader:P5,avatar:L5,profileInfo:O5,profileName:D5,profileUsername:M5,availabilityBadge:j5,available:z5,maybe:V5,busy:U5,profileLocation:B5,profileBio:F5,profileMeta:H5,metaItem:$5,skillsSection:q5,sectionHeader:Z5,sectionTitle:G5,skillsGrid:K5,skillCard:W5,skillCardHeader:Y5,skillCategory:Q5,skillLevel:X5,skillTitle:J5,skillSubtitle:eB,skillDescription:tB,skillApproach:nB,approachTag:iB,skillFooter:rB,skillExperience:sB,skillAvailability:aB,emptyState:oB,skillExperienceTime:lB,skillTags:uB,skillTag:cB,skillDetails:hB,skillDetail:fB,detailLabel:dB,skillExtras:mB,extraBadge:pB,skillActions:gB,skillActionBtn:_B,deleteBtn:yB,skillColumns:vB,skillColumnLeft:bB,skillColumnRight:wB,skillVideos:EB,videosTitle:SB,videosGrid:TB,videoWrapper:xB,videoIframe:AB,viewMoreBtn:CB},RB={music:"",sports:"",acting:"",dance:"",circus:"",other:""},$T=()=>{const{t}=xi(),{userId:e,profileSlug:n}=Qy(),i=Ks(),{user:a,profile:l,loading:c}=xa(),[d,_]=U.useState(null),[y,S]=U.useState(!0),[E,C]=U.useState(!1),[I,H]=U.useState([]),[M,W]=U.useState(!1),[ue,X]=U.useState(!1),[re,K]=U.useState(0),[ne,le]=U.useState(0),[P,O]=U.useState([]),[z,V]=U.useState(!0),[F,B]=U.useState({}),j=n?.startsWith("@")?n.substring(1):null,Ae=!e&&!n||j&&l?.username===j||e&&a?.uid===e;U.useEffect(()=>{c||(async()=>{if(n&&!n.startsWith("@")){C(!0),S(!1);return}if(!e&&!n&&l?.username){i(`/@${l.username}`,{replace:!0});return}if(!e&&!n&&!a){S(!1);return}if(Ae&&l){_(l);try{const _e=await Fy(a.uid);H(_e)}catch(_e){console.error("Error fetching own skills:",_e)}try{const _e=await By(a.uid),Ie=await Uy(a.uid);K(_e.length),le(Ie.length)}catch(_e){console.error("Error fetching own social stats:",_e)}S(!1);return}let ge=null;if(j)try{ge=await jC(j)}catch(_e){console.error("Error fetching profile:",_e),C(!0)}else if(e)try{ge=await Aa(e)}catch(_e){console.error("Error fetching profile by ID:",_e),C(!0)}if(ge){_(ge);try{const _e=await By(ge.id),Ie=await Uy(ge.id);K(_e.length),le(Ie.length)}catch(_e){console.error("Error fetching social stats:",_e)}if(a&&!Ae)try{const _e=await KV(a.uid,ge.id);W(_e)}catch(_e){console.error("Error checking follow status:",_e)}try{const _e=await Fy(ge.id);H(_e)}catch(_e){console.error("Error fetching skills:",_e)}}else!Ae&&(j||e)&&C(!0);S(!1)})()},[e,n,j,a,l,c,i,Ae]);const qe=async()=>{if(!(!a||!d)){X(!0);try{M?(await GV(a.uid,d.id),W(!1),K(Y=>Math.max(0,Y-1))):(await ZV(a.uid,d.id),W(!0),K(Y=>Y+1))}catch(Y){console.error("Error toggling follow:",Y)}finally{X(!1)}}},te=async Y=>{V(!0);try{const ge=await oU(Y);O(ge)}catch(ge){console.error("Error fetching posts:",ge)}finally{V(!1)}},de=(Y,ge)=>{if(!Y||!ge)return"";const _e=new Date,Ie=new Date(ge,Y-1),Le=_e-Ie,Qe=Math.floor(Le/(1e3*60*60*24*365)),nt=Math.floor(Le%(1e3*60*60*24*365)/(1e3*60*60*24*30));return Qe>0?`${Qe} years${nt>0?` and ${nt} months`:""}`:nt>0?`${nt} months`:"Less than a month"},ve=async Y=>{if(!(!a||!window.confirm("Are you sure you want to delete this skill?")))try{await XV(a.uid,Y),H(ge=>ge.filter(_e=>_e.id!==Y))}catch(ge){console.error("Error deleting skill:",ge)}};U.useEffect(()=>{const Y=Ae?a?.uid:d?.id;Y&&te(Y)},[Ae,a?.uid,d?.id]);const Ze=async()=>{if(!(!a||!d))try{const Y=await vz(a.uid,d.id);i(`/messages/${Y.id}`)}catch(Y){console.error("Error starting conversation:",Y)}},ke=Y=>Y.split(" ").map(ge=>ge[0]).join("").toUpperCase().slice(0,2),$=Ae?l:d;return y||c?b.jsx("div",{className:je.profilePage,children:b.jsx("div",{className:je.loading,children:t("common.loading")})}):E?b.jsx("div",{className:je.profilePage,children:b.jsxs("div",{className:je.emptyState,children:[b.jsx("h3",{children:"User not found"}),b.jsxs("p",{children:["The user ",j?`@${j}`:e?`ID: ${e}`:""," does not exist."]}),b.jsx(xt,{to:"/",className:"btn btn-primary",children:"Go Home"})]})}):!e&&!n&&!a?b.jsx("div",{className:je.profilePage,children:b.jsxs("div",{className:je.emptyState,children:[b.jsx("h3",{children:t("auth.login.title")}),b.jsx("p",{children:"Please log in to view your profile"}),b.jsx(xt,{to:"/login",className:"btn btn-primary",children:t("nav.login")})]})}):Ae&&!l?.username?b.jsx("div",{className:je.profilePage,children:b.jsxs("div",{className:je.emptyState,children:[b.jsx("h3",{children:"Complete Your Profile"}),b.jsx("p",{children:"Please set a username to create your public profile URL."}),b.jsx(xt,{to:"/profile/edit",className:"btn btn-primary",children:t("profile.editProfile")})]})}):b.jsx("div",{className:je.profilePage,children:b.jsxs("div",{className:je.profileLayout,children:[b.jsxs("div",{className:je.leftColumn,children:[b.jsxs("div",{className:je.profileHeader,children:[b.jsx("div",{className:je.avatarSection,children:b.jsx("div",{className:je.avatar,children:$?.photoURL?b.jsx("img",{src:$.photoURL,alt:$.displayName}):ke($?.displayName||"?")})}),b.jsxs("div",{className:je.profileInfo,children:[b.jsx("h1",{className:je.profileName,children:$?.displayName||"Anonymous"}),$?.username&&b.jsxs("div",{className:je.profileUsername,children:["@",$.username]}),$?.availability&&b.jsx("div",{className:`${je.availabilityBadge} ${je[$.availability]}`,children:t(`profile.availabilityOptions.${$.availability}`)||$.availability}),$?.location&&($.location.city||$.location.country)&&b.jsxs("div",{className:je.profileLocation,children:[b.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),b.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),[$.location.city,$.location.country].filter(Boolean).join(", ")]}),b.jsx("p",{className:je.profileBio,children:$?.bio||(Ae?"Add a bio to tell others about yourself and your performing experience.":"No bio yet.")}),b.jsxs("div",{className:je.profileMeta,children:[b.jsxs("div",{className:je.metaItem,children:[b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),b.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),b.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),b.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Joined ",new Date($?.createdAt?.seconds*1e3||Date.now()).toLocaleDateString()]}),$?.languages?.length>0&&b.jsxs("div",{className:je.metaItem,children:[b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("circle",{cx:"12",cy:"12",r:"10"}),b.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),b.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),$.languages.join(", ")]}),b.jsxs("div",{className:je.metaItem,children:[b.jsx("strong",{children:re})," Followers"]}),b.jsxs("div",{className:je.metaItem,children:[b.jsx("strong",{children:ne})," Following"]})]})]}),b.jsx("div",{className:je.profileActions,children:Ae?b.jsx(xt,{to:"/profile/edit",className:"btn btn-primary",children:t("profile.editProfile")}):b.jsxs(b.Fragment,{children:[b.jsx("button",{className:`btn ${M?"btn-secondary":"btn-primary"}`,onClick:qe,disabled:ue||!a,children:M?"Unfollow":"Follow"}),b.jsx("button",{className:"btn btn-secondary",onClick:Ze,disabled:!a,children:"Message"})]})})]}),b.jsxs("section",{className:je.skillsSection,children:[b.jsxs("div",{className:je.sectionHeader,children:[b.jsx("h2",{className:je.sectionTitle,children:t("profile.skills")}),Ae&&b.jsx(xt,{to:"/profile/add-skill",className:"btn btn-secondary",children:t("profile.addSkill")})]}),I.length>0?b.jsx("div",{className:je.skillsGrid,children:I.map(Y=>{const ge=de(Y.startMonth,Y.startYear),_e=Y.youtubeLinks?.length>0,Ie=F[Y.id],Le=Ie?Y.youtubeLinks:Y.youtubeLinks?.slice(0,1),Qe=nt=>{if(!nt)return null;const Pt=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Rn=nt.match(Pt);return Rn&&Rn[2].length===11?Rn[2]:null};return b.jsxs("div",{className:je.skillCard,children:[b.jsxs("div",{className:je.skillCardHeader,children:[b.jsxs("span",{className:je.skillCategory,children:[RB[Y.category?.toLowerCase()]||""," ",Y.category]}),Y.skillLevel&&b.jsx("span",{className:je.skillLevel,children:Y.skillLevel})]}),b.jsx("h3",{className:je.skillTitle,children:Y.subcategory}),ge&&b.jsx("p",{className:je.skillExperienceTime,children:ge}),b.jsxs("div",{className:je.skillColumns,children:[b.jsxs("div",{className:je.skillColumnLeft,children:[Y.styles?.length>0&&b.jsx("div",{className:je.skillTags,children:Y.styles.map(nt=>b.jsx("span",{className:je.skillTag,children:nt},nt))}),Y.source&&b.jsxs("div",{className:je.skillDetail,children:[b.jsx("span",{className:je.detailLabel,children:"Source:"})," ",Y.source]}),Y.practising&&b.jsxs("div",{className:je.skillDetail,children:[b.jsx("span",{className:je.detailLabel,children:"Practising:"})," ",Y.practising]})]}),b.jsxs("div",{className:je.skillColumnRight,children:[Y.influences?.length>0&&b.jsxs("div",{className:je.skillDetail,children:[b.jsx("span",{className:je.detailLabel,children:"Influences:"})," ",Y.influences.join(", ")]}),Y.equipment?.length>0&&b.jsxs("div",{className:je.skillDetail,children:[b.jsx("span",{className:je.detailLabel,children:"Equipment:"})," ",Y.equipment.join(", ")]})]})]}),Y.extras&&(Y.extras.canReadNotes||Y.extras.openForNudes||Y.extras.openForDisgrace)&&b.jsxs("div",{className:je.skillExtras,children:[Y.extras.canReadNotes&&b.jsx("span",{className:je.extraBadge,children:" Can read notes"}),Y.extras.openForNudes&&b.jsx("span",{className:je.extraBadge,children:" Open for nudes"}),Y.extras.openForDisgrace&&b.jsx("span",{className:je.extraBadge,children:" Open for disgrace"})]}),_e&&b.jsxs("div",{className:je.skillVideos,children:[b.jsx("h4",{className:je.videosTitle,children:"Videos"}),b.jsx("div",{className:je.videosGrid,children:Le.map((nt,Pt)=>{const Rn=Qe(nt);return Rn?b.jsx("div",{className:je.videoWrapper,children:b.jsx("iframe",{src:`https://www.youtube.com/embed/${Rn}`,title:`Video ${Pt+1}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:je.videoIframe})},Pt):null})}),Y.youtubeLinks.length>1&&b.jsx("button",{className:je.viewMoreBtn,onClick:()=>B(nt=>({...nt,[Y.id]:!nt[Y.id]})),children:Ie?" Show less":` View ${Y.youtubeLinks.length-1} more videos`})]}),Ae&&b.jsxs("div",{className:je.skillActions,children:[b.jsx(xt,{to:`/profile/edit-skill/${Y.id}`,className:je.skillActionBtn,children:" Edit"}),b.jsx("button",{className:je.skillActionBtn+" "+je.deleteBtn,onClick:()=>ve(Y.id),children:" Delete"})]})]},Y.id)})}):b.jsxs("div",{className:je.emptyState,children:[b.jsx("h3",{children:t("profile.noSkills")}),b.jsx("p",{children:Ae?"Add your first skill to showcase your talents":"This user has not added any skills yet."}),Ae&&b.jsx(xt,{to:"/profile/add-skill",className:"btn btn-primary",children:t("profile.addSkill")})]})]})]}),b.jsx("div",{className:je.rightColumn,children:b.jsxs("section",{className:je.postsSection,children:[b.jsx("h2",{className:je.sectionTitle,children:t("profile.posts")||"Posts"}),Ae&&b.jsx(KC,{onPostCreated:()=>te(a.uid)}),b.jsx("div",{className:je.postsList,children:z?b.jsx("div",{className:je.loading,children:t("common.loading")}):P.length>0?P.map(Y=>b.jsx(WC,{post:Y,onPostDeleted:ge=>O(_e=>_e.filter(Ie=>Ie.id!==ge))},Y.id)):b.jsx("div",{className:je.emptyState,children:b.jsx("p",{children:Ae?"You haven't posted anything yet.":"This user hasn't posted anything yet."})})})]})})]})})},IB="_editProfilePage_gs8k7_1",NB="_editProfileHeader_gs8k7_7",kB="_editProfileTitle_gs8k7_14",PB="_formContainer_gs8k7_19",LB="_avatarSection_gs8k7_26",OB="_avatar_gs8k7_26",DB="_avatarUpload_gs8k7_57",MB="_formGrid_gs8k7_64",jB="_formGroup_gs8k7_70",zB="_formGroupFull_gs8k7_77",VB="_label_gs8k7_81",UB="_input_gs8k7_87",BB="_textarea_gs8k7_88",FB="_select_gs8k7_89",HB="_formActions_gs8k7_111",$B="_infoText_gs8k7_120",qB="_statusMessage_gs8k7_125",ZB="_checking_gs8k7_131",GB="_available_gs8k7_135",KB="_taken_gs8k7_140",WB="_invalid_gs8k7_141",_t={editProfilePage:IB,editProfileHeader:NB,editProfileTitle:kB,formContainer:PB,avatarSection:LB,avatar:OB,avatarUpload:DB,formGrid:MB,formGroup:jB,formGroupFull:zB,label:VB,input:UB,textarea:BB,select:FB,formActions:HB,infoText:$B,statusMessage:qB,checking:ZB,available:GB,taken:KB,invalid:WB},YB=(t,e)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>t(...i),e)}},QB=()=>{const{t}=xi(),e=Ks(),{user:n,profile:i,updateProfile:a}=xa(),[l,c]=U.useState({displayName:"",username:"",bio:"",location:{city:"",country:""},languages:[],availability:"available"}),[d,_]=U.useState(!1),[y,S]=U.useState(null),[E,C]=U.useState([]),[I,H]=U.useState(0),[M,W]=U.useState({status:"idle",message:""});U.useEffect(()=>{i&&c({displayName:i.displayName||"",username:i.username||"",bio:i.bio||"",location:{city:i.location?.city||"",country:i.location?.country||""},languages:i.languages||[],availability:i.availability||"available"})},[i]);const ue=U.useCallback(YB(async ne=>{if(!ne){W({status:"idle",message:""});return}if(!/^[a-zA-Z0-9_]{3,20}$/.test(ne)){W({status:"invalid",message:t("profile.usernameInvalid")});return}if(ne.toLowerCase()===i?.username?.toLowerCase()){W({status:"available",message:t("profile.usernameAvailable")});return}W({status:"checking",message:""});try{const P=await MC(ne);W(P?{status:"available",message:t("profile.usernameAvailable")}:{status:"taken",message:t("profile.usernameTaken")})}catch(P){console.error("Error checking username:",P)}},500),[i,t]),X=ne=>{const{name:le,value:P}=ne.target;if(le==="username"){const O=P.toLowerCase().replace(/[^a-z0-9_]/g,"");c(z=>({...z,username:O})),ue(O)}else if(le.includes(".")){const[O,z]=le.split(".");c(V=>({...V,[O]:{...V[O],[z]:P}}))}else c(O=>({...O,[le]:P}))},re=ne=>{const P=ne.target.value.split(",").map(O=>O.trim()).filter(O=>O!=="");c(O=>({...O,languages:P}))},K=async ne=>{if(ne.preventDefault(),!!n){if(l.username&&M.status!=="available"&&l.username!==i?.username){S(t("profile.usernameTaken"));return}_(!0),S(null);try{let le=i?.photoURL||"";E.length>0&&(le=await qC(E[0],`avatars/${n.uid}`,V=>{H(V)}));let P={...l.location};const O=l.location.city!==i?.location?.city||l.location.country!==i?.location?.country;if(O&&l.location.city)try{const V=`${l.location.city}, ${l.location.country}`,F=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(V)}&limit=1`);if(F.ok){const B=await F.json();B&&B.length>0&&(P.lat=parseFloat(B[0].lat),P.lng=parseFloat(B[0].lon))}}catch(V){console.error("Geocoding error:",V)}else!O&&i?.location&&(P.lat=i.location.lat,P.lng=i.location.lng);const z={...l,location:P,photoURL:le,updatedAt:new Date};await DC(n.uid,z),a(z),e(`/@${l.username}`)}catch(le){console.error("Error updating profile:",le),S(t("common.error"))}finally{_(!1)}}};return i?b.jsxs("div",{className:_t.editProfilePage,children:[b.jsxs("div",{className:_t.editProfileHeader,children:[b.jsx("h1",{className:_t.editProfileTitle,children:t("profile.editProfile")}),b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>e("/profile"),children:t("common.back")})]}),b.jsxs("form",{onSubmit:K,className:_t.formContainer,children:[y&&b.jsx("div",{className:"alert alert-error",children:y}),b.jsxs("div",{className:_t.avatarSection,children:[b.jsx("div",{className:_t.avatarLabel,children:t("profile.profilePicture")||"Profile Picture"}),b.jsx(ZC,{onFilesSelected:C,currentFiles:E.length>0?E:i.photoURL?[i.photoURL]:[],maxFiles:1,multiple:!1,allowedTypes:["image/jpeg","image/png","image/webp"]}),d&&I>0&&I<100&&b.jsxs("div",{className:_t.uploadProgress,children:[Math.round(I),"%"]})]}),b.jsxs("div",{className:_t.formGrid,children:[b.jsxs("div",{className:_t.formGroup+" "+_t.formGroupFull,children:[b.jsx("label",{className:_t.label,children:t("auth.register.name")}),b.jsx("input",{type:"text",name:"displayName",value:l.displayName,onChange:X,className:_t.input,placeholder:"Your full name",required:!0})]}),b.jsxs("div",{className:_t.formGroup+" "+_t.formGroupFull,children:[b.jsx("label",{className:_t.label,children:t("profile.username")}),b.jsx("input",{type:"text",name:"username",value:l.username,onChange:X,className:`${_t.input} ${_t[M.status]}`,placeholder:"username",required:!0}),M.message&&b.jsx("span",{className:`${_t.statusMessage} ${_t[M.status]}`,children:M.message}),b.jsx("span",{className:_t.infoText,children:t("profile.usernameHint")})]}),b.jsxs("div",{className:_t.formGroup,children:[b.jsxs("label",{className:_t.label,children:[t("profile.location")," - City"]}),b.jsx("input",{type:"text",name:"location.city",value:l.location.city,onChange:X,className:_t.input,placeholder:"City"})]}),b.jsxs("div",{className:_t.formGroup,children:[b.jsxs("label",{className:_t.label,children:[t("profile.location")," - Country"]}),b.jsx("input",{type:"text",name:"location.country",value:l.location.country,onChange:X,className:_t.input,placeholder:"Country"})]}),b.jsxs("div",{className:_t.formGroup+" "+_t.formGroupFull,children:[b.jsx("label",{className:_t.label,children:t("profile.languages")}),b.jsx("input",{type:"text",value:l.languages.join(", "),onChange:re,className:_t.input,placeholder:"English, Czech, Spanish (separate with commas)"}),b.jsx("span",{className:_t.infoText,children:"Separate languages with commas"})]}),b.jsxs("div",{className:_t.formGroup+" "+_t.formGroupFull,children:[b.jsx("label",{className:_t.label,children:t("profile.availability")}),b.jsxs("select",{name:"availability",value:l.availability,onChange:X,className:_t.input,children:[b.jsx("option",{value:"available",children:t("profile.availabilityOptions.available")||"Available"}),b.jsx("option",{value:"maybe",children:t("profile.availabilityOptions.maybe")||"Maybe"}),b.jsx("option",{value:"busy",children:t("profile.availabilityOptions.busy")||"Busy"})]})]}),b.jsxs("div",{className:_t.formGroup+" "+_t.formGroupFull,children:[b.jsx("label",{className:_t.label,children:t("profile.about")}),b.jsx("textarea",{name:"bio",value:l.bio,onChange:X,className:_t.textarea,placeholder:"Tell us about yourself and your performing experience..."})]})]}),b.jsxs("div",{className:_t.formActions,children:[b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>e("/profile"),disabled:d,children:t("common.cancel")}),b.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d||l.username&&M.status!=="available"&&l.username!==i?.username,children:t(d?"common.loading":"common.save")})]})]})]}):b.jsx("div",{className:_t.loading,children:t("common.loading")})};var Gf=t=>t.type==="checkbox",hu=t=>t instanceof Date,br=t=>t==null;const eR=t=>typeof t=="object";var Xn=t=>!br(t)&&!Array.isArray(t)&&eR(t)&&!hu(t),tR=t=>Xn(t)&&t.target?Gf(t.target)?t.target.checked:t.target.value:t,XB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,nR=(t,e)=>t.has(XB(e)),JB=t=>{const e=t.constructor&&t.constructor.prototype;return Xn(e)&&e.hasOwnProperty("isPrototypeOf")},pb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gn(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(pb&&(t instanceof Blob||e))return t;const n=Array.isArray(t);if(!n&&!(Xn(t)&&JB(t)))return t;const i=n?[]:Object.create(Object.getPrototypeOf(t));for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=Gn(t[a]));return i}var Lp=t=>/^\w*$/.test(t),gn=t=>t===void 0,gb=t=>Array.isArray(t)?t.filter(Boolean):[],_b=t=>gb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(t,e,n)=>{if(!e||!Xn(t))return n;const i=(Lp(e)?[e]:_b(e)).reduce((a,l)=>br(a)?a:a[l],t);return gn(i)||i===t?gn(t[e])?n:t[e]:i},qr=t=>typeof t=="boolean",Wi=t=>typeof t=="function",Wt=(t,e,n)=>{let i=-1;const a=Lp(e)?[e]:_b(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let _=n;if(i!==c){const y=t[d];_=Xn(y)||Array.isArray(y)?y:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=_,t=t[d]}};const Wm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ja={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iR=Je.createContext(null);iR.displayName="HookFormControlContext";const yb=()=>Je.useContext(iR);var rR=(t,e,n,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Vs.all&&(e._proxyFormState[c]=!i||Vs.all),n&&(n[c]=!0),t[c]}});return a};const vb=typeof window<"u"?Je.useLayoutEffect:Je.useEffect;function eF(t){const e=yb(),{control:n=e,disabled:i,name:a,exact:l}=t||{},[c,d]=Je.useState(n._formState),_=Je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vb(()=>n._subscribe({name:a,formState:_.current,exact:l,callback:y=>{!i&&d({...n._formState,...y})}}),[a,i,l]),Je.useEffect(()=>{_.current.isValid&&n._setValid(!0)},[n]),Je.useMemo(()=>rR(c,n,_.current,!1),[c,n])}var Gr=t=>typeof t=="string",Hy=(t,e,n,i,a)=>Gr(t)?(i&&e.watch.add(t),De(n,t,a)):Array.isArray(t)?t.map(l=>(i&&e.watch.add(l),De(n,l))):(i&&(e.watchAll=!0),n),$y=t=>br(t)||!eR(t);function Us(t,e,n=new WeakSet){if($y(t)||$y(e))return Object.is(t,e);if(hu(t)&&hu(e))return Object.is(t.getTime(),e.getTime());const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of i){const c=t[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=e[l];if(hu(c)&&hu(d)||Xn(c)&&Xn(d)||Array.isArray(c)&&Array.isArray(d)?!Us(c,d,n):!Object.is(c,d))return!1}}return!0}function tF(t){const e=yb(),{control:n=e,name:i,defaultValue:a,disabled:l,exact:c,compute:d}=t||{},_=Je.useRef(a),y=Je.useRef(d),S=Je.useRef(void 0),E=Je.useRef(n),C=Je.useRef(i);y.current=d;const[I,H]=Je.useState(()=>{const K=n._getWatch(i,_.current);return y.current?y.current(K):K}),M=Je.useCallback(K=>{const ne=Hy(i,n._names,K||n._formValues,!1,_.current);return y.current?y.current(ne):ne},[n._formValues,n._names,i]),W=Je.useCallback(K=>{if(!l){const ne=Hy(i,n._names,K||n._formValues,!1,_.current);if(y.current){const le=y.current(ne);Us(le,S.current)||(H(le),S.current=le)}else H(ne)}},[n._formValues,n._names,l,i]);vb(()=>((E.current!==n||!Us(C.current,i))&&(E.current=n,C.current=i,W()),n._subscribe({name:i,formState:{values:!0},exact:c,callback:K=>{W(K.values)}})),[n,c,i,W]),Je.useEffect(()=>n._removeUnmounted());const ue=E.current!==n,X=C.current,re=Je.useMemo(()=>{if(l)return null;const K=!ue&&!Us(X,i);return ue||K?M():null},[l,ue,i,X,M]);return re!==null?re:I}function nF(t){const e=yb(),{name:n,disabled:i,control:a=e,shouldUnregister:l,defaultValue:c,exact:d=!0}=t,_=nR(a._names.array,n),y=Je.useMemo(()=>De(a._formValues,n,De(a._defaultValues,n,c)),[a,n,c]),S=tF({control:a,name:n,defaultValue:y,exact:d}),E=eF({control:a,name:n,exact:d}),C=Je.useRef(t),I=Je.useRef(void 0),H=Je.useRef(a.register(n,{...t.rules,value:S,...qr(t.disabled)?{disabled:t.disabled}:{}}));C.current=t;const M=Je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!De(E.errors,n)},isDirty:{enumerable:!0,get:()=>!!De(E.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!De(E.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!De(E.validatingFields,n)},error:{enumerable:!0,get:()=>De(E.errors,n)}}),[E,n]),W=Je.useCallback(K=>H.current.onChange({target:{value:tR(K),name:n},type:Wm.CHANGE}),[n]),ue=Je.useCallback(()=>H.current.onBlur({target:{value:De(a._formValues,n),name:n},type:Wm.BLUR}),[n,a._formValues]),X=Je.useCallback(K=>{const ne=De(a._fields,n);ne&&ne._f&&K&&(ne._f.ref={focus:()=>Wi(K.focus)&&K.focus(),select:()=>Wi(K.select)&&K.select(),setCustomValidity:le=>Wi(K.setCustomValidity)&&K.setCustomValidity(le),reportValidity:()=>Wi(K.reportValidity)&&K.reportValidity()})},[a._fields,n]),re=Je.useMemo(()=>({name:n,value:S,...qr(i)||E.disabled?{disabled:E.disabled||i}:{},onChange:W,onBlur:ue,ref:X}),[n,i,E.disabled,W,ue,X,S]);return Je.useEffect(()=>{const K=a._options.shouldUnregister||l,ne=I.current;ne&&ne!==n&&!_&&a.unregister(ne),a.register(n,{...C.current.rules,...qr(C.current.disabled)?{disabled:C.current.disabled}:{}});const le=(P,O)=>{const z=De(a._fields,P);z&&z._f&&(z._f.mount=O)};if(le(n,!0),K){const P=Gn(De(a._options.defaultValues,n,C.current.defaultValue));Wt(a._defaultValues,n,P),gn(De(a._formValues,n))&&Wt(a._formValues,n,P)}return!_&&a.register(n),I.current=n,()=>{(_?K&&!a._state.action:K)?a.unregister(n):le(n,!1)}},[n,a,_,l]),Je.useEffect(()=>{a._setDisabledField({disabled:i,name:n})},[i,n,a]),Je.useMemo(()=>({field:re,formState:E,fieldState:M}),[re,E,M])}const um=t=>t.render(nF(t)),iF=Je.createContext(null);iF.displayName="HookFormContext";var bb=(t,e,n,i,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},df=t=>Array.isArray(t)?t:[t],qT=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}};function sR(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const a=t[i],l=e[i];if(a&&Xn(a)&&l){const c=sR(a,l);Xn(c)&&(n[i]=c)}else t[i]&&(n[i]=l)}return n}var Ki=t=>Xn(t)&&!Object.keys(t).length,wb=t=>t.type==="file",Ym=t=>{if(!pb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aR=t=>t.type==="select-multiple",Eb=t=>t.type==="radio",rF=t=>Eb(t)||Gf(t),ey=t=>Ym(t)&&t.isConnected;function sF(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=gn(t)?i++:t[e[i++]];return t}function aF(t){for(const e in t)if(t.hasOwnProperty(e)&&!gn(t[e]))return!1;return!0}function Kn(t,e){const n=Array.isArray(e)?e:Lp(e)?[e]:_b(e),i=n.length===1?t:sF(t,n),a=n.length-1,l=n[a];return i&&delete i[l],a!==0&&(Xn(i)&&Ki(i)||Array.isArray(i)&&aF(i))&&Kn(t,n.slice(0,-1)),t}var oF=t=>{for(const e in t)if(Wi(t[e]))return!0;return!1};function oR(t){return Array.isArray(t)||Xn(t)&&!oF(t)}function qy(t,e={}){for(const n in t){const i=t[n];oR(i)?(e[n]=Array.isArray(i)?[]:{},qy(i,e[n])):gn(i)||(e[n]=!0)}return e}function xc(t,e,n){n||(n=qy(e));for(const i in t){const a=t[i];if(oR(a))gn(e)||$y(n[i])?n[i]=qy(a,Array.isArray(a)?[]:{}):xc(a,br(e)?{}:e[i],n[i]);else{const l=e[i];n[i]=!Us(a,l)}}return n}const ZT={value:!1,isValid:!1},GT={value:!0,isValid:!0};var lR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!gn(t[0].attributes.value)?gn(t[0].value)||t[0].value===""?GT:{value:t[0].value,isValid:!0}:GT:ZT}return ZT},uR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>gn(t)?t:e?t===""?NaN:t&&+t:n&&Gr(t)?new Date(t):i?i(t):t;const KT={isValid:!1,value:null};var cR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,KT):KT;function WT(t){const e=t.ref;return wb(e)?e.files:Eb(e)?cR(t.refs).value:aR(e)?[...e.selectedOptions].map(({value:n})=>n):Gf(e)?lR(t.refs).value:uR(gn(e.value)?t.ref.value:e.value,t)}var lF=(t,e,n,i)=>{const a={};for(const l of t){const c=De(e,l);c&&Wt(a,l,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}},Qm=t=>t instanceof RegExp,Kh=t=>gn(t)?t:Qm(t)?t.source:Xn(t)?Qm(t.value)?t.value.source:t.value:t,YT=t=>({isOnSubmit:!t||t===Vs.onSubmit,isOnBlur:t===Vs.onBlur,isOnChange:t===Vs.onChange,isOnAll:t===Vs.all,isOnTouch:t===Vs.onTouched});const QT="AsyncFunction";var uF=t=>!!t&&!!t.validate&&!!(Wi(t.validate)&&t.validate.constructor.name===QT||Xn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===QT)),cF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),XT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const mf=(t,e,n,i)=>{for(const a of n||Object.keys(t)){const l=De(t,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(mf(d,e))break}else if(Xn(d)&&mf(d,e))break}}};function JT(t,e,n){const i=De(t,n);if(i||Lp(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=De(e,l),d=De(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};a.pop()}return{name:n}}var hF=(t,e,n,i)=>{n(t);const{name:a,...l}=t;return Ki(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!i||Vs.all))},fF=(t,e,n)=>!t||!e||t===e||df(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),dF=(t,e,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?i.isOnBlur:a.isOnBlur)?!t:(n?i.isOnChange:a.isOnChange)?t:!0,mF=(t,e)=>!gb(De(t,e)).length&&Kn(t,e),pF=(t,e,n)=>{const i=df(De(t,n));return Wt(i,"root",e[n]),Wt(t,n,i),t};function e1(t,e,n="validate"){if(Gr(t)||Array.isArray(t)&&t.every(Gr)||qr(t)&&!t)return{type:n,message:Gr(t)?t:"",ref:e}}var yc=t=>Xn(t)&&!Qm(t)?t:{value:t,message:""},t1=async(t,e,n,i,a,l)=>{const{ref:c,refs:d,required:_,maxLength:y,minLength:S,min:E,max:C,pattern:I,validate:H,name:M,valueAsNumber:W,mount:ue}=t._f,X=De(n,M);if(!ue||e.has(M))return{};const re=d?d[0]:c,K=B=>{a&&re.reportValidity&&(re.setCustomValidity(qr(B)?"":B||""),re.reportValidity())},ne={},le=Eb(c),P=Gf(c),O=le||P,z=(W||wb(c))&&gn(c.value)&&gn(X)||Ym(c)&&c.value===""||X===""||Array.isArray(X)&&!X.length,V=bb.bind(null,M,i,ne),F=(B,j,Ae,qe=Ja.maxLength,te=Ja.minLength)=>{const de=B?j:Ae;ne[M]={type:B?qe:te,message:de,ref:c,...V(B?qe:te,de)}};if(l?!Array.isArray(X)||!X.length:_&&(!O&&(z||br(X))||qr(X)&&!X||P&&!lR(d).isValid||le&&!cR(d).isValid)){const{value:B,message:j}=Gr(_)?{value:!!_,message:_}:yc(_);if(B&&(ne[M]={type:Ja.required,message:j,ref:re,...V(Ja.required,j)},!i))return K(j),ne}if(!z&&(!br(E)||!br(C))){let B,j;const Ae=yc(C),qe=yc(E);if(!br(X)&&!isNaN(X)){const te=c.valueAsNumber||X&&+X;br(Ae.value)||(B=te>Ae.value),br(qe.value)||(j=te<qe.value)}else{const te=c.valueAsDate||new Date(X),de=ke=>new Date(new Date().toDateString()+" "+ke),ve=c.type=="time",Ze=c.type=="week";Gr(Ae.value)&&X&&(B=ve?de(X)>de(Ae.value):Ze?X>Ae.value:te>new Date(Ae.value)),Gr(qe.value)&&X&&(j=ve?de(X)<de(qe.value):Ze?X<qe.value:te<new Date(qe.value))}if((B||j)&&(F(!!B,Ae.message,qe.message,Ja.max,Ja.min),!i))return K(ne[M].message),ne}if((y||S)&&!z&&(Gr(X)||l&&Array.isArray(X))){const B=yc(y),j=yc(S),Ae=!br(B.value)&&X.length>+B.value,qe=!br(j.value)&&X.length<+j.value;if((Ae||qe)&&(F(Ae,B.message,j.message),!i))return K(ne[M].message),ne}if(I&&!z&&Gr(X)){const{value:B,message:j}=yc(I);if(Qm(B)&&!X.match(B)&&(ne[M]={type:Ja.pattern,message:j,ref:c,...V(Ja.pattern,j)},!i))return K(j),ne}if(H){if(Wi(H)){const B=await H(X,n),j=e1(B,re);if(j&&(ne[M]={...j,...V(Ja.validate,j.message)},!i))return K(j.message),ne}else if(Xn(H)){let B={};for(const j in H){if(!Ki(B)&&!i)break;const Ae=e1(await H[j](X,n),re,j);Ae&&(B={...Ae,...V(j,Ae.message)},K(Ae.message),i&&(ne[M]=B))}if(!Ki(B)&&(ne[M]={ref:re,...B},!i))return ne}}return K(!0),ne};const gF={mode:Vs.onSubmit,reValidateMode:Vs.onChange,shouldFocusError:!0};function _F(t={}){let e={...gF,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Xn(e.defaultValues)||Xn(e.values)?Gn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Gn(a),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,y=0;const S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={...S};let C={...E};const I={array:qT(),state:qT()},H=e.criteriaMode===Vs.all,M=G=>se=>{clearTimeout(y),y=setTimeout(G,se)},W=async G=>{if(!c.keepIsValid&&!e.disabled&&(E.isValid||C.isValid||G)){let se;e.resolver?(se=Ki((await O()).errors),ue()):se=await V(i,!0),se!==n.isValid&&I.state.next({isValid:se})}},ue=(G,se)=>{!e.disabled&&(E.isValidating||E.validatingFields||C.isValidating||C.validatingFields)&&((G||Array.from(d.mount)).forEach(pe=>{pe&&(se?Wt(n.validatingFields,pe,se):Kn(n.validatingFields,pe))}),I.state.next({validatingFields:n.validatingFields,isValidating:!Ki(n.validatingFields)}))},X=(G,se=[],pe,Ne,Re=!0,Ce=!0)=>{if(Ne&&pe&&!e.disabled){if(c.action=!0,Ce&&Array.isArray(De(i,G))){const Fe=pe(De(i,G),Ne.argA,Ne.argB);Re&&Wt(i,G,Fe)}if(Ce&&Array.isArray(De(n.errors,G))){const Fe=pe(De(n.errors,G),Ne.argA,Ne.argB);Re&&Wt(n.errors,G,Fe),mF(n.errors,G)}if((E.touchedFields||C.touchedFields)&&Ce&&Array.isArray(De(n.touchedFields,G))){const Fe=pe(De(n.touchedFields,G),Ne.argA,Ne.argB);Re&&Wt(n.touchedFields,G,Fe)}(E.dirtyFields||C.dirtyFields)&&(n.dirtyFields=xc(a,l)),I.state.next({name:G,isDirty:B(G,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Wt(l,G,se)},re=(G,se)=>{Wt(n.errors,G,se),I.state.next({errors:n.errors})},K=G=>{n.errors=G,I.state.next({errors:n.errors,isValid:!1})},ne=(G,se,pe,Ne)=>{const Re=De(i,G);if(Re){const Ce=De(l,G,gn(pe)?De(a,G):pe);gn(Ce)||Ne&&Ne.defaultChecked||se?Wt(l,G,se?Ce:WT(Re._f)):qe(G,Ce),c.mount&&!c.action&&W()}},le=(G,se,pe,Ne,Re)=>{let Ce=!1,Fe=!1;const dt={name:G};if(!e.disabled){if(!pe||Ne){(E.isDirty||C.isDirty)&&(Fe=n.isDirty,n.isDirty=dt.isDirty=B(),Ce=Fe!==dt.isDirty);const Lt=Us(De(a,G),se);Fe=!!De(n.dirtyFields,G),Lt?Kn(n.dirtyFields,G):Wt(n.dirtyFields,G,!0),dt.dirtyFields=n.dirtyFields,Ce=Ce||(E.dirtyFields||C.dirtyFields)&&Fe!==!Lt}if(pe){const Lt=De(n.touchedFields,G);Lt||(Wt(n.touchedFields,G,pe),dt.touchedFields=n.touchedFields,Ce=Ce||(E.touchedFields||C.touchedFields)&&Lt!==pe)}Ce&&Re&&I.state.next(dt)}return Ce?dt:{}},P=(G,se,pe,Ne)=>{const Re=De(n.errors,G),Ce=(E.isValid||C.isValid)&&qr(se)&&n.isValid!==se;if(e.delayError&&pe?(_=M(()=>re(G,pe)),_(e.delayError)):(clearTimeout(y),_=null,pe?Wt(n.errors,G,pe):Kn(n.errors,G)),(pe?!Us(Re,pe):Re)||!Ki(Ne)||Ce){const Fe={...Ne,...Ce&&qr(se)?{isValid:se}:{},errors:n.errors,name:G};n={...n,...Fe},I.state.next(Fe)}},O=async G=>(ue(G,!0),await e.resolver(l,e.context,lF(G||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation))),z=async G=>{const{errors:se}=await O(G);if(ue(G),G)for(const pe of G){const Ne=De(se,pe);Ne?Wt(n.errors,pe,Ne):Kn(n.errors,pe)}else n.errors=se;return se},V=async(G,se,pe={valid:!0})=>{for(const Ne in G){const Re=G[Ne];if(Re){const{_f:Ce,...Fe}=Re;if(Ce){const dt=d.array.has(Ce.name),Lt=Re._f&&uF(Re._f);Lt&&E.validatingFields&&ue([Ce.name],!0);const vn=await t1(Re,d.disabled,l,H,e.shouldUseNativeValidation&&!se,dt);if(Lt&&E.validatingFields&&ue([Ce.name]),vn[Ce.name]&&(pe.valid=!1,se||t.shouldUseNativeValidation))break;!se&&(De(vn,Ce.name)?dt?pF(n.errors,vn,Ce.name):Wt(n.errors,Ce.name,vn[Ce.name]):Kn(n.errors,Ce.name))}!Ki(Fe)&&await V(Fe,se,pe)}}return pe.valid},F=()=>{for(const G of d.unMount){const se=De(i,G);se&&(se._f.refs?se._f.refs.every(pe=>!ey(pe)):!ey(se._f.ref))&&nt(G)}d.unMount=new Set},B=(G,se)=>!e.disabled&&(G&&se&&Wt(l,G,se),!Us($(),a)),j=(G,se,pe)=>Hy(G,d,{...c.mount?l:gn(se)?a:Gr(G)?{[G]:se}:se},pe,se),Ae=G=>gb(De(c.mount?l:a,G,e.shouldUnregister?De(a,G,[]):[])),qe=(G,se,pe={})=>{const Ne=De(i,G);let Re=se;if(Ne){const Ce=Ne._f;Ce&&(!Ce.disabled&&Wt(l,G,uR(se,Ce)),Re=Ym(Ce.ref)&&br(se)?"":se,aR(Ce.ref)?[...Ce.ref.options].forEach(Fe=>Fe.selected=Re.includes(Fe.value)):Ce.refs?Gf(Ce.ref)?Ce.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(Re)?Fe.checked=!!Re.find(dt=>dt===Fe.value):Fe.checked=Re===Fe.value||!!Re)}):Ce.refs.forEach(Fe=>Fe.checked=Fe.value===Re):wb(Ce.ref)?Ce.ref.value="":(Ce.ref.value=Re,Ce.ref.type||I.state.next({name:G,values:Gn(l)})))}(pe.shouldDirty||pe.shouldTouch)&&le(G,Re,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&ke(G)},te=(G,se,pe)=>{for(const Ne in se){if(!se.hasOwnProperty(Ne))return;const Re=se[Ne],Ce=G+"."+Ne,Fe=De(i,Ce);(d.array.has(G)||Xn(Re)||Fe&&!Fe._f)&&!hu(Re)?te(Ce,Re,pe):qe(Ce,Re,pe)}},de=(G,se,pe={})=>{const Ne=De(i,G),Re=d.array.has(G),Ce=Gn(se);Wt(l,G,Ce),Re?(I.array.next({name:G,values:Gn(l)}),(E.isDirty||E.dirtyFields||C.isDirty||C.dirtyFields)&&pe.shouldDirty&&I.state.next({name:G,dirtyFields:xc(a,l),isDirty:B(G,Ce)})):Ne&&!Ne._f&&!br(Ce)?te(G,Ce,pe):qe(G,Ce,pe),XT(G,d)?I.state.next({...n,name:G,values:Gn(l)}):I.state.next({name:c.mount?G:void 0,values:Gn(l)})},ve=async G=>{c.mount=!0;const se=G.target;let pe=se.name,Ne=!0;const Re=De(i,pe),Ce=Lt=>{Ne=Number.isNaN(Lt)||hu(Lt)&&isNaN(Lt.getTime())||Us(Lt,De(l,pe,Lt))},Fe=YT(e.mode),dt=YT(e.reValidateMode);if(Re){let Lt,vn;const Vi=se.type?WT(Re._f):tR(G),Ui=G.type===Wm.BLUR||G.type===Wm.FOCUS_OUT,Ai=!cF(Re._f)&&!e.resolver&&!De(n.errors,pe)&&!Re._f.deps||dF(Ui,De(n.touchedFields,pe),n.isSubmitted,dt,Fe),ln=XT(pe,d,Ui);Wt(l,pe,Vi),Ui?(!se||!se.readOnly)&&(Re._f.onBlur&&Re._f.onBlur(G),_&&_(0)):Re._f.onChange&&Re._f.onChange(G);const ei=le(pe,Vi,Ui),un=!Ki(ei)||ln;if(!Ui&&I.state.next({name:pe,type:G.type,values:Gn(l)}),Ai)return(E.isValid||C.isValid)&&(e.mode==="onBlur"?Ui&&W():Ui||W()),un&&I.state.next({name:pe,...ln?{}:ei});if(!Ui&&ln&&I.state.next({...n}),e.resolver){const{errors:xr}=await O([pe]);if(ue([pe]),Ce(Vi),Ne){const Ys=JT(n.errors,i,pe),Ca=JT(xr,i,Ys.name||pe);Lt=Ca.error,pe=Ca.name,vn=Ki(xr)}}else ue([pe],!0),Lt=(await t1(Re,d.disabled,l,H,e.shouldUseNativeValidation))[pe],ue([pe]),Ce(Vi),Ne&&(Lt?vn=!1:(E.isValid||C.isValid)&&(vn=await V(i,!0)));Ne&&(Re._f.deps&&(!Array.isArray(Re._f.deps)||Re._f.deps.length>0)&&ke(Re._f.deps),P(pe,vn,Lt,ei))}},Ze=(G,se)=>{if(De(n.errors,se)&&G.focus)return G.focus(),1},ke=async(G,se={})=>{let pe,Ne;const Re=df(G);if(e.resolver){const Ce=await z(gn(G)?G:Re);pe=Ki(Ce),Ne=G?!Re.some(Fe=>De(Ce,Fe)):pe}else G?(Ne=(await Promise.all(Re.map(async Ce=>{const Fe=De(i,Ce);return await V(Fe&&Fe._f?{[Ce]:Fe}:Fe)}))).every(Boolean),!(!Ne&&!n.isValid)&&W()):Ne=pe=await V(i);return I.state.next({...!Gr(G)||(E.isValid||C.isValid)&&pe!==n.isValid?{}:{name:G},...e.resolver||!G?{isValid:pe}:{},errors:n.errors}),se.shouldFocus&&!Ne&&mf(i,Ze,G?Re:d.mount),Ne},$=(G,se)=>{let pe={...c.mount?l:a};return se&&(pe=sR(se.dirtyFields?n.dirtyFields:n.touchedFields,pe)),gn(G)?pe:Gr(G)?De(pe,G):G.map(Ne=>De(pe,Ne))},Y=(G,se)=>({invalid:!!De((se||n).errors,G),isDirty:!!De((se||n).dirtyFields,G),error:De((se||n).errors,G),isValidating:!!De(n.validatingFields,G),isTouched:!!De((se||n).touchedFields,G)}),ge=G=>{G&&df(G).forEach(se=>Kn(n.errors,se)),I.state.next({errors:G?n.errors:{}})},_e=(G,se,pe)=>{const Ne=(De(i,G,{_f:{}})._f||{}).ref,Re=De(n.errors,G)||{},{ref:Ce,message:Fe,type:dt,...Lt}=Re;Wt(n.errors,G,{...Lt,...se,ref:Ne}),I.state.next({name:G,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},Ie=(G,se)=>Wi(G)?I.state.subscribe({next:pe=>"values"in pe&&G(j(void 0,se),pe)}):j(G,se,!0),Le=G=>I.state.subscribe({next:se=>{fF(G.name,se.name,G.exact)&&hF(se,G.formState||E,Wr,G.reRenderRoot)&&G.callback({values:{...l},...n,...se,defaultValues:a})}}).unsubscribe,Qe=G=>(c.mount=!0,C={...C,...G.formState},Le({...G,formState:{...S,...G.formState}})),nt=(G,se={})=>{for(const pe of G?df(G):d.mount)d.mount.delete(pe),d.array.delete(pe),se.keepValue||(Kn(i,pe),Kn(l,pe)),!se.keepError&&Kn(n.errors,pe),!se.keepDirty&&Kn(n.dirtyFields,pe),!se.keepTouched&&Kn(n.touchedFields,pe),!se.keepIsValidating&&Kn(n.validatingFields,pe),!e.shouldUnregister&&!se.keepDefaultValue&&Kn(a,pe);I.state.next({values:Gn(l)}),I.state.next({...n,...se.keepDirty?{isDirty:B()}:{}}),!se.keepIsValid&&W()},Pt=({disabled:G,name:se})=>{if(qr(G)&&c.mount||G||d.disabled.has(se)){const Re=d.disabled.has(se)!==!!G;G?d.disabled.add(se):d.disabled.delete(se),Re&&c.mount&&!c.action&&W()}},Rn=(G,se={})=>{let pe=De(i,G);const Ne=qr(se.disabled)||qr(e.disabled);return Wt(i,G,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:G}},name:G,mount:!0,...se}}),d.mount.add(G),pe?Pt({disabled:qr(se.disabled)?se.disabled:e.disabled,name:G}):ne(G,!0,se.value),{...Ne?{disabled:se.disabled||e.disabled}:{},...e.progressive?{required:!!se.required,min:Kh(se.min),max:Kh(se.max),minLength:Kh(se.minLength),maxLength:Kh(se.maxLength),pattern:Kh(se.pattern)}:{},name:G,onChange:ve,onBlur:ve,ref:Re=>{if(Re){Rn(G,se),pe=De(i,G);const Ce=gn(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,Fe=rF(Ce),dt=pe._f.refs||[];if(Fe?dt.find(Lt=>Lt===Ce):Ce===pe._f.ref)return;Wt(i,G,{_f:{...pe._f,...Fe?{refs:[...dt.filter(ey),Ce,...Array.isArray(De(a,G))?[{}]:[]],ref:{type:Ce.type,name:G}}:{ref:Ce}}}),ne(G,!1,void 0,Ce)}else pe=De(i,G,{}),pe._f&&(pe._f.mount=!1),(e.shouldUnregister||se.shouldUnregister)&&!(nR(d.array,G)&&c.action)&&d.unMount.add(G)}}},Xi=()=>e.shouldFocusError&&mf(i,Ze,d.mount),Ji=G=>{qr(G)&&(I.state.next({disabled:G}),mf(i,(se,pe)=>{const Ne=De(i,pe);Ne&&(se.disabled=Ne._f.disabled||G,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Re=>{Re.disabled=Ne._f.disabled||G}))},0,!1))},Sr=(G,se)=>async pe=>{let Ne;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let Re=Gn(l);if(I.state.next({isSubmitting:!0}),e.resolver){const{errors:Ce,values:Fe}=await O();ue(),n.errors=Ce,Re=Gn(Fe)}else await V(i);if(d.disabled.size)for(const Ce of d.disabled)Kn(Re,Ce);if(Kn(n.errors,"root"),Ki(n.errors)){I.state.next({errors:{}});try{await G(Re,pe)}catch(Ce){Ne=Ce}}else se&&await se({...n.errors},pe),Xi(),setTimeout(Xi);if(I.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ki(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne},er=(G,se={})=>{De(i,G)&&(gn(se.defaultValue)?de(G,Gn(De(a,G))):(de(G,se.defaultValue),Wt(a,G,Gn(se.defaultValue))),se.keepTouched||Kn(n.touchedFields,G),se.keepDirty||(Kn(n.dirtyFields,G),n.isDirty=se.defaultValue?B(G,Gn(De(a,G))):B()),se.keepError||(Kn(n.errors,G),E.isValid&&W()),I.state.next({...n}))},ws=(G,se={})=>{const pe=G?Gn(G):a,Ne=Gn(pe),Re=Ki(G),Ce=Re?a:Ne;if(se.keepDefaultValues||(a=pe),!se.keepValues){if(se.keepDirtyValues){const Fe=new Set([...d.mount,...Object.keys(xc(a,l))]);for(const dt of Array.from(Fe)){const Lt=De(n.dirtyFields,dt),vn=De(l,dt),Vi=De(Ce,dt);Lt&&!gn(vn)?Wt(Ce,dt,vn):!Lt&&!gn(Vi)&&de(dt,Vi)}}else{if(pb&&gn(G))for(const Fe of d.mount){const dt=De(i,Fe);if(dt&&dt._f){const Lt=Array.isArray(dt._f.refs)?dt._f.refs[0]:dt._f.ref;if(Ym(Lt)){const vn=Lt.closest("form");if(vn){vn.reset();break}}}}if(se.keepFieldsRef)for(const Fe of d.mount)de(Fe,De(Ce,Fe));else i={}}l=e.shouldUnregister?se.keepDefaultValues?Gn(a):{}:Gn(Ce),I.array.next({values:{...Ce}}),I.state.next({values:{...Ce}})}d={mount:se.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!E.isValid||!!se.keepIsValid||!!se.keepDirtyValues||!e.shouldUnregister&&!Ki(Ce),c.watch=!!e.shouldUnregister,c.keepIsValid=!!se.keepIsValid,c.action=!1,se.keepErrors||(n.errors={}),I.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:Re?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!Us(G,a)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Re?{}:se.keepDirtyValues?se.keepDefaultValues&&l?xc(a,l):n.dirtyFields:se.keepDefaultValues&&G?xc(a,G):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Tr=(G,se)=>ws(Wi(G)?G(l):G,{...e.resetOptions,...se}),Es=(G,se={})=>{const pe=De(i,G),Ne=pe&&pe._f;if(Ne){const Re=Ne.refs?Ne.refs[0]:Ne.ref;Re.focus&&setTimeout(()=>{Re.focus(),se.shouldSelect&&Wi(Re.select)&&Re.select()})}},Wr=G=>{n={...n,...G}},on={control:{register:Rn,unregister:nt,getFieldState:Y,handleSubmit:Sr,setError:_e,_subscribe:Le,_runSchema:O,_updateIsValidating:ue,_focusError:Xi,_getWatch:j,_getDirty:B,_setValid:W,_setFieldArray:X,_setDisabledField:Pt,_setErrors:K,_getFieldArray:Ae,_reset:ws,_resetDefaultValues:()=>Wi(e.defaultValues)&&e.defaultValues().then(G=>{Tr(G,e.resetOptions),I.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:Ji,_subjects:I,_proxyFormState:E,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(G){c=G},get _defaultValues(){return a},get _names(){return d},set _names(G){d=G},get _formState(){return n},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:Qe,trigger:ke,register:Rn,handleSubmit:Sr,watch:Ie,setValue:de,getValues:$,reset:Tr,resetField:er,clearErrors:ge,unregister:nt,setError:_e,setFocus:Es,getFieldState:Y};return{...on,formControl:on}}function Sb(t={}){const e=Je.useRef(void 0),n=Je.useRef(void 0),[i,a]=Je.useState({isDirty:!1,isValidating:!1,isLoading:Wi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wi(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Wi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=_F(t);e.current={...d,formState:i}}const l=e.current.control;return l._options=t,vb(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Je.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Je.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Je.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Je.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Je.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),Je.useEffect(()=>{var c;t.values&&!Us(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),n.current=t.values,a(d=>({...d}))):l._resetDefaultValues()},[l,t.values]),Je.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=Je.useMemo(()=>rR(i,l),[l,i]),e.current}const n1=(t,e,n)=>{if(t&&"reportValidity"in t){const i=De(n,e);t.setCustomValidity(i&&i.message||""),t.reportValidity()}},Zy=(t,e)=>{for(const n in e.fields){const i=e.fields[n];i&&i.ref&&"reportValidity"in i.ref?n1(i.ref,n,t):i&&i.refs&&i.refs.forEach(a=>n1(a,n,t))}},i1=(t,e)=>{e.shouldUseNativeValidation&&Zy(t,e);const n={};for(const i in t){const a=De(e.fields,i),l=Object.assign(t[i]||{},{ref:a&&a.ref});if(yF(e.names||Object.keys(t),i)){const c=Object.assign({},De(n,i));Wt(c,"root",l),Wt(n,i,c)}else Wt(n,i,l)}return n},yF=(t,e)=>{const n=r1(e);return t.some(i=>r1(i).match(`^${n}\\.\\d+`))};function r1(t){return t.replace(/\]|\[/g,"")}function Te(t,e,n){function i(d,_){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:_,constr:c,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),e(d,_);const y=c.prototype,S=Object.keys(y);for(let E=0;E<S.length;E++){const C=S[E];C in d||(d[C]=y[C].bind(d))}}const a=n?.Parent??Object;class l extends a{}Object.defineProperty(l,"name",{value:t});function c(d){var _;const y=n?.Parent?new l:this;i(y,d),(_=y._zod).deferred??(_.deferred=[]);for(const S of y._zod.deferred)S();return y}return Object.defineProperty(c,"init",{value:i}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Pc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class hR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const fR={};function Su(t){return fR}function dR(t){const e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,a])=>e.indexOf(+i)===-1).map(([i,a])=>a)}function Gy(t,e){return typeof e=="bigint"?e.toString():e}function Tb(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function xb(t){return t==null}function Ab(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function vF(t,e){const n=(t.toString().split(".")[1]||"").length,i=e.toString();let a=(i.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(i)){const _=i.match(/\d?e-(\d?)/);_?.[1]&&(a=Number.parseInt(_[1]))}const l=n>a?n:a,c=Number.parseInt(t.toFixed(l).replace(".","")),d=Number.parseInt(e.toFixed(l).replace(".",""));return c%d/10**l}const s1=Symbol("evaluating");function Yt(t,e,n){let i;Object.defineProperty(t,e,{get(){if(i!==s1)return i===void 0&&(i=s1,i=n()),i},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Pu(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Tl(...t){const e={};for(const n of t){const i=Object.getOwnPropertyDescriptors(n);Object.assign(e,i)}return Object.defineProperties({},e)}function a1(t){return JSON.stringify(t)}function bF(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const mR="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Xm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const wF=Tb(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Cf(t){if(Xm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Xm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function pR(t){return Cf(t)?{...t}:Array.isArray(t)?[...t]:t}const EF=new Set(["string","number","symbol"]);function Op(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xl(t,e,n){const i=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(i._zod.parent=t),i}function We(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function SF(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const TF={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function xF(t,e){const n=t._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const l=Tl(t._zod.def,{get shape(){const c={};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&(c[d]=n.shape[d])}return Pu(this,"shape",c),c},checks:[]});return xl(t,l)}function AF(t,e){const n=t._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const l=Tl(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&delete c[d]}return Pu(this,"shape",c),c},checks:[]});return xl(t,l)}function CF(t,e){if(!Cf(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const l=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(l,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=Tl(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return Pu(this,"shape",l),l}});return xl(t,a)}function RF(t,e){if(!Cf(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Tl(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return Pu(this,"shape",i),i}});return xl(t,n)}function IF(t,e){const n=Tl(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e._zod.def.shape};return Pu(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return xl(t,n)}function NF(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=Tl(e._zod.def,{get shape(){const d=e._zod.def.shape,_={...d};if(n)for(const y in n){if(!(y in d))throw new Error(`Unrecognized key: "${y}"`);n[y]&&(_[y]=t?new t({type:"optional",innerType:d[y]}):d[y])}else for(const y in d)_[y]=t?new t({type:"optional",innerType:d[y]}):d[y];return Pu(this,"shape",_),_},checks:[]});return xl(e,c)}function kF(t,e,n){const i=Tl(e._zod.def,{get shape(){const a=e._zod.def.shape,l={...a};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)l[c]=new t({type:"nonoptional",innerType:a[c]});return Pu(this,"shape",l),l}});return xl(e,i)}function Ac(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function gR(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function cm(t){return typeof t=="string"?t:t?.message}function Tu(t,e,n){const i={...t,path:t.path??[]};if(!t.message){const a=cm(t.inst?._zod.def?.error?.(t))??cm(e?.error?.(t))??cm(n.customError?.(t))??cm(n.localeError?.(t))??"Invalid input";i.message=a}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function Cb(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Rf(...t){const[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}const _R=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Gy,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Rb=Te("$ZodError",_R),Dp=Te("$ZodError",_R,{Parent:Error});function PF(t,e=n=>n.message){const n={},i=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:n}}function LF(t,e=n=>n.message){const n={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>i({issues:c}));else if(l.code==="invalid_key")i({issues:l.issues});else if(l.code==="invalid_element")i({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let c=n,d=0;for(;d<l.path.length;){const _=l.path[d];d===l.path.length-1?(c[_]=c[_]||{_errors:[]},c[_]._errors.push(e(l))):c[_]=c[_]||{_errors:[]},c=c[_],d++}}};return i(t),n}const Mp=t=>(e,n,i,a)=>{const l=i?Object.assign(i,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new Pc;if(c.issues.length){const d=new(a?.Err??t)(c.issues.map(_=>Tu(_,l,Su())));throw mR(d,a?.callee),d}return c.value},OF=Mp(Dp),jp=t=>async(e,n,i,a)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(a?.Err??t)(c.issues.map(_=>Tu(_,l,Su())));throw mR(d,a?.callee),d}return c.value},DF=jp(Dp),zp=t=>(e,n,i)=>{const a=i?{...i,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new Pc;return l.issues.length?{success:!1,error:new(t??Rb)(l.issues.map(c=>Tu(c,a,Su())))}:{success:!0,data:l.value}},MF=zp(Dp),Vp=t=>async(e,n,i)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(c=>Tu(c,a,Su())))}:{success:!0,data:l.value}},jF=Vp(Dp),zF=t=>(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Mp(t)(e,n,a)},VF=t=>(e,n,i)=>Mp(t)(e,n,i),UF=t=>async(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return jp(t)(e,n,a)},BF=t=>async(e,n,i)=>jp(t)(e,n,i),FF=t=>(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return zp(t)(e,n,a)},HF=t=>(e,n,i)=>zp(t)(e,n,i),$F=t=>async(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Vp(t)(e,n,a)},qF=t=>async(e,n,i)=>Vp(t)(e,n,i),ZF=/^[cC][^\s-]{8,}$/,GF=/^[0-9a-z]+$/,KF=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WF=/^[0-9a-vA-V]{20}$/,YF=/^[A-Za-z0-9]{27}$/,QF=/^[a-zA-Z0-9_-]{21}$/,XF=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,JF=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,o1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,e8=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,t8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function n8(){return new RegExp(t8,"u")}const i8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,r8=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,s8=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,a8=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,o8=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,yR=/^[A-Za-z0-9_-]*$/,l8=/^\+[1-9]\d{6,14}$/,vR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",u8=new RegExp(`^${vR}$`);function bR(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function c8(t){return new RegExp(`^${bR(t)}$`)}function h8(t){const e=bR({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${e}(?:${n.join("|")})`;return new RegExp(`^${vR}T(?:${i})$`)}const f8=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},d8=/^-?\d+$/,m8=/^-?\d+(?:\.\d+)?$/,p8=/^(?:true|false)$/i,g8=/^[^A-Z]*$/,_8=/^[^a-z]*$/,Er=Te("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),wR={number:"number",bigint:"bigint",object:"date"},ER=Te("$ZodCheckLessThan",(t,e)=>{Er.init(t,e);const n=wR[typeof e.value];t._zod.onattach.push(i=>{const a=i._zod.bag,l=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<l&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),SR=Te("$ZodCheckGreaterThan",(t,e)=>{Er.init(t,e);const n=wR[typeof e.value];t._zod.onattach.push(i=>{const a=i._zod.bag,l=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>l&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),y8=Te("$ZodCheckMultipleOf",(t,e)=>{Er.init(t,e),t._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):vF(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),v8=Te("$ZodCheckNumberFormat",(t,e)=>{Er.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),i=n?"int":"number",[a,l]=TF[e.format];t._zod.onattach.push(c=>{const d=c._zod.bag;d.format=e.format,d.minimum=a,d.maximum=l,n&&(d.pattern=d8)}),t._zod.check=c=>{const d=c.value;if(n){if(!Number.isInteger(d)){c.issues.push({expected:i,format:e.format,code:"invalid_type",continue:!1,input:d,inst:t});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:!0,continue:!e.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:!0,continue:!e.abort});return}}d<a&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),d>l&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:l,inclusive:!0,inst:t,continue:!e.abort})}}),b8=Te("$ZodCheckMaxLength",(t,e)=>{var n;Er.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!xb(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const a=i.value;if(a.length<=e.maximum)return;const c=Cb(a);i.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),w8=Te("$ZodCheckMinLength",(t,e)=>{var n;Er.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!xb(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const a=i.value;if(a.length>=e.minimum)return;const c=Cb(a);i.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),E8=Te("$ZodCheckLengthEquals",(t,e)=>{var n;Er.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!xb(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=i=>{const a=i.value,l=a.length;if(l===e.length)return;const c=Cb(a),d=l>e.length;i.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),Up=Te("$ZodCheckStringFormat",(t,e)=>{var n,i;Er.init(t,e),t._zod.onattach.push(a=>{const l=a._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),S8=Te("$ZodCheckRegex",(t,e)=>{Up.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),T8=Te("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=g8),Up.init(t,e)}),x8=Te("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=_8),Up.init(t,e)}),A8=Te("$ZodCheckIncludes",(t,e)=>{Er.init(t,e);const n=Op(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(i)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),C8=Te("$ZodCheckStartsWith",(t,e)=>{Er.init(t,e);const n=new RegExp(`^${Op(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),R8=Te("$ZodCheckEndsWith",(t,e)=>{Er.init(t,e);const n=new RegExp(`.*${Op(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}}),I8=Te("$ZodCheckOverwrite",(t,e)=>{Er.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class N8{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(c=>c),a=Math.min(...i.map(c=>c.length-c.trimStart().length)),l=i.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,a.join(`
`))}}const k8={major:4,minor:3,patch:6},Vn=Te("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=k8;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const a of i)for(const l of a._zod.onattach)l(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,d,_)=>{let y=Ac(c),S;for(const E of d){if(E._zod.def.when){if(!E._zod.def.when(c))continue}else if(y)continue;const C=c.issues.length,I=E._zod.check(c);if(I instanceof Promise&&_?.async===!1)throw new Pc;if(S||I instanceof Promise)S=(S??Promise.resolve()).then(async()=>{await I,c.issues.length!==C&&(y||(y=Ac(c,C)))});else{if(c.issues.length===C)continue;y||(y=Ac(c,C))}}return S?S.then(()=>c):c},l=(c,d,_)=>{if(Ac(c))return c.aborted=!0,c;const y=a(d,i,_);if(y instanceof Promise){if(_.async===!1)throw new Pc;return y.then(S=>t._zod.parse(S,_))}return t._zod.parse(y,_)};t._zod.run=(c,d)=>{if(d.skipChecks)return t._zod.parse(c,d);if(d.direction==="backward"){const y=t._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return y instanceof Promise?y.then(S=>l(S,c,d)):l(y,c,d)}const _=t._zod.parse(c,d);if(_ instanceof Promise){if(d.async===!1)throw new Pc;return _.then(y=>a(y,i,d))}return a(_,i,d)}}Yt(t,"~standard",()=>({validate:a=>{try{const l=MF(t,a);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return jF(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),Ib=Te("$ZodString",(t,e)=>{Vn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??f8(t._zod.bag),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),_n=Te("$ZodStringFormat",(t,e)=>{Up.init(t,e),Ib.init(t,e)}),P8=Te("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=JF),_n.init(t,e)}),L8=Te("$ZodUUID",(t,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=o1(i))}else e.pattern??(e.pattern=o1());_n.init(t,e)}),O8=Te("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=e8),_n.init(t,e)}),D8=Te("$ZodURL",(t,e)=>{_n.init(t,e),t._zod.check=n=>{try{const i=n.value.trim(),a=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),M8=Te("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=n8()),_n.init(t,e)}),j8=Te("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=QF),_n.init(t,e)}),z8=Te("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=ZF),_n.init(t,e)}),V8=Te("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=GF),_n.init(t,e)}),U8=Te("$ZodULID",(t,e)=>{e.pattern??(e.pattern=KF),_n.init(t,e)}),B8=Te("$ZodXID",(t,e)=>{e.pattern??(e.pattern=WF),_n.init(t,e)}),F8=Te("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=YF),_n.init(t,e)}),H8=Te("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=h8(e)),_n.init(t,e)}),$8=Te("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=u8),_n.init(t,e)}),q8=Te("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=c8(e)),_n.init(t,e)}),Z8=Te("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=XF),_n.init(t,e)}),G8=Te("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=i8),_n.init(t,e),t._zod.bag.format="ipv4"}),K8=Te("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=r8),_n.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),W8=Te("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=s8),_n.init(t,e)}),Y8=Te("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=a8),_n.init(t,e),t._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[a,l]=i;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function TR(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Q8=Te("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=o8),_n.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{TR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function X8(t){if(!yR.test(t))return!1;const e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return TR(n)}const J8=Te("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=yR),_n.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{X8(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),e7=Te("$ZodE164",(t,e)=>{e.pattern??(e.pattern=l8),_n.init(t,e)});function t7(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const a=JSON.parse(atob(i));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const n7=Te("$ZodJWT",(t,e)=>{_n.init(t,e),t._zod.check=n=>{t7(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),xR=Te("$ZodNumber",(t,e)=>{Vn.init(t,e),t._zod.pattern=t._zod.bag.pattern??m8,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const l=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...l?{received:l}:{}}),n}}),i7=Te("$ZodNumberFormat",(t,e)=>{v8.init(t,e),xR.init(t,e)}),r7=Te("$ZodBoolean",(t,e)=>{Vn.init(t,e),t._zod.pattern=p8,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:t}),n}}),s7=Te("$ZodUnknown",(t,e)=>{Vn.init(t,e),t._zod.parse=n=>n}),a7=Te("$ZodNever",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function l1(t,e,n){t.issues.length&&e.issues.push(...gR(n,t.issues)),e.value[n]=t.value}const o7=Te("$ZodArray",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,i)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const l=[];for(let c=0;c<a.length;c++){const d=a[c],_=e.element._zod.run({value:d,issues:[]},i);_ instanceof Promise?l.push(_.then(y=>l1(y,n,c))):l1(_,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Jm(t,e,n,i,a){if(t.issues.length){if(a&&!(n in i))return;e.issues.push(...gR(n,t.issues))}t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}function AR(t){const e=Object.keys(t.shape);for(const i of e)if(!t.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const n=SF(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function CR(t,e,n,i,a,l){const c=[],d=a.keySet,_=a.catchall._zod,y=_.def.type,S=_.optout==="optional";for(const E in e){if(d.has(E))continue;if(y==="never"){c.push(E);continue}const C=_.run({value:e[E],issues:[]},i);C instanceof Promise?t.push(C.then(I=>Jm(I,n,E,e,S))):Jm(C,n,E,e,S)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const l7=Te("$ZodObject",(t,e)=>{if(Vn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const _={...d};return Object.defineProperty(e,"shape",{value:_}),_}})}const i=Tb(()=>AR(e));Yt(t._zod,"propValues",()=>{const d=e.shape,_={};for(const y in d){const S=d[y]._zod;if(S.values){_[y]??(_[y]=new Set);for(const E of S.values)_[y].add(E)}}return _});const a=Xm,l=e.catchall;let c;t._zod.parse=(d,_)=>{c??(c=i.value);const y=d.value;if(!a(y))return d.issues.push({expected:"object",code:"invalid_type",input:y,inst:t}),d;d.value={};const S=[],E=c.shape;for(const C of c.keys){const I=E[C],H=I._zod.optout==="optional",M=I._zod.run({value:y[C],issues:[]},_);M instanceof Promise?S.push(M.then(W=>Jm(W,d,C,y,H))):Jm(M,d,C,y,H)}return l?CR(S,y,d,_,i.value,t):S.length?Promise.all(S).then(()=>d):d}}),u7=Te("$ZodObjectJIT",(t,e)=>{l7.init(t,e);const n=t._zod.parse,i=Tb(()=>AR(e)),a=C=>{const I=new N8(["shape","payload","ctx"]),H=i.value,M=re=>{const K=a1(re);return`shape[${K}]._zod.run({ value: input[${K}], issues: [] }, ctx)`};I.write("const input = payload.value;");const W=Object.create(null);let ue=0;for(const re of H.keys)W[re]=`key_${ue++}`;I.write("const newResult = {};");for(const re of H.keys){const K=W[re],ne=a1(re),P=C[re]?._zod?.optout==="optional";I.write(`const ${K} = ${M(re)};`),P?I.write(`
        if (${K}.issues.length) {
          if (${ne} in input) {
            payload.issues = payload.issues.concat(${K}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${ne}, ...iss.path] : [${ne}]
            })));
          }
        }
        
        if (${K}.value === undefined) {
          if (${ne} in input) {
            newResult[${ne}] = undefined;
          }
        } else {
          newResult[${ne}] = ${K}.value;
        }
        
      `):I.write(`
        if (${K}.issues.length) {
          payload.issues = payload.issues.concat(${K}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ne}, ...iss.path] : [${ne}]
          })));
        }
        
        if (${K}.value === undefined) {
          if (${ne} in input) {
            newResult[${ne}] = undefined;
          }
        } else {
          newResult[${ne}] = ${K}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const X=I.compile();return(re,K)=>X(C,re,K)};let l;const c=Xm,d=!fR.jitless,y=d&&wF.value,S=e.catchall;let E;t._zod.parse=(C,I)=>{E??(E=i.value);const H=C.value;return c(H)?d&&y&&I?.async===!1&&I.jitless!==!0?(l||(l=a(e.shape)),C=l(C,I),S?CR([],H,C,I,E,t):C):n(C,I):(C.issues.push({expected:"object",code:"invalid_type",input:H,inst:t}),C)}});function u1(t,e,n,i){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const a=t.filter(l=>!Ac(l));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(c=>Tu(c,i,Su())))}),e)}const c7=Te("$ZodUnion",(t,e)=>{Vn.init(t,e),Yt(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Yt(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Yt(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),Yt(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${a.map(l=>Ab(l.source)).join("|")})$`)}});const n=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(a,l)=>{if(n)return i(a,l);let c=!1;const d=[];for(const _ of e.options){const y=_._zod.run({value:a.value,issues:[]},l);if(y instanceof Promise)d.push(y),c=!0;else{if(y.issues.length===0)return y;d.push(y)}}return c?Promise.all(d).then(_=>u1(_,a,t,l)):u1(d,a,t,l)}}),h7=Te("$ZodIntersection",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,i)=>{const a=n.value,l=e.left._zod.run({value:a,issues:[]},i),c=e.right._zod.run({value:a,issues:[]},i);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([_,y])=>c1(n,_,y)):c1(n,l,c)}});function Ky(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Cf(t)&&Cf(e)){const n=Object.keys(e),i=Object.keys(t).filter(l=>n.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Ky(t[l],e[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};a[l]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Ky(a,l);if(!c.valid)return{valid:!1,mergeErrorPath:[i,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function c1(t,e,n){const i=new Map;let a;for(const d of e.issues)if(d.code==="unrecognized_keys"){a??(a=d);for(const _ of d.keys)i.has(_)||i.set(_,{}),i.get(_).l=!0}else t.issues.push(d);for(const d of n.issues)if(d.code==="unrecognized_keys")for(const _ of d.keys)i.has(_)||i.set(_,{}),i.get(_).r=!0;else t.issues.push(d);const l=[...i].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(l.length&&a&&t.issues.push({...a,keys:l}),Ac(t))return t;const c=Ky(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const f7=Te("$ZodEnum",(t,e)=>{Vn.init(t,e);const n=dR(e.entries),i=new Set(n);t._zod.values=i,t._zod.pattern=new RegExp(`^(${n.filter(a=>EF.has(typeof a)).map(a=>typeof a=="string"?Op(a):a.toString()).join("|")})$`),t._zod.parse=(a,l)=>{const c=a.value;return i.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),d7=Te("$ZodTransform",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new hR(t.constructor.name);const a=e.transform(n.value,n);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Pc;return n.value=a,n}});function h1(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const RR=Te("$ZodOptional",(t,e)=>{Vn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ab(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>h1(l,n.value)):h1(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,i)}}),m7=Te("$ZodExactOptional",(t,e)=>{RR.init(t,e),Yt(t._zod,"values",()=>e.innerType._zod.values),Yt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,i)=>e.innerType._zod.run(n,i)}),p7=Te("$ZodNullable",(t,e)=>{Vn.init(t,e),Yt(t._zod,"optin",()=>e.innerType._zod.optin),Yt(t._zod,"optout",()=>e.innerType._zod.optout),Yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ab(n.source)}|null)$`):void 0}),Yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),g7=Te("$ZodDefault",(t,e)=>{Vn.init(t,e),t._zod.optin="optional",Yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>f1(l,e)):f1(a,e)}});function f1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const _7=Te("$ZodPrefault",(t,e)=>{Vn.init(t,e),t._zod.optin="optional",Yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),y7=Te("$ZodNonOptional",(t,e)=>{Vn.init(t,e),Yt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>d1(l,t)):d1(a,t)}});function d1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const v7=Te("$ZodCatch",(t,e)=>{Vn.init(t,e),Yt(t._zod,"optin",()=>e.innerType._zod.optin),Yt(t._zod,"optout",()=>e.innerType._zod.optout),Yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(c=>Tu(c,i,Su()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>Tu(l,i,Su()))},input:n.value}),n.issues=[]),n)}}),b7=Te("$ZodPipe",(t,e)=>{Vn.init(t,e),Yt(t._zod,"values",()=>e.in._zod.values),Yt(t._zod,"optin",()=>e.in._zod.optin),Yt(t._zod,"optout",()=>e.out._zod.optout),Yt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{if(i.direction==="backward"){const l=e.out._zod.run(n,i);return l instanceof Promise?l.then(c=>hm(c,e.in,i)):hm(l,e.in,i)}const a=e.in._zod.run(n,i);return a instanceof Promise?a.then(l=>hm(l,e.out,i)):hm(a,e.out,i)}});function hm(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const w7=Te("$ZodReadonly",(t,e)=>{Vn.init(t,e),Yt(t._zod,"propValues",()=>e.innerType._zod.propValues),Yt(t._zod,"values",()=>e.innerType._zod.values),Yt(t._zod,"optin",()=>e.innerType?._zod?.optin),Yt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(m1):m1(a)}});function m1(t){return t.value=Object.freeze(t.value),t}const E7=Te("$ZodCustom",(t,e)=>{Er.init(t,e),Vn.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{const i=n.value,a=e.fn(i);if(a instanceof Promise)return a.then(l=>p1(l,n,i,t));p1(a,n,i,t)}});function p1(t,e,n,i){if(!t){const a={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(a.params=i._zod.def.params),e.issues.push(Rf(a))}}var g1;class S7{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const i=n[0];return this._map.set(e,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const a={...i,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function T7(){return new S7}(g1=globalThis).__zod_globalRegistry??(g1.__zod_globalRegistry=T7());const nf=globalThis.__zod_globalRegistry;function x7(t,e){return new t({type:"string",...We(e)})}function A7(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...We(e)})}function _1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...We(e)})}function C7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...We(e)})}function R7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...We(e)})}function I7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...We(e)})}function N7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...We(e)})}function k7(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...We(e)})}function P7(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...We(e)})}function L7(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...We(e)})}function O7(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...We(e)})}function D7(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...We(e)})}function M7(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...We(e)})}function j7(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...We(e)})}function z7(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...We(e)})}function V7(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...We(e)})}function U7(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...We(e)})}function B7(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...We(e)})}function F7(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...We(e)})}function H7(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...We(e)})}function $7(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...We(e)})}function q7(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...We(e)})}function Z7(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...We(e)})}function G7(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...We(e)})}function K7(t,e){return new t({type:"string",format:"date",check:"string_format",...We(e)})}function W7(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...We(e)})}function Y7(t,e){return new t({type:"string",format:"duration",check:"string_format",...We(e)})}function Q7(t,e){return new t({type:"number",checks:[],...We(e)})}function X7(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...We(e)})}function J7(t,e){return new t({type:"boolean",...We(e)})}function eH(t){return new t({type:"unknown"})}function tH(t,e){return new t({type:"never",...We(e)})}function y1(t,e){return new ER({check:"less_than",...We(e),value:t,inclusive:!1})}function ty(t,e){return new ER({check:"less_than",...We(e),value:t,inclusive:!0})}function v1(t,e){return new SR({check:"greater_than",...We(e),value:t,inclusive:!1})}function ny(t,e){return new SR({check:"greater_than",...We(e),value:t,inclusive:!0})}function b1(t,e){return new y8({check:"multiple_of",...We(e),value:t})}function IR(t,e){return new b8({check:"max_length",...We(e),maximum:t})}function ep(t,e){return new w8({check:"min_length",...We(e),minimum:t})}function NR(t,e){return new E8({check:"length_equals",...We(e),length:t})}function nH(t,e){return new S8({check:"string_format",format:"regex",...We(e),pattern:t})}function iH(t){return new T8({check:"string_format",format:"lowercase",...We(t)})}function rH(t){return new x8({check:"string_format",format:"uppercase",...We(t)})}function sH(t,e){return new A8({check:"string_format",format:"includes",...We(e),includes:t})}function aH(t,e){return new C8({check:"string_format",format:"starts_with",...We(e),prefix:t})}function oH(t,e){return new R8({check:"string_format",format:"ends_with",...We(e),suffix:t})}function nh(t){return new I8({check:"overwrite",tx:t})}function lH(t){return nh(e=>e.normalize(t))}function uH(){return nh(t=>t.trim())}function cH(){return nh(t=>t.toLowerCase())}function hH(){return nh(t=>t.toUpperCase())}function fH(){return nh(t=>bF(t))}function dH(t,e,n){return new t({type:"array",element:e,...We(n)})}function mH(t,e,n){return new t({type:"custom",check:"custom",fn:e,...We(n)})}function pH(t){const e=gH(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Rf(i,n.value,e._zod.def));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(Rf(a))}},t(n.value,n)));return e}function gH(t,e){const n=new Er({check:"custom",...We(e)});return n._zod.check=t,n}function kR(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??nf,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Ti(t,e,n={path:[],schemaPath:[]}){var i;const a=t._zod.def,l=e.seen.get(t);if(l)return l.count++,n.schemaPath.includes(t)&&(l.cycle=n.path),l.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const d=t._zod.toJSONSchema?.();if(d)c.schema=d;else{const S={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,S);else{const C=c.schema,I=e.processors[a.type];if(!I)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);I(t,e,C,S)}const E=t._zod.parent;E&&(c.ref||(c.ref=E),Ti(E,e,S),e.seen.get(E).isParent=!0)}const _=e.metadataRegistry.get(t);return _&&Object.assign(c.schema,_),e.io==="input"&&Gi(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((i=c.schema).default??(i.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function PR(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const c of t.seen.entries()){const d=t.metadataRegistry.get(c[0])?.id;if(d){const _=i.get(d);if(_&&_!==c[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(d,c[0])}}const a=c=>{const d=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const E=t.external.registry.get(c[0])?.id,C=t.external.uri??(H=>H);if(E)return{ref:C(E)};const I=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=I,{defId:I,ref:`${C("__shared")}#/${d}/${I}`}}if(c[1]===n)return{ref:"#"};const y=`#/${d}/`,S=c[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:y+S}},l=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:_,defId:y}=a(c);d.def={...d.schema},y&&(d.defId=y);const S=d.schema;for(const E in S)delete S[E];S.$ref=_};if(t.cycles==="throw")for(const c of t.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const d=c[1];if(e===c[0]){l(c);continue}if(t.external){const y=t.external.registry.get(c[0])?.id;if(e!==c[0]&&y){l(c);continue}}if(t.metadataRegistry.get(c[0])?.id){l(c);continue}if(d.cycle){l(c);continue}if(d.count>1&&t.reused==="ref"){l(c);continue}}}function LR(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=c=>{const d=t.seen.get(c);if(d.ref===null)return;const _=d.def??d.schema,y={..._},S=d.ref;if(d.ref=null,S){i(S);const C=t.seen.get(S),I=C.schema;if(I.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(_.allOf=_.allOf??[],_.allOf.push(I)):Object.assign(_,I),Object.assign(_,y),c._zod.parent===S)for(const M in _)M==="$ref"||M==="allOf"||M in y||delete _[M];if(I.$ref&&C.def)for(const M in _)M==="$ref"||M==="allOf"||M in C.def&&JSON.stringify(_[M])===JSON.stringify(C.def[M])&&delete _[M]}const E=c._zod.parent;if(E&&E!==S){i(E);const C=t.seen.get(E);if(C?.schema.$ref&&(_.$ref=C.schema.$ref,C.def))for(const I in _)I==="$ref"||I==="allOf"||I in C.def&&JSON.stringify(_[I])===JSON.stringify(C.def[I])&&delete _[I]}t.override({zodSchema:c,jsonSchema:_,path:d.path??[]})};for(const c of[...t.seen.entries()].reverse())i(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const l=t.external?.defs??{};for(const c of t.seen.entries()){const d=c[1];d.def&&d.defId&&(l[d.defId]=d.def)}t.external||Object.keys(l).length>0&&(t.target==="draft-2020-12"?a.$defs=l:a.definitions=l);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:tp(e,"input",t.processors),output:tp(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Gi(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const i=t._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Gi(i.element,n);if(i.type==="set")return Gi(i.valueType,n);if(i.type==="lazy")return Gi(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Gi(i.innerType,n);if(i.type==="intersection")return Gi(i.left,n)||Gi(i.right,n);if(i.type==="record"||i.type==="map")return Gi(i.keyType,n)||Gi(i.valueType,n);if(i.type==="pipe")return Gi(i.in,n)||Gi(i.out,n);if(i.type==="object"){for(const a in i.shape)if(Gi(i.shape[a],n))return!0;return!1}if(i.type==="union"){for(const a of i.options)if(Gi(a,n))return!0;return!1}if(i.type==="tuple"){for(const a of i.items)if(Gi(a,n))return!0;return!!(i.rest&&Gi(i.rest,n))}return!1}const _H=(t,e={})=>n=>{const i=kR({...n,processors:e});return Ti(t,i),PR(i,t),LR(i,t)},tp=(t,e,n={})=>i=>{const{libraryOptions:a,target:l}=i??{},c=kR({...a??{},target:l,io:e,processors:n});return Ti(t,c),PR(c,t),LR(c,t)},yH={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},vH=(t,e,n,i)=>{const a=n;a.type="string";const{minimum:l,maximum:c,format:d,patterns:_,contentEncoding:y}=t._zod.bag;if(typeof l=="number"&&(a.minLength=l),typeof c=="number"&&(a.maxLength=c),d&&(a.format=yH[d]??d,a.format===""&&delete a.format,d==="time"&&delete a.format),y&&(a.contentEncoding=y),_&&_.size>0){const S=[..._];S.length===1?a.pattern=S[0].source:S.length>1&&(a.allOf=[...S.map(E=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:E.source}))])}},bH=(t,e,n,i)=>{const a=n,{minimum:l,maximum:c,format:d,multipleOf:_,exclusiveMaximum:y,exclusiveMinimum:S}=t._zod.bag;typeof d=="string"&&d.includes("int")?a.type="integer":a.type="number",typeof S=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=S,a.exclusiveMinimum=!0):a.exclusiveMinimum=S),typeof l=="number"&&(a.minimum=l,typeof S=="number"&&e.target!=="draft-04"&&(S>=l?delete a.minimum:delete a.exclusiveMinimum)),typeof y=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=y,a.exclusiveMaximum=!0):a.exclusiveMaximum=y),typeof c=="number"&&(a.maximum=c,typeof y=="number"&&e.target!=="draft-04"&&(y<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof _=="number"&&(a.multipleOf=_)},wH=(t,e,n,i)=>{n.type="boolean"},EH=(t,e,n,i)=>{n.not={}},SH=(t,e,n,i)=>{},TH=(t,e,n,i)=>{const a=t._zod.def,l=dR(a.entries);l.every(c=>typeof c=="number")&&(n.type="number"),l.every(c=>typeof c=="string")&&(n.type="string"),n.enum=l},xH=(t,e,n,i)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},AH=(t,e,n,i)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},CH=(t,e,n,i)=>{const a=n,l=t._zod.def,{minimum:c,maximum:d}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof d=="number"&&(a.maxItems=d),a.type="array",a.items=Ti(l.element,e,{...i,path:[...i.path,"items"]})},RH=(t,e,n,i)=>{const a=n,l=t._zod.def;a.type="object",a.properties={};const c=l.shape;for(const y in c)a.properties[y]=Ti(c[y],e,{...i,path:[...i.path,"properties",y]});const d=new Set(Object.keys(c)),_=new Set([...d].filter(y=>{const S=l.shape[y]._zod;return e.io==="input"?S.optin===void 0:S.optout===void 0}));_.size>0&&(a.required=Array.from(_)),l.catchall?._zod.def.type==="never"?a.additionalProperties=!1:l.catchall?l.catchall&&(a.additionalProperties=Ti(l.catchall,e,{...i,path:[...i.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},IH=(t,e,n,i)=>{const a=t._zod.def,l=a.inclusive===!1,c=a.options.map((d,_)=>Ti(d,e,{...i,path:[...i.path,l?"oneOf":"anyOf",_]}));l?n.oneOf=c:n.anyOf=c},NH=(t,e,n,i)=>{const a=t._zod.def,l=Ti(a.left,e,{...i,path:[...i.path,"allOf",0]}),c=Ti(a.right,e,{...i,path:[...i.path,"allOf",1]}),d=y=>"allOf"in y&&Object.keys(y).length===1,_=[...d(l)?l.allOf:[l],...d(c)?c.allOf:[c]];n.allOf=_},kH=(t,e,n,i)=>{const a=t._zod.def,l=Ti(a.innerType,e,i),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[l,{type:"null"}]},PH=(t,e,n,i)=>{const a=t._zod.def;Ti(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType},LH=(t,e,n,i)=>{const a=t._zod.def;Ti(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},OH=(t,e,n,i)=>{const a=t._zod.def;Ti(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},DH=(t,e,n,i)=>{const a=t._zod.def;Ti(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},MH=(t,e,n,i)=>{const a=t._zod.def,l=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;Ti(l,e,i);const c=e.seen.get(t);c.ref=l},jH=(t,e,n,i)=>{const a=t._zod.def;Ti(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType,n.readOnly=!0},OR=(t,e,n,i)=>{const a=t._zod.def;Ti(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType};function w1(t,e){try{var n=t()}catch(i){return e(i)}return n&&n.then?n.then(void 0,e):n}function zH(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,c=i.path.join(".");if(!n[c])if("unionErrors"in i){var d=i.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:a};if("unionErrors"in i&&i.unionErrors.forEach(function(S){return S.errors.forEach(function(E){return t.push(E)})}),e){var _=n[c].types,y=_&&_[i.code];n[c]=bb(c,e,n,a,y?[].concat(y,i.message):i.message)}t.shift()}return n}function VH(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,c=i.path.join(".");if(!n[c])if(i.code==="invalid_union"&&i.errors.length>0){var d=i.errors[0][0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:a};if(i.code==="invalid_union"&&i.errors.forEach(function(S){return S.forEach(function(E){return t.push(E)})}),e){var _=n[c].types,y=_&&_[i.code];n[c]=bb(c,e,n,a,y?[].concat(y,i.message):i.message)}t.shift()}return n}function Nb(t,e,n){if(n===void 0&&(n={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(t))return function(i,a,l){try{return Promise.resolve(w1(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(c){return l.shouldUseNativeValidation&&Zy({},l),{errors:{},values:n.raw?Object.assign({},i):c}})},function(c){if((function(d){return Array.isArray(d?.issues)})(c))return{values:{},errors:i1(zH(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(t))return function(i,a,l){try{return Promise.resolve(w1(function(){return Promise.resolve((n.mode==="sync"?OF:DF)(t,i,e)).then(function(c){return l.shouldUseNativeValidation&&Zy({},l),{errors:{},values:n.raw?Object.assign({},i):c}})},function(c){if((function(d){return d instanceof Rb})(c))return{values:{},errors:i1(VH(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const UH=Te("ZodISODateTime",(t,e)=>{H8.init(t,e),Cn.init(t,e)});function BH(t){return G7(UH,t)}const FH=Te("ZodISODate",(t,e)=>{$8.init(t,e),Cn.init(t,e)});function HH(t){return K7(FH,t)}const $H=Te("ZodISOTime",(t,e)=>{q8.init(t,e),Cn.init(t,e)});function qH(t){return W7($H,t)}const ZH=Te("ZodISODuration",(t,e)=>{Z8.init(t,e),Cn.init(t,e)});function GH(t){return Y7(ZH,t)}const KH=(t,e)=>{Rb.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>LF(t,n)},flatten:{value:n=>PF(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Gy,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Gy,2)}},isEmpty:{get(){return t.issues.length===0}}})},bs=Te("ZodError",KH,{Parent:Error}),WH=Mp(bs),YH=jp(bs),QH=zp(bs),XH=Vp(bs),JH=zF(bs),e$=VF(bs),t$=UF(bs),n$=BF(bs),i$=FF(bs),r$=HF(bs),s$=$F(bs),a$=qF(bs),Un=Te("ZodType",(t,e)=>(Vn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:tp(t,"input"),output:tp(t,"output")}}),t.toJSONSchema=_H(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Tl(e,{checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),t.with=t.check,t.clone=(n,i)=>xl(t,n,i),t.brand=()=>t,t.register=((n,i)=>(n.add(t,i),t)),t.parse=(n,i)=>WH(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>QH(t,n,i),t.parseAsync=async(n,i)=>YH(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>XH(t,n,i),t.spa=t.safeParseAsync,t.encode=(n,i)=>JH(t,n,i),t.decode=(n,i)=>e$(t,n,i),t.encodeAsync=async(n,i)=>t$(t,n,i),t.decodeAsync=async(n,i)=>n$(t,n,i),t.safeEncode=(n,i)=>i$(t,n,i),t.safeDecode=(n,i)=>r$(t,n,i),t.safeEncodeAsync=async(n,i)=>s$(t,n,i),t.safeDecodeAsync=async(n,i)=>a$(t,n,i),t.refine=(n,i)=>t.check(J$(n,i)),t.superRefine=n=>t.check(eq(n)),t.overwrite=n=>t.check(nh(n)),t.optional=()=>A1(t),t.exactOptional=()=>U$(t),t.nullable=()=>C1(t),t.nullish=()=>A1(C1(t)),t.nonoptional=n=>Z$(t,n),t.array=()=>rf(t),t.or=n=>L$([t,n]),t.and=n=>D$(t,n),t.transform=n=>R1(t,z$(n)),t.default=n=>H$(t,n),t.prefault=n=>q$(t,n),t.catch=n=>K$(t,n),t.pipe=n=>R1(t,n),t.readonly=()=>Q$(t),t.describe=n=>{const i=t.clone();return nf.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){return nf.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return nf.get(t);const i=t.clone();return nf.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),DR=Te("_ZodString",(t,e)=>{Ib.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(i,a,l)=>vH(t,i,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(nH(...i)),t.includes=(...i)=>t.check(sH(...i)),t.startsWith=(...i)=>t.check(aH(...i)),t.endsWith=(...i)=>t.check(oH(...i)),t.min=(...i)=>t.check(ep(...i)),t.max=(...i)=>t.check(IR(...i)),t.length=(...i)=>t.check(NR(...i)),t.nonempty=(...i)=>t.check(ep(1,...i)),t.lowercase=i=>t.check(iH(i)),t.uppercase=i=>t.check(rH(i)),t.trim=()=>t.check(uH()),t.normalize=(...i)=>t.check(lH(...i)),t.toLowerCase=()=>t.check(cH()),t.toUpperCase=()=>t.check(hH()),t.slugify=()=>t.check(fH())}),o$=Te("ZodString",(t,e)=>{Ib.init(t,e),DR.init(t,e),t.email=n=>t.check(A7(l$,n)),t.url=n=>t.check(k7(u$,n)),t.jwt=n=>t.check(Z7(T$,n)),t.emoji=n=>t.check(P7(c$,n)),t.guid=n=>t.check(_1(E1,n)),t.uuid=n=>t.check(C7(fm,n)),t.uuidv4=n=>t.check(R7(fm,n)),t.uuidv6=n=>t.check(I7(fm,n)),t.uuidv7=n=>t.check(N7(fm,n)),t.nanoid=n=>t.check(L7(h$,n)),t.guid=n=>t.check(_1(E1,n)),t.cuid=n=>t.check(O7(f$,n)),t.cuid2=n=>t.check(D7(d$,n)),t.ulid=n=>t.check(M7(m$,n)),t.base64=n=>t.check(H7(w$,n)),t.base64url=n=>t.check($7(E$,n)),t.xid=n=>t.check(j7(p$,n)),t.ksuid=n=>t.check(z7(g$,n)),t.ipv4=n=>t.check(V7(_$,n)),t.ipv6=n=>t.check(U7(y$,n)),t.cidrv4=n=>t.check(B7(v$,n)),t.cidrv6=n=>t.check(F7(b$,n)),t.e164=n=>t.check(q7(S$,n)),t.datetime=n=>t.check(BH(n)),t.date=n=>t.check(HH(n)),t.time=n=>t.check(qH(n)),t.duration=n=>t.check(GH(n))});function bi(t){return x7(o$,t)}const Cn=Te("ZodStringFormat",(t,e)=>{_n.init(t,e),DR.init(t,e)}),l$=Te("ZodEmail",(t,e)=>{O8.init(t,e),Cn.init(t,e)}),E1=Te("ZodGUID",(t,e)=>{P8.init(t,e),Cn.init(t,e)}),fm=Te("ZodUUID",(t,e)=>{L8.init(t,e),Cn.init(t,e)}),u$=Te("ZodURL",(t,e)=>{D8.init(t,e),Cn.init(t,e)}),c$=Te("ZodEmoji",(t,e)=>{M8.init(t,e),Cn.init(t,e)}),h$=Te("ZodNanoID",(t,e)=>{j8.init(t,e),Cn.init(t,e)}),f$=Te("ZodCUID",(t,e)=>{z8.init(t,e),Cn.init(t,e)}),d$=Te("ZodCUID2",(t,e)=>{V8.init(t,e),Cn.init(t,e)}),m$=Te("ZodULID",(t,e)=>{U8.init(t,e),Cn.init(t,e)}),p$=Te("ZodXID",(t,e)=>{B8.init(t,e),Cn.init(t,e)}),g$=Te("ZodKSUID",(t,e)=>{F8.init(t,e),Cn.init(t,e)}),_$=Te("ZodIPv4",(t,e)=>{G8.init(t,e),Cn.init(t,e)}),y$=Te("ZodIPv6",(t,e)=>{K8.init(t,e),Cn.init(t,e)}),v$=Te("ZodCIDRv4",(t,e)=>{W8.init(t,e),Cn.init(t,e)}),b$=Te("ZodCIDRv6",(t,e)=>{Y8.init(t,e),Cn.init(t,e)}),w$=Te("ZodBase64",(t,e)=>{Q8.init(t,e),Cn.init(t,e)}),E$=Te("ZodBase64URL",(t,e)=>{J8.init(t,e),Cn.init(t,e)}),S$=Te("ZodE164",(t,e)=>{e7.init(t,e),Cn.init(t,e)}),T$=Te("ZodJWT",(t,e)=>{n7.init(t,e),Cn.init(t,e)}),MR=Te("ZodNumber",(t,e)=>{xR.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(i,a,l)=>bH(t,i,a),t.gt=(i,a)=>t.check(v1(i,a)),t.gte=(i,a)=>t.check(ny(i,a)),t.min=(i,a)=>t.check(ny(i,a)),t.lt=(i,a)=>t.check(y1(i,a)),t.lte=(i,a)=>t.check(ty(i,a)),t.max=(i,a)=>t.check(ty(i,a)),t.int=i=>t.check(T1(i)),t.safe=i=>t.check(T1(i)),t.positive=i=>t.check(v1(0,i)),t.nonnegative=i=>t.check(ny(0,i)),t.negative=i=>t.check(y1(0,i)),t.nonpositive=i=>t.check(ty(0,i)),t.multipleOf=(i,a)=>t.check(b1(i,a)),t.step=(i,a)=>t.check(b1(i,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function S1(t){return Q7(MR,t)}const x$=Te("ZodNumberFormat",(t,e)=>{i7.init(t,e),MR.init(t,e)});function T1(t){return X7(x$,t)}const A$=Te("ZodBoolean",(t,e)=>{r7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>wH(t,n,i)});function iy(t){return J7(A$,t)}const C$=Te("ZodUnknown",(t,e)=>{s7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>SH()});function x1(){return eH(C$)}const R$=Te("ZodNever",(t,e)=>{a7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>EH(t,n,i)});function I$(t){return tH(R$,t)}const N$=Te("ZodArray",(t,e)=>{o7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>CH(t,n,i,a),t.element=e.element,t.min=(n,i)=>t.check(ep(n,i)),t.nonempty=n=>t.check(ep(1,n)),t.max=(n,i)=>t.check(IR(n,i)),t.length=(n,i)=>t.check(NR(n,i)),t.unwrap=()=>t.element});function rf(t,e){return dH(N$,t,e)}const k$=Te("ZodObject",(t,e)=>{u7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>RH(t,n,i,a),Yt(t,"shape",()=>e.shape),t.keyof=()=>M$(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:x1()}),t.loose=()=>t.clone({...t._zod.def,catchall:x1()}),t.strict=()=>t.clone({...t._zod.def,catchall:I$()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>CF(t,n),t.safeExtend=n=>RF(t,n),t.merge=n=>IF(t,n),t.pick=n=>xF(t,n),t.omit=n=>AF(t,n),t.partial=(...n)=>NF(jR,t,n[0]),t.required=(...n)=>kF(zR,t,n[0])});function np(t,e){const n={type:"object",shape:t??{},...We(e)};return new k$(n)}const P$=Te("ZodUnion",(t,e)=>{c7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>IH(t,n,i,a),t.options=e.options});function L$(t,e){return new P$({type:"union",options:t,...We(e)})}const O$=Te("ZodIntersection",(t,e)=>{h7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>NH(t,n,i,a)});function D$(t,e){return new O$({type:"intersection",left:t,right:e})}const Wy=Te("ZodEnum",(t,e)=>{f7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(i,a,l)=>TH(t,i,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(i,a)=>{const l={};for(const c of i)if(n.has(c))l[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Wy({...e,checks:[],...We(a),entries:l})},t.exclude=(i,a)=>{const l={...e.entries};for(const c of i)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Wy({...e,checks:[],...We(a),entries:l})}});function M$(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new Wy({type:"enum",entries:n,...We(e)})}const j$=Te("ZodTransform",(t,e)=>{d7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>AH(t,n),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new hR(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Rf(l,n.value,e));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(Rf(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(l=>(n.value=l,n)):(n.value=a,n)}});function z$(t){return new j$({type:"transform",transform:t})}const jR=Te("ZodOptional",(t,e)=>{RR.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>OR(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function A1(t){return new jR({type:"optional",innerType:t})}const V$=Te("ZodExactOptional",(t,e)=>{m7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>OR(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function U$(t){return new V$({type:"optional",innerType:t})}const B$=Te("ZodNullable",(t,e)=>{p7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>kH(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function C1(t){return new B$({type:"nullable",innerType:t})}const F$=Te("ZodDefault",(t,e)=>{g7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>LH(t,n,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function H$(t,e){return new F$({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():pR(e)}})}const $$=Te("ZodPrefault",(t,e)=>{_7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>OH(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function q$(t,e){return new $$({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():pR(e)}})}const zR=Te("ZodNonOptional",(t,e)=>{y7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>PH(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function Z$(t,e){return new zR({type:"nonoptional",innerType:t,...We(e)})}const G$=Te("ZodCatch",(t,e)=>{v7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>DH(t,n,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function K$(t,e){return new G$({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const W$=Te("ZodPipe",(t,e)=>{b7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>MH(t,n,i,a),t.in=e.in,t.out=e.out});function R1(t,e){return new W$({type:"pipe",in:t,out:e})}const Y$=Te("ZodReadonly",(t,e)=>{w7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>jH(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function Q$(t){return new Y$({type:"readonly",innerType:t})}const X$=Te("ZodCustom",(t,e)=>{E7.init(t,e),Un.init(t,e),t._zod.processJSONSchema=(n,i,a)=>xH(t,n)});function J$(t,e={}){return mH(X$,t,e)}function eq(t){return pH(t)}const tq="_tagInputContainer_1xeqa_1",nq="_tagsWrapper_1xeqa_8",iq="_tag_1xeqa_1",rq="_removeTag_1xeqa_37",sq="_input_1xeqa_55",aq="_suggestions_1xeqa_66",oq="_suggestionPill_1xeqa_73",lq="_error_1xeqa_89",nl={tagInputContainer:tq,tagsWrapper:nq,tag:iq,removeTag:rq,input:sq,suggestions:aq,suggestionPill:oq,error:lq},ry=({value:t=[],onChange:e,suggestions:n=[],placeholder:i="Type and press Enter...",error:a,maxTags:l=20})=>{const[c,d]=U.useState(""),_=E=>{E.key==="Enter"||E.key===","?(E.preventDefault(),y(c)):E.key==="Backspace"&&!c&&t.length>0&&S(t.length-1)},y=E=>{const C=E.trim();C&&!t.includes(C)&&t.length<l&&(e([...t,C]),d(""))},S=E=>{e(t.filter((C,I)=>I!==E))};return b.jsxs("div",{className:nl.tagInputContainer,children:[b.jsxs("div",{className:nl.tagsWrapper,children:[t.map((E,C)=>b.jsxs("span",{className:nl.tag,children:[E,b.jsx("button",{type:"button",onClick:()=>S(C),className:nl.removeTag,"aria-label":`Remove ${E}`,children:""})]},C)),b.jsx("input",{type:"text",className:nl.input,value:c,onChange:E=>d(E.target.value),onKeyDown:_,placeholder:t.length===0?i:""})]}),n.length>0&&b.jsx("div",{className:nl.suggestions,children:n.filter(E=>!t.includes(E)).map(E=>b.jsxs("button",{type:"button",className:nl.suggestionPill,onClick:()=>y(E),children:["+ ",E]},E))}),a&&b.jsx("span",{className:nl.error,children:a})]})},uq="_formContainer_1ww8i_1",cq="_formHeader_1ww8i_10",hq="_formTitle_1ww8i_15",fq="_formForm_1ww8i_22",dq="_formSection_1ww8i_28",mq="_sectionTitle_1ww8i_35",pq="_formRow_1ww8i_44",gq="_formGroup_1ww8i_50",_q="_checkboxGroup_1ww8i_80",yq="_errorMessage_1ww8i_93",vq="_submitBtn_1ww8i_99",bq="_timePassed_1ww8i_121",wq="_youtubeLinksContainer_1ww8i_129",Eq="_youtubeLinkRow_1ww8i_135",Sq="_youtubeLinkInput_1ww8i_141",Tq="_removeYoutubeBtn_1ww8i_157",xq="_addYoutubeBtn_1ww8i_172",ut={formContainer:uq,formHeader:cq,formTitle:hq,formForm:fq,formSection:dq,sectionTitle:mq,formRow:pq,formGroup:gq,checkboxGroup:_q,errorMessage:yq,submitBtn:vq,timePassed:bq,youtubeLinksContainer:wq,youtubeLinkRow:Eq,youtubeLinkInput:Sq,removeYoutubeBtn:Tq,addYoutubeBtn:xq},Aq=np({category:bi().min(1,"Category is required"),subcategory:bi().min(1,"Subcategory is required"),skillLevel:bi().min(1,"Skill level is required"),startMonth:bi().or(S1()).transform(t=>Number(t)),startYear:bi().or(S1()).transform(t=>Number(t)),styles:rf(bi()),source:bi().min(1,"Source is required"),influences:rf(bi()),equipment:rf(bi()),practising:bi().min(1,"Practising frequency is required"),youtubeLinks:rf(bi()).optional(),extras:np({canReadNotes:iy().optional(),openForNudes:iy().optional(),openForDisgrace:iy().optional()}).optional()}),VR=({onSubmit:t,defaultValues:e})=>{const{t:n}=xi(),i=e||{category:"",subcategory:"",skillLevel:"",startMonth:new Date().getMonth()+1,startYear:FC,styles:[],source:"",influences:[],equipment:[],practising:"",extras:{canReadNotes:!1,openForNudes:!1,openForDisgrace:!1},youtubeLinks:[]},{register:a,control:l,handleSubmit:c,watch:d,setValue:_,formState:{errors:y}}=Sb({resolver:Nb(Aq),defaultValues:i}),S=d("category"),E=d("startMonth"),C=d("startYear");U.useEffect(()=>{S&&!Km[S]?.includes(d("subcategory"))&&_("subcategory","")},[S,_,d]);const H=((M,W)=>{if(!M||!W)return"";const ue=new Date,X=new Date(W,M-1),re=ue-X,K=Math.floor(re/(1e3*60*60*24*365)),ne=Math.floor(re%(1e3*60*60*24*365)/(1e3*60*60*24*30));return K>0?`${K} years${ne>0?` and ${ne} months`:""}`:ne>0?`${ne} months`:"Less than a month"})(E,C);return b.jsxs("div",{className:ut.formContainer,children:[b.jsx("div",{className:ut.formHeader,children:b.jsx("h2",{className:ut.formTitle,children:n(e?"skillForm.editTitle":"skillForm.title")})}),b.jsxs("form",{onSubmit:c(t),className:ut.formForm,children:[b.jsxs("div",{className:ut.formSection,children:[b.jsx("h3",{className:ut.sectionTitle,children:n("skillForm.field")}),b.jsxs("div",{className:ut.formGroup,children:[b.jsx("label",{children:n("skillForm.field")}),b.jsxs("select",{...a("category"),children:[b.jsx("option",{value:"",children:n("skillForm.selectField")||"Select Field"}),Object.values(pi).map(M=>b.jsx("option",{value:M,children:M},M))]}),y.category&&b.jsx("span",{className:ut.errorMessage,children:y.category.message})]}),S&&b.jsxs("div",{className:ut.formGroup,style:{marginTop:"1rem"},children:[b.jsx("label",{children:n("skillForm.specialization")}),b.jsxs("select",{...a("subcategory"),children:[b.jsx("option",{value:"",children:n("skillForm.selectOption")||"Select Option"}),Km[S]?.map(M=>b.jsx("option",{value:M,children:M},M))]}),y.subcategory&&b.jsx("span",{className:ut.errorMessage,children:y.subcategory.message})]})]}),b.jsxs("div",{className:ut.formSection,children:[b.jsx("h3",{className:ut.sectionTitle,children:n("skillForm.experience")}),b.jsxs("div",{className:ut.formRow,children:[b.jsxs("div",{className:ut.formGroup,children:[b.jsx("label",{children:n("skillForm.startedMonth")}),b.jsx("select",{...a("startMonth"),children:r3.map(M=>b.jsx("option",{value:M.value,children:M.label},M.value))})]}),b.jsxs("div",{className:ut.formGroup,children:[b.jsx("label",{children:n("skillForm.startedYear")}),b.jsx("select",{...a("startYear"),children:s3.map(M=>b.jsx("option",{value:M,children:M},M))})]})]}),H&&b.jsxs("div",{className:ut.timePassed,children:[n("skillForm.experience"),": ",H]}),y.startYear&&b.jsx("span",{className:ut.errorMessage,children:n("skillForm.invalidDate")||"Invalid date"}),b.jsxs("div",{className:ut.formGroup,style:{marginTop:"1rem"},children:[b.jsx("label",{children:n("skillForm.skillLevel")||"Skill Level"}),b.jsxs("select",{...a("skillLevel"),children:[b.jsx("option",{value:"",children:n("skillForm.selectLevel")||"Select Level"}),BC.map(M=>b.jsx("option",{value:M,children:M},M))]}),y.skillLevel&&b.jsx("span",{className:ut.errorMessage,children:y.skillLevel.message})]})]}),b.jsxs("div",{className:ut.formSection,children:[b.jsx("h3",{className:ut.sectionTitle,children:n("skillForm.style")}),b.jsxs("div",{className:ut.formGroup,children:[b.jsx("label",{children:n("skillForm.styles")}),b.jsx(um,{control:l,name:"styles",render:({field:M})=>b.jsx(ry,{value:M.value,onChange:M.onChange,suggestions:S?e3[S]:[],placeholder:n("skillForm.addStyles")||"Add styles...",error:y.styles?.message})})]})]}),b.jsxs("div",{className:ut.formSection,children:[b.jsx("h3",{className:ut.sectionTitle,children:n("skillForm.details")||"Details"}),b.jsxs("div",{className:ut.formGroup,children:[b.jsx("label",{children:n("skillForm.source")}),b.jsxs("select",{...a("source"),children:[b.jsx("option",{value:"",children:n("skillForm.selectSource")||"Select Source"}),t3.map(M=>b.jsx("option",{value:M,children:M},M))]}),y.source&&b.jsx("span",{className:ut.errorMessage,children:y.source.message})]}),b.jsxs("div",{className:ut.formGroup,style:{marginTop:"1rem"},children:[b.jsx("label",{children:n("skillForm.influences")}),b.jsx(um,{control:l,name:"influences",render:({field:M})=>b.jsx(ry,{value:M.value,onChange:M.onChange,placeholder:n("skillForm.addInfluences")||"Add idols..."})})]}),b.jsxs("div",{className:ut.formGroup,style:{marginTop:"1rem"},children:[b.jsx("label",{children:n("skillForm.equipment")}),b.jsx(um,{control:l,name:"equipment",render:({field:M})=>b.jsx(ry,{value:M.value,onChange:M.onChange,placeholder:n("skillForm.addEquipment")||"Add gear..."})})]}),b.jsxs("div",{className:ut.formGroup,style:{marginTop:"1rem"},children:[b.jsx("label",{children:n("skillForm.practising")}),b.jsxs("select",{...a("practising"),children:[b.jsx("option",{value:"",children:n("skillForm.selectFrequency")||"Select Frequency"}),n3.map(M=>b.jsx("option",{value:M,children:M},M))]}),y.practising&&b.jsx("span",{className:ut.errorMessage,children:y.practising.message})]})]}),S&&(S===pi.MUSIC||S===pi.STAGE)&&b.jsxs("div",{className:ut.formSection,children:[b.jsx("h3",{className:ut.sectionTitle,children:n("skillForm.extras")}),b.jsxs("div",{className:ut.formGroup,children:[S===pi.MUSIC&&b.jsxs("div",{className:ut.checkboxGroup,children:[b.jsx("input",{type:"checkbox",id:"canReadNotes",...a("extras.canReadNotes")}),b.jsx("label",{htmlFor:"canReadNotes",children:n("skillForm.canReadNotes")})]}),S===pi.STAGE&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:ut.checkboxGroup,children:[b.jsx("input",{type:"checkbox",id:"openForNudes",...a("extras.openForNudes")}),b.jsx("label",{htmlFor:"openForNudes",children:n("skillForm.openForNudes")})]}),b.jsxs("div",{className:ut.checkboxGroup,style:{marginTop:"0.5rem"},children:[b.jsx("input",{type:"checkbox",id:"openForDisgrace",...a("extras.openForDisgrace")}),b.jsx("label",{htmlFor:"openForDisgrace",children:n("skillForm.openForDisgrace")})]})]})]})]}),b.jsxs("div",{className:ut.formSection,children:[b.jsx("h3",{className:ut.sectionTitle,children:n("skillForm.youtubeLinks")||"YouTube Videos"}),b.jsx(um,{control:l,name:"youtubeLinks",render:({field:M})=>b.jsxs("div",{className:ut.youtubeLinksContainer,children:[(M.value||[]).map((W,ue)=>b.jsxs("div",{className:ut.youtubeLinkRow,children:[b.jsx("input",{type:"url",value:W,onChange:X=>{const re=[...M.value||[]];re[ue]=X.target.value,M.onChange(re)},placeholder:"https://www.youtube.com/watch?v=...",className:ut.youtubeLinkInput}),b.jsx("button",{type:"button",className:ut.removeYoutubeBtn,onClick:()=>{const X=(M.value||[]).filter((re,K)=>K!==ue);M.onChange(X)},children:""})]},ue)),b.jsxs("button",{type:"button",className:ut.addYoutubeBtn,onClick:()=>M.onChange([...M.value||[],""]),children:["+ ",n("skillForm.addYoutubeLink")||"Add YouTube Link"]})]})})]}),b.jsx("button",{type:"submit",className:ut.submitBtn,children:n("skillForm.save")})]})]})},Cq="_pageContainer_1f3mw_1",Rq="_header_1f3mw_7",Iq="_backButton_1f3mw_14",Nq="_error_1f3mw_30",ga={pageContainer:Cq,header:Rq,backButton:Iq,error:Nq},kq=()=>{const{t}=xi(),e=Ks(),{user:n}=xa(),[i,a]=U.useState(null),l=async c=>{if(console.log("AddSkill: Submitting with user:",n),console.log("AddSkill: Form data:",c),!n){console.error("AddSkill: No user found!"),a("User not authenticated");return}try{const d=await WV(n.uid,c);console.log("AddSkill: Result:",d),e(`/profile/${n.uid}`)}catch(d){console.error("Error adding skill:",d),a(d.message||t("common.error")||"Failed to add skill")}};return b.jsxs("div",{className:ga.pageContainer,children:[b.jsx("div",{className:ga.header,children:b.jsxs("button",{onClick:()=>e(-1),className:ga.backButton,children:[" ",t("common.back")]})}),i&&b.jsx("div",{className:ga.error,children:i}),b.jsx(VR,{onSubmit:l})]})},Pq=()=>{const{t}=xi(),e=Ks(),{skillId:n}=Qy(),{user:i}=xa(),[a,l]=U.useState(null),[c,d]=U.useState(!0),[_,y]=U.useState(null);U.useEffect(()=>{(async()=>{if(!(!i||!n))try{const C=await YV(i.uid,n);C?y(C):l("Skill not found")}catch(C){console.error("Error fetching skill:",C),l("Failed to load skill")}finally{d(!1)}})()},[i,n]);const S=async E=>{if(!(!i||!n))try{await QV(i.uid,n,E),e(`/profile/${i.uid}`)}catch(C){console.error("Error updating skill:",C),l(C.message||t("common.error")||"Failed to update skill")}};return c?b.jsx("div",{className:ga.pageContainer,children:b.jsx("div",{className:ga.loading,children:t("common.loading")})}):b.jsxs("div",{className:ga.pageContainer,children:[b.jsx("div",{className:ga.header,children:b.jsxs("button",{onClick:()=>e(-1),className:ga.backButton,children:[" ",t("common.back")]})}),a&&b.jsx("div",{className:ga.error,children:a}),_&&b.jsx(VR,{onSubmit:S,defaultValues:_})]})},Lq="_chatContainer_1gp7s_1",Oq="_sidebar_1gp7s_9",Dq="_sidebarHeader_1gp7s_17",Mq="_conversationList_1gp7s_28",jq="_conversationItem_1gp7s_33",zq="_active_1gp7s_46",Vq="_avatar_1gp7s_50",Uq="_conversationInfo_1gp7s_70",Bq="_userName_1gp7s_76",Fq="_lastMessage_1gp7s_85",Hq="_timestamp_1gp7s_94",$q="_chatArea_1gp7s_101",qq="_chatHeader_1gp7s_108",Zq="_backButton_1gp7s_116",Gq="_headerInfo_1gp7s_127",Kq="_messagesList_1gp7s_132",Wq="_messageBubble_1gp7s_141",Yq="_messageTime_1gp7s_153",Qq="_sent_1gp7s_161",Xq="_received_1gp7s_168",Jq="_messageInput_1gp7s_176",eZ="_emptyState_1gp7s_221",tZ="_noSelection_1gp7s_222",nZ="_noSelectionContent_1gp7s_233",iZ="_hiddenOnMobile_1gp7s_251",sn={chatContainer:Lq,sidebar:Oq,sidebarHeader:Dq,conversationList:Mq,conversationItem:jq,active:zq,avatar:Vq,conversationInfo:Uq,userName:Bq,lastMessage:Fq,timestamp:Hq,chatArea:$q,chatHeader:qq,backButton:Zq,headerInfo:Gq,messagesList:Kq,messageBubble:Wq,messageTime:Yq,sent:Qq,received:Xq,messageInput:Jq,emptyState:eZ,noSelection:tZ,noSelectionContent:nZ,hiddenOnMobile:iZ},I1=()=>{const{t}=xi(),{conversationId:e}=Qy(),n=Ks(),{user:i}=xa(),a=U.useRef(null),[l,c]=U.useState([]),[d,_]=U.useState([]),[y,S]=U.useState(null),[E,C]=U.useState(""),[I,H]=U.useState(!0),[M,W]=U.useState({}),ue=()=>{a.current?.scrollIntoView({behavior:"smooth"})};U.useEffect(()=>{ue()},[d]),U.useEffect(()=>{if(!i)return;const K=LC(i.uid,async ne=>{const le=await Promise.all(ne.map(async P=>{const O=P.participants.find(V=>V!==i.uid);let z=M[O];if(!z)try{z=await Aa(O),W(V=>({...V,[O]:z}))}catch(V){console.error("Error fetching participant:",V)}return{...P,otherUser:z||{displayName:"Unknown User"}}}));c(le),H(!1)});return()=>K()},[i]),U.useEffect(()=>{if(!e||!i){S(null),_([]);return}const K=l.find(le=>le.id===e);K&&(S(K),Ez(e,i.uid));const ne=wz(e,le=>{_(le)});return()=>ne()},[e,i,l]);const X=async K=>{if(K.preventDefault(),!(!E.trim()||!i||!e))try{await bz(e,i.uid,E),C("")}catch(ne){console.error("Error sending message:",ne)}},re=K=>K?K.split(" ").map(ne=>ne[0]).join("").toUpperCase().slice(0,2):"?";return I?b.jsx("div",{className:sn.loading,children:t("common.loading")}):b.jsxs("div",{className:sn.chatContainer,children:[b.jsxs("div",{className:`${sn.sidebar} ${e?sn.hiddenOnMobile:""}`,children:[b.jsx("div",{className:sn.sidebarHeader,children:b.jsx("h2",{children:"Messages"})}),b.jsx("div",{className:sn.conversationList,children:l.length===0?b.jsx("div",{className:sn.emptyState,children:"No messages yet"}):l.map(K=>b.jsxs("div",{className:`${sn.conversationItem} ${K.id===e?sn.active:""}`,onClick:()=>n(`/messages/${K.id}`),children:[b.jsx("div",{className:sn.avatar,children:K.otherUser?.photoURL?b.jsx("img",{src:K.otherUser.photoURL,alt:K.otherUser.displayName}):re(K.otherUser?.displayName)}),b.jsxs("div",{className:sn.conversationInfo,children:[b.jsx("h4",{className:sn.userName,children:K.otherUser?.displayName}),b.jsxs("p",{className:sn.lastMessage,children:[K.lastMessage?.senderId===i.uid?"You: ":"",K.lastMessage?.text||"No messages"]})]}),K.lastMessage&&b.jsx("span",{className:sn.timestamp,children:new Date(K.updatedAt?.seconds*1e3).toLocaleDateString()})]},K.id))})]}),b.jsx("div",{className:`${sn.chatArea} ${e?"":sn.hiddenOnMobile}`,children:e?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:sn.chatHeader,children:[b.jsx("button",{className:sn.backButton,onClick:()=>n("/messages"),children:b.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:b.jsx("path",{d:"M15 18l-6-6 6-6"})})}),b.jsx("div",{className:sn.headerInfo,children:b.jsx("h3",{children:y?.otherUser?.displayName})})]}),b.jsxs("div",{className:sn.messagesList,children:[d.map(K=>b.jsxs("div",{className:`${sn.messageBubble} ${K.senderId===i.uid?sn.sent:sn.received}`,children:[b.jsx("p",{children:K.text}),b.jsx("span",{className:sn.messageTime,children:new Date(K.createdAt?.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},K.id)),b.jsx("div",{ref:a})]}),b.jsxs("form",{className:sn.messageInput,onSubmit:X,children:[b.jsx("input",{type:"text",value:E,onChange:K=>C(K.target.value),placeholder:"Type a message..."}),b.jsx("button",{type:"submit",disabled:!E.trim(),children:b.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[b.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),b.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]}):b.jsx("div",{className:sn.noSelection,children:b.jsxs("div",{className:sn.noSelectionContent,children:[b.jsx("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:b.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),b.jsx("h3",{children:"Select a conversation"}),b.jsx("p",{children:"Choose a chat from the left to start messaging"})]})})})]})},rZ="_authPage_1tf4k_1",sZ="_authContainer_1tf4k_10",aZ="_authCard_1tf4k_15",oZ="_authHeader_1tf4k_22",lZ="_authTitle_1tf4k_27",uZ="_authSubtitle_1tf4k_33",cZ="_authForm_1tf4k_38",hZ="_formGroup_1tf4k_44",fZ="_errorMessage_1tf4k_65",dZ="_authError_1tf4k_71",mZ="_submitBtn_1tf4k_81",pZ="_divider_1tf4k_86",gZ="_googleBtn_1tf4k_108",_Z="_forgotPassword_1tf4k_122",yZ="_authFooter_1tf4k_132",Tt={authPage:rZ,authContainer:sZ,authCard:aZ,authHeader:oZ,authTitle:lZ,authSubtitle:uZ,authForm:cZ,formGroup:hZ,errorMessage:fZ,authError:dZ,submitBtn:mZ,divider:pZ,googleBtn:gZ,forgotPassword:_Z,authFooter:yZ},vZ=np({email:bi().email("Invalid email address"),password:bi().min(6,"Password must be at least 6 characters")}),bZ=()=>{const{t}=xi(),e=Ks(),[n,i]=U.useState(""),[a,l]=U.useState(!1),{register:c,handleSubmit:d,formState:{errors:_}}=Sb({resolver:Nb(vZ)}),y=async E=>{l(!0),i("");try{await mz(E.email,E.password),e("/")}catch(C){i(C.message)}finally{l(!1)}},S=async()=>{l(!0),i("");try{await PC(),e("/")}catch(E){i(E.message)}finally{l(!1)}};return b.jsx("div",{className:Tt.authPage,children:b.jsx("div",{className:Tt.authContainer,children:b.jsxs("div",{className:Tt.authCard,children:[b.jsxs("div",{className:Tt.authHeader,children:[b.jsx("h1",{className:Tt.authTitle,children:t("auth.login.title")}),b.jsx("p",{className:Tt.authSubtitle,children:t("auth.login.subtitle")})]}),n&&b.jsx("div",{className:Tt.authError,children:n}),b.jsxs("form",{className:Tt.authForm,onSubmit:d(y),children:[b.jsxs("div",{className:Tt.formGroup,children:[b.jsx("label",{htmlFor:"email",children:t("auth.login.email")}),b.jsx("input",{type:"email",id:"email",placeholder:"you@example.com",...c("email")}),_.email&&b.jsx("span",{className:Tt.errorMessage,children:_.email.message})]}),b.jsxs("div",{className:Tt.formGroup,children:[b.jsx("label",{htmlFor:"password",children:t("auth.login.password")}),b.jsx("input",{type:"password",id:"password",placeholder:"",...c("password")}),_.password&&b.jsx("span",{className:Tt.errorMessage,children:_.password.message})]}),b.jsx("div",{className:Tt.forgotPassword,children:b.jsx(xt,{to:"/forgot-password",children:t("auth.login.forgotPassword")})}),b.jsx("button",{type:"submit",className:`btn btn-primary btn-lg ${Tt.submitBtn}`,disabled:a,children:t(a?"common.loading":"auth.login.submit")})]}),b.jsx("div",{className:Tt.divider,children:b.jsx("span",{children:t("auth.or")})}),b.jsxs("button",{type:"button",className:Tt.googleBtn,onClick:S,disabled:a,children:[b.jsxs("svg",{viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t("auth.google")]}),b.jsxs("div",{className:Tt.authFooter,children:[t("auth.login.noAccount")," ",b.jsx(xt,{to:"/register",children:t("auth.login.signUp")})]})]})})})},wZ=np({displayName:bi().min(2,"Name must be at least 2 characters"),email:bi().email("Invalid email address"),password:bi().min(6,"Password must be at least 6 characters"),confirmPassword:bi()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),EZ=()=>{const{t}=xi(),e=Ks(),[n,i]=U.useState(""),[a,l]=U.useState(!1),{register:c,handleSubmit:d,formState:{errors:_}}=Sb({resolver:Nb(wZ)}),y=async E=>{l(!0),i("");try{const C=await dz(E.email,E.password,E.displayName);await OC(C.uid,{displayName:E.displayName,email:E.email,photoURL:"",bio:"",location:null,languages:[]}),e("/profile")}catch(C){i(C.message)}finally{l(!1)}},S=async()=>{l(!0),i("");try{await PC(),e("/profile")}catch(E){i(E.message)}finally{l(!1)}};return b.jsx("div",{className:Tt.authPage,children:b.jsx("div",{className:Tt.authContainer,children:b.jsxs("div",{className:Tt.authCard,children:[b.jsxs("div",{className:Tt.authHeader,children:[b.jsx("h1",{className:Tt.authTitle,children:t("auth.register.title")}),b.jsx("p",{className:Tt.authSubtitle,children:t("auth.register.subtitle")})]}),n&&b.jsx("div",{className:Tt.authError,children:n}),b.jsxs("form",{className:Tt.authForm,onSubmit:d(y),children:[b.jsxs("div",{className:Tt.formGroup,children:[b.jsx("label",{htmlFor:"displayName",children:t("auth.register.name")}),b.jsx("input",{type:"text",id:"displayName",placeholder:"John Doe",...c("displayName")}),_.displayName&&b.jsx("span",{className:Tt.errorMessage,children:_.displayName.message})]}),b.jsxs("div",{className:Tt.formGroup,children:[b.jsx("label",{htmlFor:"email",children:t("auth.register.email")}),b.jsx("input",{type:"email",id:"email",placeholder:"you@example.com",...c("email")}),_.email&&b.jsx("span",{className:Tt.errorMessage,children:_.email.message})]}),b.jsxs("div",{className:Tt.formGroup,children:[b.jsx("label",{htmlFor:"password",children:t("auth.register.password")}),b.jsx("input",{type:"password",id:"password",placeholder:"",...c("password")}),_.password&&b.jsx("span",{className:Tt.errorMessage,children:_.password.message})]}),b.jsxs("div",{className:Tt.formGroup,children:[b.jsx("label",{htmlFor:"confirmPassword",children:t("auth.register.confirmPassword")}),b.jsx("input",{type:"password",id:"confirmPassword",placeholder:"",...c("confirmPassword")}),_.confirmPassword&&b.jsx("span",{className:Tt.errorMessage,children:_.confirmPassword.message})]}),b.jsx("button",{type:"submit",className:`btn btn-primary btn-lg ${Tt.submitBtn}`,disabled:a,children:t(a?"common.loading":"auth.register.submit")})]}),b.jsx("div",{className:Tt.divider,children:b.jsx("span",{children:t("auth.or")})}),b.jsxs("button",{type:"button",className:Tt.googleBtn,onClick:S,disabled:a,children:[b.jsxs("svg",{viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t("auth.google")]}),b.jsxs("div",{className:Tt.authFooter,children:[t("auth.register.hasAccount")," ",b.jsx(xt,{to:"/login",children:t("auth.register.signIn")})]})]})})})},{slice:SZ,forEach:TZ}=[];function xZ(t){return TZ.call(SZ.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function AZ(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const N1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,CZ=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${t}=${a}`;if(i.maxAge>0){const c=i.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(i.domain){if(!N1.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!N1.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},k1={create(t,e,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),i&&(a.domain=i),document.cookie=CZ(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let a=n[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var RZ={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return k1.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:i,cookieDomain:a,cookieOptions:l}=e;n&&typeof document<"u"&&k1.create(n,t,i,a,l)}},IZ={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(n=l[c].substring(d+1))}}return n}},NZ={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,i;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const c=l.split("&");for(let d=0;d<c.length;d++){const _=c[d].indexOf("=");_>0&&c[d].substring(0,_)===e&&(i=c[d].substring(_+1))}}if(i)return i;if(!i&&n>-1){const c=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?c[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let vc=null;const P1=()=>{if(vc!==null)return vc;try{if(vc=typeof window<"u"&&window.localStorage!==null,!vc)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{vc=!1}return vc};var kZ={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&P1())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&P1()&&window.localStorage.setItem(n,t)}};let bc=null;const L1=()=>{if(bc!==null)return bc;try{if(bc=typeof window<"u"&&window.sessionStorage!==null,!bc)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{bc=!1}return bc};var PZ={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&L1())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&L1()&&window.sessionStorage.setItem(n,t)}},LZ={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:a}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},OZ={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},DZ={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},MZ={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let UR=!1;try{document.cookie,UR=!0}catch{}const BR=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];UR||BR.splice(1,1);const jZ=()=>({order:BR,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class FR{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=xZ(n,this.options||{},jZ()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(RZ),this.addDetector(IZ),this.addDetector(kZ),this.addDetector(PZ),this.addDetector(LZ),this.addDetector(OZ),this.addDetector(DZ),this.addDetector(MZ),this.addDetector(NZ)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(i=>i!=null&&!AZ(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}FR.type="languageDetector";const zZ={loading:"Loading...",error:"Something went wrong",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",search:"Search",filter:"Filter",clear:"Clear",submit:"Submit",back:"Back",addMedia:"Add Media",errorMaxFiles:"Maximum number of files reached",next:"Next",viewAll:"View All",seeMore:"See More",noResults:"No results found"},VZ={home:"Home",search:"Find Talent",messages:"Messages",profile:"Profile",login:"Log In",register:"Sign Up",logout:"Log Out"},UZ={hero:{title:"Discover Performing Talent",subtitle:"Connect with musicians, athletes, actors, and performers worldwide",cta:"Start Exploring"},categories:{title:"Browse by Category",music:"Music",sports:"Sports",acting:"Acting",dance:"Dance",circus:"Circus Arts",other:"Other"},featured:{title:"Featured Talent",viewProfile:"View Profile"}},BZ={login:{title:"Welcome Back",subtitle:"Sign in to your account",email:"Email",password:"Password",submit:"Sign In",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",signUp:"Sign up"},register:{title:"Join UpRole",subtitle:"Create your performer profile",name:"Full Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",submit:"Create Account",hasAccount:"Already have an account?",signIn:"Sign in"},google:"Continue with Google",or:"or"},FZ={title:"Profile",editProfile:"Edit Profile",addSkill:"Add Skill",skills:"Skills",about:"About",contact:"Contact",location:"Location",languages:"Languages",availability:"Availability",experience:"Experience",noSkills:"No skills added yet",username:"Username (Profile URL)",usernameHint:"This will be your public profile URL slug",usernameAvailable:"Username is available",usernameTaken:"Username is already taken",usernameInvalid:"Username can only contain letters, numbers, and underscores",posts:"Posts",profilePicture:"Profile Picture",availabilityOptions:{available:"Available",maybe:"Maybe",busy:"Busy"}},HZ={placeholder:"What's on your mind?",like:"Like",comment:"Comment",share:"Share",emptyFollowedFeed:"No posts from people you follow yet. Start following people to see their posts here!"},$Z={category:"Category",subcategory:"Subcategory",specialty:"Specialty",experienceLevel:"Experience Level",yearsOfExperience:"Years of Experience",approach:"Approach/Style",description:"Description",rate:"Rate",availability:"Availability",certifications:"Certifications",media:"Photos & Videos",levels:{beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced",professional:"Professional",master:"Master"},availabilityOptions:{fullTime:"Full-time",partTime:"Part-time",freelance:"Freelance",weekends:"Weekends only",evenings:"Evenings only",project:"Project-based"}},qZ={title:"Find Talent",placeholder:"Search skills, names, locations...",filters:{category:"Category",location:"Location",experience:"Experience Level",availability:"Availability",priceRange:"Price Range"},results:"{{count}} results found",sortBy:"Sort by",sortOptions:{relevance:"Relevance",newest:"Newest",experience:"Most Experienced",rating:"Highest Rated"}},ZZ={title:"Add New Skill",editTitle:"Edit Skill",field:"Field",selectField:"Select Field",specialization:"Specialization",selectOption:"Select Option",startedMonth:"Started Month",startedYear:"Started Year",experience:"Experience",invalidDate:"Invalid date",skillLevel:"Skill Level",selectLevel:"Select Level",style:"Style",styles:"Styles",addStyles:"Add styles...",details:"Details",source:"Source",selectSource:"Select Source",influences:"Influences",addInfluences:"Add idols...",equipment:"Equipment",addEquipment:"Add gear...",practising:"Practising Frequency",selectFrequency:"Select Frequency",extras:"Extras",canReadNotes:"Can read notes",openForNudes:"Open for nudes",openForDisgrace:"Open for disgrace",youtubeLinks:"YouTube Videos",addYoutubeLink:"Add YouTube Link",save:"Save Skill"},GZ={tagline:"Connecting performers with opportunities",about:"About UpRole",privacy:"Privacy Policy",terms:"Terms of Service",contact:"Contact Us",copyright:" {{year}} UpRole. All rights reserved."},KZ={common:zZ,nav:VZ,home:UZ,auth:BZ,profile:FZ,posts:HZ,skill:$Z,search:qZ,skillForm:ZZ,footer:GZ},WZ={loading:"Natn...",error:"Nco se pokazilo",save:"Uloit",cancel:"Zruit",delete:"Smazat",edit:"Upravit",search:"Hledat",filter:"Filtrovat",clear:"Vymazat",submit:"Odeslat",back:"Zpt",next:"Dal",viewAll:"Zobrazit ve",seeMore:"Vce",noResults:"dn vsledky"},YZ={home:"Dom",search:"Najt talent",messages:"Zprvy",profile:"Profil",login:"Pihlsit se",register:"Registrace",logout:"Odhlsit se"},QZ={hero:{title:"Objevte performersk talent",subtitle:"Spojte se s hudebnky, sportovci, herci a performery z celho svta",cta:"Zat prohlet"},categories:{title:"Prochzet podle kategorie",music:"Hudba",sports:"Sport",acting:"Herectv",dance:"Tanec",circus:"Cirkusov umn",other:"Ostatn"},featured:{title:"Vybran talenti",viewProfile:"Zobrazit profil"}},XZ={login:{title:"Vtejte zpt",subtitle:"Pihlaste se ke svmu tu",email:"E-mail",password:"Heslo",submit:"Pihlsit se",forgotPassword:"Zapomnli jste heslo?",noAccount:"Nemte et?",signUp:"Zaregistrovat se"},register:{title:"Pipojte se k UpRole",subtitle:"Vytvote si profil performera",name:"Cel jmno",email:"E-mail",password:"Heslo",confirmPassword:"Potvrdit heslo",submit:"Vytvoit et",hasAccount:"Ji mte et?",signIn:"Pihlsit se"},google:"Pokraovat pes Google",or:"nebo"},JZ={title:"Profil",editProfile:"Upravit profil",addSkill:"Pidat dovednost",skills:"Dovednosti",about:"O mn",contact:"Kontakt",location:"Lokace",languages:"Jazyky",availability:"Dostupnost",experience:"Zkuenosti",noSkills:"Zatm nebyly pidny dn dovednosti",username:"Uivatelsk jmno (Profilov URL)",usernameHint:"Toto bude vae veejn adresa profilu",usernameAvailable:"Uivatelsk jmno je voln",usernameTaken:"Uivatelsk jmno je ji obsazeno",usernameInvalid:"Uivatelsk jmno me obsahovat pouze psmena, sla a podtrtka",posts:"Pspvky",profilePicture:"Profilov obrzek",availabilityOptions:{available:"Dostupn/",maybe:"Mon",busy:"Zaneprzdnn/"}},eG={placeholder:"Co mte na mysli?",like:"To se mi lb",comment:"Komentovat",share:"Sdlet",emptyFollowedFeed:"Zatm zde nejsou dn pspvky od lid, kter sledujete. Zante sledovat ostatn, abyste vidli jejich pspvky!"},tG={category:"Kategorie",subcategory:"Podkategorie",specialty:"Specializace",experienceLevel:"rove zkuenost",yearsOfExperience:"Roky zkuenost",approach:"Pstup/Styl",description:"Popis",rate:"Sazba",availability:"Dostupnost",certifications:"Certifikace",media:"Fotky a videa",levels:{beginner:"Zatenk",intermediate:"Mrn pokroil",advanced:"Pokroil",professional:"Profesionl",master:"Mistr"},availabilityOptions:{fullTime:"Na pln vazek",partTime:"Na sten vazek",freelance:"Freelance",weekends:"Pouze vkendy",evenings:"Pouze veery",project:"Projektov"}},nG={title:"Najt talent",placeholder:"Hledat dovednosti, jmna, lokace...",filters:{category:"Kategorie",location:"Lokace",experience:"rove zkuenost",availability:"Dostupnost",priceRange:"Cenov rozpt"},results:"Nalezeno {{count}} vsledk",sortBy:"Seadit podle",sortOptions:{relevance:"Relevance",newest:"Nejnovj",experience:"Nejzkuenj",rating:"Nejlpe hodnocen"}},iG={title:"Pidat novou dovednost",editTitle:"Upravit dovednost",field:"Oblast",selectField:"Vyberte oblast",specialization:"Specializace",selectOption:"Vyberte monost",startedMonth:"Msc zahjen",startedYear:"Rok zahjen",experience:"Zkuenosti",invalidDate:"Neplatn datum",skillLevel:"rove dovednosti",selectLevel:"Vyberte rove",style:"Styl",styles:"Styly",addStyles:"Pidat styly...",details:"Podrobnosti",source:"Zdroj",selectSource:"Vyberte zdroj",influences:"Vlivy",addInfluences:"Pidat vzory...",equipment:"Vybaven",addEquipment:"Pidat vybaven...",practising:"Frekvence cvien",selectFrequency:"Vyberte frekvenci",extras:"Doplky",canReadNotes:"Um st noty",openForNudes:"Oteven/a pro akty",openForDisgrace:"Oteven/a pro nron role",youtubeLinks:"YouTube videa",addYoutubeLink:"Pidat YouTube odkaz",save:"Uloit dovednost"},rG={tagline:"Propojujeme performery s pleitostmi",about:"O UpRole",privacy:"Zsady ochrany osobnch daj",terms:"Podmnky sluby",contact:"Kontaktujte ns",copyright:" {{year}} UpRole. Vechna prva vyhrazena."},sG={common:WZ,nav:YZ,home:QZ,auth:XZ,profile:JZ,posts:eG,skill:tG,search:nG,skillForm:iG,footer:rG};Qi.use(FR).use(Ck).init({resources:{en:{translation:KZ},cs:{translation:sG}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});function aG(){const t=xa(e=>e.initialize);return U.useEffect(()=>{const e=t();return()=>e()},[t]),b.jsx(z2,{children:b.jsx(d2,{children:b.jsxs($r,{path:"/",element:b.jsx(rU,{}),children:[b.jsx($r,{index:!0,element:b.jsx(y9,{})}),b.jsx($r,{path:"search",element:b.jsx(C5,{})}),b.jsx($r,{path:"profile/edit",element:b.jsx(QB,{})}),b.jsx($r,{path:"profile/add-skill",element:b.jsx(kq,{})}),b.jsx($r,{path:"profile/edit-skill/:skillId",element:b.jsx(Pq,{})}),b.jsx($r,{path:"profile/:userId",element:b.jsx($T,{})}),b.jsx($r,{path:"messages",element:b.jsx(I1,{})}),b.jsx($r,{path:"messages/:conversationId",element:b.jsx(I1,{})}),b.jsx($r,{path:"login",element:b.jsx(bZ,{})}),b.jsx($r,{path:"register",element:b.jsx(EZ,{})}),b.jsx($r,{path:":profileSlug",element:b.jsx($T,{})})]})})})}dN.createRoot(document.getElementById("root")).render(b.jsx(U.StrictMode,{children:b.jsx(aG,{})}));
